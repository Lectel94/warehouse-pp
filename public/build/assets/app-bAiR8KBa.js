var or=Object.defineProperty;var ar=(n,t,e)=>t in n?or(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var ke=(n,t,e)=>ar(n,typeof t!="symbol"?t+"":t,e);function Us(n,t){return function(){return n.apply(t,arguments)}}const{toString:lr}=Object.prototype,{getPrototypeOf:kn}=Object,{iterator:Ft,toStringTag:Ys}=Symbol,Pt=(n=>t=>{const e=lr.call(t);return n[e]||(n[e]=e.slice(8,-1).toLowerCase())})(Object.create(null)),be=n=>(n=n.toLowerCase(),t=>Pt(t)===n),Nt=n=>t=>typeof t===n,{isArray:Ye}=Array,Qe=Nt("undefined");function cr(n){return n!==null&&!Qe(n)&&n.constructor!==null&&!Qe(n.constructor)&&le(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const zs=be("ArrayBuffer");function dr(n){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(n):t=n&&n.buffer&&zs(n.buffer),t}const ur=Nt("string"),le=Nt("function"),Ks=Nt("number"),Rt=n=>n!==null&&typeof n=="object",fr=n=>n===!0||n===!1,wt=n=>{if(Pt(n)!=="object")return!1;const t=kn(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Ys in n)&&!(Ft in n)},hr=be("Date"),pr=be("File"),gr=be("Blob"),mr=be("FileList"),vr=n=>Rt(n)&&le(n.pipe),br=n=>{let t;return n&&(typeof FormData=="function"&&n instanceof FormData||le(n.append)&&((t=Pt(n))==="formdata"||t==="object"&&le(n.toString)&&n.toString()==="[object FormData]"))},wr=be("URLSearchParams"),[yr,Or,Cr,Sr]=["ReadableStream","Request","Response","Headers"].map(be),Er=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function tt(n,t,{allOwnKeys:e=!1}={}){if(n===null||typeof n>"u")return;let s,i;if(typeof n!="object"&&(n=[n]),Ye(n))for(s=0,i=n.length;s<i;s++)t.call(null,n[s],s,n);else{const o=e?Object.getOwnPropertyNames(n):Object.keys(n),r=o.length;let l;for(s=0;s<r;s++)l=o[s],t.call(null,n[l],l,n)}}function Ws(n,t){t=t.toLowerCase();const e=Object.keys(n);let s=e.length,i;for(;s-- >0;)if(i=e[s],t===i.toLowerCase())return i;return null}const Ne=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Js=n=>!Qe(n)&&n!==Ne;function yn(){const{caseless:n}=Js(this)&&this||{},t={},e=(s,i)=>{const o=n&&Ws(t,i)||i;wt(t[o])&&wt(s)?t[o]=yn(t[o],s):wt(s)?t[o]=yn({},s):Ye(s)?t[o]=s.slice():t[o]=s};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&tt(arguments[s],e);return t}const Ar=(n,t,e,{allOwnKeys:s}={})=>(tt(t,(i,o)=>{e&&le(i)?n[o]=Us(i,e):n[o]=i},{allOwnKeys:s}),n),xr=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),_r=(n,t,e,s)=>{n.prototype=Object.create(t.prototype,s),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:t.prototype}),e&&Object.assign(n.prototype,e)},Dr=(n,t,e,s)=>{let i,o,r;const l={};if(t=t||{},n==null)return t;do{for(i=Object.getOwnPropertyNames(n),o=i.length;o-- >0;)r=i[o],(!s||s(r,n,t))&&!l[r]&&(t[r]=n[r],l[r]=!0);n=e!==!1&&kn(n)}while(n&&(!e||e(n,t))&&n!==Object.prototype);return t},Lr=(n,t,e)=>{n=String(n),(e===void 0||e>n.length)&&(e=n.length),e-=t.length;const s=n.indexOf(t,e);return s!==-1&&s===e},kr=n=>{if(!n)return null;if(Ye(n))return n;let t=n.length;if(!Ks(t))return null;const e=new Array(t);for(;t-- >0;)e[t]=n[t];return e},Tr=(n=>t=>n&&t instanceof n)(typeof Uint8Array<"u"&&kn(Uint8Array)),Ir=(n,t)=>{const s=(n&&n[Ft]).call(n);let i;for(;(i=s.next())&&!i.done;){const o=i.value;t.call(n,o[0],o[1])}},Mr=(n,t)=>{let e;const s=[];for(;(e=n.exec(t))!==null;)s.push(e);return s},Fr=be("HTMLFormElement"),Pr=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,s,i){return s.toUpperCase()+i}),zn=(({hasOwnProperty:n})=>(t,e)=>n.call(t,e))(Object.prototype),Nr=be("RegExp"),Gs=(n,t)=>{const e=Object.getOwnPropertyDescriptors(n),s={};tt(e,(i,o)=>{let r;(r=t(i,o,n))!==!1&&(s[o]=r||i)}),Object.defineProperties(n,s)},Rr=n=>{Gs(n,(t,e)=>{if(le(n)&&["arguments","caller","callee"].indexOf(e)!==-1)return!1;const s=n[e];if(le(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+e+"'")})}})},$r=(n,t)=>{const e={},s=i=>{i.forEach(o=>{e[o]=!0})};return Ye(n)?s(n):s(String(n).split(t)),e},Hr=()=>{},jr=(n,t)=>n!=null&&Number.isFinite(n=+n)?n:t;function Br(n){return!!(n&&le(n.append)&&n[Ys]==="FormData"&&n[Ft])}const Vr=n=>{const t=new Array(10),e=(s,i)=>{if(Rt(s)){if(t.indexOf(s)>=0)return;if(!("toJSON"in s)){t[i]=s;const o=Ye(s)?[]:{};return tt(s,(r,l)=>{const c=e(r,i+1);!Qe(c)&&(o[l]=c)}),t[i]=void 0,o}}return s};return e(n,0)},qr=be("AsyncFunction"),Ur=n=>n&&(Rt(n)||le(n))&&le(n.then)&&le(n.catch),Qs=((n,t)=>n?setImmediate:t?((e,s)=>(Ne.addEventListener("message",({source:i,data:o})=>{i===Ne&&o===e&&s.length&&s.shift()()},!1),i=>{s.push(i),Ne.postMessage(e,"*")}))(`axios@${Math.random()}`,[]):e=>setTimeout(e))(typeof setImmediate=="function",le(Ne.postMessage)),Yr=typeof queueMicrotask<"u"?queueMicrotask.bind(Ne):typeof process<"u"&&process.nextTick||Qs,zr=n=>n!=null&&le(n[Ft]),E={isArray:Ye,isArrayBuffer:zs,isBuffer:cr,isFormData:br,isArrayBufferView:dr,isString:ur,isNumber:Ks,isBoolean:fr,isObject:Rt,isPlainObject:wt,isReadableStream:yr,isRequest:Or,isResponse:Cr,isHeaders:Sr,isUndefined:Qe,isDate:hr,isFile:pr,isBlob:gr,isRegExp:Nr,isFunction:le,isStream:vr,isURLSearchParams:wr,isTypedArray:Tr,isFileList:mr,forEach:tt,merge:yn,extend:Ar,trim:Er,stripBOM:xr,inherits:_r,toFlatObject:Dr,kindOf:Pt,kindOfTest:be,endsWith:Lr,toArray:kr,forEachEntry:Ir,matchAll:Mr,isHTMLForm:Fr,hasOwnProperty:zn,hasOwnProp:zn,reduceDescriptors:Gs,freezeMethods:Rr,toObjectSet:$r,toCamelCase:Pr,noop:Hr,toFiniteNumber:jr,findKey:Ws,global:Ne,isContextDefined:Js,isSpecCompliantForm:Br,toJSONObject:Vr,isAsyncFn:qr,isThenable:Ur,setImmediate:Qs,asap:Yr,isIterable:zr};function $(n,t,e,s,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",t&&(this.code=t),e&&(this.config=e),s&&(this.request=s),i&&(this.response=i,this.status=i.status?i.status:null)}E.inherits($,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:E.toJSONObject(this.config),code:this.code,status:this.status}}});const Xs=$.prototype,Zs={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{Zs[n]={value:n}});Object.defineProperties($,Zs);Object.defineProperty(Xs,"isAxiosError",{value:!0});$.from=(n,t,e,s,i,o)=>{const r=Object.create(Xs);return E.toFlatObject(n,r,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),$.call(r,n.message,t,e,s,i),r.cause=n,r.name=n.name,o&&Object.assign(r,o),r};const Kr=null;function On(n){return E.isPlainObject(n)||E.isArray(n)}function ei(n){return E.endsWith(n,"[]")?n.slice(0,-2):n}function Kn(n,t,e){return n?n.concat(t).map(function(i,o){return i=ei(i),!e&&o?"["+i+"]":i}).join(e?".":""):t}function Wr(n){return E.isArray(n)&&!n.some(On)}const Jr=E.toFlatObject(E,{},null,function(t){return/^is[A-Z]/.test(t)});function $t(n,t,e){if(!E.isObject(n))throw new TypeError("target must be an object");t=t||new FormData,e=E.toFlatObject(e,{metaTokens:!0,dots:!1,indexes:!1},!1,function(O,a){return!E.isUndefined(a[O])});const s=e.metaTokens,i=e.visitor||g,o=e.dots,r=e.indexes,c=(e.Blob||typeof Blob<"u"&&Blob)&&E.isSpecCompliantForm(t);if(!E.isFunction(i))throw new TypeError("visitor must be a function");function d(b){if(b===null)return"";if(E.isDate(b))return b.toISOString();if(!c&&E.isBlob(b))throw new $("Blob is not supported. Use a Buffer instead.");return E.isArrayBuffer(b)||E.isTypedArray(b)?c&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function g(b,O,a){let f=b;if(b&&!a&&typeof b=="object"){if(E.endsWith(O,"{}"))O=s?O:O.slice(0,-2),b=JSON.stringify(b);else if(E.isArray(b)&&Wr(b)||(E.isFileList(b)||E.endsWith(O,"[]"))&&(f=E.toArray(b)))return O=ei(O),f.forEach(function(m,S){!(E.isUndefined(m)||m===null)&&t.append(r===!0?Kn([O],S,o):r===null?O:O+"[]",d(m))}),!1}return On(b)?!0:(t.append(Kn(a,O,o),d(b)),!1)}const v=[],y=Object.assign(Jr,{defaultVisitor:g,convertValue:d,isVisitable:On});function k(b,O){if(!E.isUndefined(b)){if(v.indexOf(b)!==-1)throw Error("Circular reference detected in "+O.join("."));v.push(b),E.forEach(b,function(f,u){(!(E.isUndefined(f)||f===null)&&i.call(t,f,E.isString(u)?u.trim():u,O,y))===!0&&k(f,O?O.concat(u):[u])}),v.pop()}}if(!E.isObject(n))throw new TypeError("data must be an object");return k(n),t}function Wn(n){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function Tn(n,t){this._pairs=[],n&&$t(n,this,t)}const ti=Tn.prototype;ti.append=function(t,e){this._pairs.push([t,e])};ti.toString=function(t){const e=t?function(s){return t.call(this,s,Wn)}:Wn;return this._pairs.map(function(i){return e(i[0])+"="+e(i[1])},"").join("&")};function Gr(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ni(n,t,e){if(!t)return n;const s=e&&e.encode||Gr;E.isFunction(e)&&(e={serialize:e});const i=e&&e.serialize;let o;if(i?o=i(t,e):o=E.isURLSearchParams(t)?t.toString():new Tn(t,e).toString(s),o){const r=n.indexOf("#");r!==-1&&(n=n.slice(0,r)),n+=(n.indexOf("?")===-1?"?":"&")+o}return n}class Jn{constructor(){this.handlers=[]}use(t,e,s){return this.handlers.push({fulfilled:t,rejected:e,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){E.forEach(this.handlers,function(s){s!==null&&t(s)})}}const si={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Qr=typeof URLSearchParams<"u"?URLSearchParams:Tn,Xr=typeof FormData<"u"?FormData:null,Zr=typeof Blob<"u"?Blob:null,eo={isBrowser:!0,classes:{URLSearchParams:Qr,FormData:Xr,Blob:Zr},protocols:["http","https","file","blob","url","data"]},In=typeof window<"u"&&typeof document<"u",Cn=typeof navigator=="object"&&navigator||void 0,to=In&&(!Cn||["ReactNative","NativeScript","NS"].indexOf(Cn.product)<0),no=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",so=In&&window.location.href||"http://localhost",io=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:In,hasStandardBrowserEnv:to,hasStandardBrowserWebWorkerEnv:no,navigator:Cn,origin:so},Symbol.toStringTag,{value:"Module"})),te={...io,...eo};function ro(n,t){return $t(n,new te.classes.URLSearchParams,Object.assign({visitor:function(e,s,i,o){return te.isNode&&E.isBuffer(e)?(this.append(s,e.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},t))}function oo(n){return E.matchAll(/\w+|\[(\w*)]/g,n).map(t=>t[0]==="[]"?"":t[1]||t[0])}function ao(n){const t={},e=Object.keys(n);let s;const i=e.length;let o;for(s=0;s<i;s++)o=e[s],t[o]=n[o];return t}function ii(n){function t(e,s,i,o){let r=e[o++];if(r==="__proto__")return!0;const l=Number.isFinite(+r),c=o>=e.length;return r=!r&&E.isArray(i)?i.length:r,c?(E.hasOwnProp(i,r)?i[r]=[i[r],s]:i[r]=s,!l):((!i[r]||!E.isObject(i[r]))&&(i[r]=[]),t(e,s,i[r],o)&&E.isArray(i[r])&&(i[r]=ao(i[r])),!l)}if(E.isFormData(n)&&E.isFunction(n.entries)){const e={};return E.forEachEntry(n,(s,i)=>{t(oo(s),i,e,0)}),e}return null}function lo(n,t,e){if(E.isString(n))try{return(t||JSON.parse)(n),E.trim(n)}catch(s){if(s.name!=="SyntaxError")throw s}return(e||JSON.stringify)(n)}const nt={transitional:si,adapter:["xhr","http","fetch"],transformRequest:[function(t,e){const s=e.getContentType()||"",i=s.indexOf("application/json")>-1,o=E.isObject(t);if(o&&E.isHTMLForm(t)&&(t=new FormData(t)),E.isFormData(t))return i?JSON.stringify(ii(t)):t;if(E.isArrayBuffer(t)||E.isBuffer(t)||E.isStream(t)||E.isFile(t)||E.isBlob(t)||E.isReadableStream(t))return t;if(E.isArrayBufferView(t))return t.buffer;if(E.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(o){if(s.indexOf("application/x-www-form-urlencoded")>-1)return ro(t,this.formSerializer).toString();if((l=E.isFileList(t))||s.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return $t(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return o||i?(e.setContentType("application/json",!1),lo(t)):t}],transformResponse:[function(t){const e=this.transitional||nt.transitional,s=e&&e.forcedJSONParsing,i=this.responseType==="json";if(E.isResponse(t)||E.isReadableStream(t))return t;if(t&&E.isString(t)&&(s&&!this.responseType||i)){const r=!(e&&e.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(l){if(r)throw l.name==="SyntaxError"?$.from(l,$.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:te.classes.FormData,Blob:te.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};E.forEach(["delete","get","head","post","put","patch"],n=>{nt.headers[n]={}});const co=E.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),uo=n=>{const t={};let e,s,i;return n&&n.split(`
`).forEach(function(r){i=r.indexOf(":"),e=r.substring(0,i).trim().toLowerCase(),s=r.substring(i+1).trim(),!(!e||t[e]&&co[e])&&(e==="set-cookie"?t[e]?t[e].push(s):t[e]=[s]:t[e]=t[e]?t[e]+", "+s:s)}),t},Gn=Symbol("internals");function Je(n){return n&&String(n).trim().toLowerCase()}function yt(n){return n===!1||n==null?n:E.isArray(n)?n.map(yt):String(n)}function fo(n){const t=Object.create(null),e=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=e.exec(n);)t[s[1]]=s[2];return t}const ho=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Qt(n,t,e,s,i){if(E.isFunction(s))return s.call(this,t,e);if(i&&(t=e),!!E.isString(t)){if(E.isString(s))return t.indexOf(s)!==-1;if(E.isRegExp(s))return s.test(t)}}function po(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,e,s)=>e.toUpperCase()+s)}function go(n,t){const e=E.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(n,s+e,{value:function(i,o,r){return this[s].call(this,t,i,o,r)},configurable:!0})})}let ce=class{constructor(t){t&&this.set(t)}set(t,e,s){const i=this;function o(l,c,d){const g=Je(c);if(!g)throw new Error("header name must be a non-empty string");const v=E.findKey(i,g);(!v||i[v]===void 0||d===!0||d===void 0&&i[v]!==!1)&&(i[v||c]=yt(l))}const r=(l,c)=>E.forEach(l,(d,g)=>o(d,g,c));if(E.isPlainObject(t)||t instanceof this.constructor)r(t,e);else if(E.isString(t)&&(t=t.trim())&&!ho(t))r(uo(t),e);else if(E.isObject(t)&&E.isIterable(t)){let l={},c,d;for(const g of t){if(!E.isArray(g))throw TypeError("Object iterator must return a key-value pair");l[d=g[0]]=(c=l[d])?E.isArray(c)?[...c,g[1]]:[c,g[1]]:g[1]}r(l,e)}else t!=null&&o(e,t,s);return this}get(t,e){if(t=Je(t),t){const s=E.findKey(this,t);if(s){const i=this[s];if(!e)return i;if(e===!0)return fo(i);if(E.isFunction(e))return e.call(this,i,s);if(E.isRegExp(e))return e.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=Je(t),t){const s=E.findKey(this,t);return!!(s&&this[s]!==void 0&&(!e||Qt(this,this[s],s,e)))}return!1}delete(t,e){const s=this;let i=!1;function o(r){if(r=Je(r),r){const l=E.findKey(s,r);l&&(!e||Qt(s,s[l],l,e))&&(delete s[l],i=!0)}}return E.isArray(t)?t.forEach(o):o(t),i}clear(t){const e=Object.keys(this);let s=e.length,i=!1;for(;s--;){const o=e[s];(!t||Qt(this,this[o],o,t,!0))&&(delete this[o],i=!0)}return i}normalize(t){const e=this,s={};return E.forEach(this,(i,o)=>{const r=E.findKey(s,o);if(r){e[r]=yt(i),delete e[o];return}const l=t?po(o):String(o).trim();l!==o&&delete e[o],e[l]=yt(i),s[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return E.forEach(this,(s,i)=>{s!=null&&s!==!1&&(e[i]=t&&E.isArray(s)?s.join(", "):s)}),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,e])=>t+": "+e).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const s=new this(t);return e.forEach(i=>s.set(i)),s}static accessor(t){const s=(this[Gn]=this[Gn]={accessors:{}}).accessors,i=this.prototype;function o(r){const l=Je(r);s[l]||(go(i,r),s[l]=!0)}return E.isArray(t)?t.forEach(o):o(t),this}};ce.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);E.reduceDescriptors(ce.prototype,({value:n},t)=>{let e=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(s){this[e]=s}}});E.freezeMethods(ce);function Xt(n,t){const e=this||nt,s=t||e,i=ce.from(s.headers);let o=s.data;return E.forEach(n,function(l){o=l.call(e,o,i.normalize(),t?t.status:void 0)}),i.normalize(),o}function ri(n){return!!(n&&n.__CANCEL__)}function ze(n,t,e){$.call(this,n??"canceled",$.ERR_CANCELED,t,e),this.name="CanceledError"}E.inherits(ze,$,{__CANCEL__:!0});function oi(n,t,e){const s=e.config.validateStatus;!e.status||!s||s(e.status)?n(e):t(new $("Request failed with status code "+e.status,[$.ERR_BAD_REQUEST,$.ERR_BAD_RESPONSE][Math.floor(e.status/100)-4],e.config,e.request,e))}function mo(n){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return t&&t[1]||""}function vo(n,t){n=n||10;const e=new Array(n),s=new Array(n);let i=0,o=0,r;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),g=s[o];r||(r=d),e[i]=c,s[i]=d;let v=o,y=0;for(;v!==i;)y+=e[v++],v=v%n;if(i=(i+1)%n,i===o&&(o=(o+1)%n),d-r<t)return;const k=g&&d-g;return k?Math.round(y*1e3/k):void 0}}function bo(n,t){let e=0,s=1e3/t,i,o;const r=(d,g=Date.now())=>{e=g,i=null,o&&(clearTimeout(o),o=null),n.apply(null,d)};return[(...d)=>{const g=Date.now(),v=g-e;v>=s?r(d,g):(i=d,o||(o=setTimeout(()=>{o=null,r(i)},s-v)))},()=>i&&r(i)]}const At=(n,t,e=3)=>{let s=0;const i=vo(50,250);return bo(o=>{const r=o.loaded,l=o.lengthComputable?o.total:void 0,c=r-s,d=i(c),g=r<=l;s=r;const v={loaded:r,total:l,progress:l?r/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&g?(l-r)/d:void 0,event:o,lengthComputable:l!=null,[t?"download":"upload"]:!0};n(v)},e)},Qn=(n,t)=>{const e=n!=null;return[s=>t[0]({lengthComputable:e,total:n,loaded:s}),t[1]]},Xn=n=>(...t)=>E.asap(()=>n(...t)),wo=te.hasStandardBrowserEnv?((n,t)=>e=>(e=new URL(e,te.origin),n.protocol===e.protocol&&n.host===e.host&&(t||n.port===e.port)))(new URL(te.origin),te.navigator&&/(msie|trident)/i.test(te.navigator.userAgent)):()=>!0,yo=te.hasStandardBrowserEnv?{write(n,t,e,s,i,o){const r=[n+"="+encodeURIComponent(t)];E.isNumber(e)&&r.push("expires="+new Date(e).toGMTString()),E.isString(s)&&r.push("path="+s),E.isString(i)&&r.push("domain="+i),o===!0&&r.push("secure"),document.cookie=r.join("; ")},read(n){const t=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Oo(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function Co(n,t){return t?n.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):n}function ai(n,t,e){let s=!Oo(t);return n&&(s||e==!1)?Co(n,t):t}const Zn=n=>n instanceof ce?{...n}:n;function $e(n,t){t=t||{};const e={};function s(d,g,v,y){return E.isPlainObject(d)&&E.isPlainObject(g)?E.merge.call({caseless:y},d,g):E.isPlainObject(g)?E.merge({},g):E.isArray(g)?g.slice():g}function i(d,g,v,y){if(E.isUndefined(g)){if(!E.isUndefined(d))return s(void 0,d,v,y)}else return s(d,g,v,y)}function o(d,g){if(!E.isUndefined(g))return s(void 0,g)}function r(d,g){if(E.isUndefined(g)){if(!E.isUndefined(d))return s(void 0,d)}else return s(void 0,g)}function l(d,g,v){if(v in t)return s(d,g);if(v in n)return s(void 0,d)}const c={url:o,method:o,data:o,baseURL:r,transformRequest:r,transformResponse:r,paramsSerializer:r,timeout:r,timeoutMessage:r,withCredentials:r,withXSRFToken:r,adapter:r,responseType:r,xsrfCookieName:r,xsrfHeaderName:r,onUploadProgress:r,onDownloadProgress:r,decompress:r,maxContentLength:r,maxBodyLength:r,beforeRedirect:r,transport:r,httpAgent:r,httpsAgent:r,cancelToken:r,socketPath:r,responseEncoding:r,validateStatus:l,headers:(d,g,v)=>i(Zn(d),Zn(g),v,!0)};return E.forEach(Object.keys(Object.assign({},n,t)),function(g){const v=c[g]||i,y=v(n[g],t[g],g);E.isUndefined(y)&&v!==l||(e[g]=y)}),e}const li=n=>{const t=$e({},n);let{data:e,withXSRFToken:s,xsrfHeaderName:i,xsrfCookieName:o,headers:r,auth:l}=t;t.headers=r=ce.from(r),t.url=ni(ai(t.baseURL,t.url,t.allowAbsoluteUrls),n.params,n.paramsSerializer),l&&r.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(E.isFormData(e)){if(te.hasStandardBrowserEnv||te.hasStandardBrowserWebWorkerEnv)r.setContentType(void 0);else if((c=r.getContentType())!==!1){const[d,...g]=c?c.split(";").map(v=>v.trim()).filter(Boolean):[];r.setContentType([d||"multipart/form-data",...g].join("; "))}}if(te.hasStandardBrowserEnv&&(s&&E.isFunction(s)&&(s=s(t)),s||s!==!1&&wo(t.url))){const d=i&&o&&yo.read(o);d&&r.set(i,d)}return t},So=typeof XMLHttpRequest<"u",Eo=So&&function(n){return new Promise(function(e,s){const i=li(n);let o=i.data;const r=ce.from(i.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=i,g,v,y,k,b;function O(){k&&k(),b&&b(),i.cancelToken&&i.cancelToken.unsubscribe(g),i.signal&&i.signal.removeEventListener("abort",g)}let a=new XMLHttpRequest;a.open(i.method.toUpperCase(),i.url,!0),a.timeout=i.timeout;function f(){if(!a)return;const m=ce.from("getAllResponseHeaders"in a&&a.getAllResponseHeaders()),L={data:!l||l==="text"||l==="json"?a.responseText:a.response,status:a.status,statusText:a.statusText,headers:m,config:n,request:a};oi(function(C){e(C),O()},function(C){s(C),O()},L),a=null}"onloadend"in a?a.onloadend=f:a.onreadystatechange=function(){!a||a.readyState!==4||a.status===0&&!(a.responseURL&&a.responseURL.indexOf("file:")===0)||setTimeout(f)},a.onabort=function(){a&&(s(new $("Request aborted",$.ECONNABORTED,n,a)),a=null)},a.onerror=function(){s(new $("Network Error",$.ERR_NETWORK,n,a)),a=null},a.ontimeout=function(){let S=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const L=i.transitional||si;i.timeoutErrorMessage&&(S=i.timeoutErrorMessage),s(new $(S,L.clarifyTimeoutError?$.ETIMEDOUT:$.ECONNABORTED,n,a)),a=null},o===void 0&&r.setContentType(null),"setRequestHeader"in a&&E.forEach(r.toJSON(),function(S,L){a.setRequestHeader(L,S)}),E.isUndefined(i.withCredentials)||(a.withCredentials=!!i.withCredentials),l&&l!=="json"&&(a.responseType=i.responseType),d&&([y,b]=At(d,!0),a.addEventListener("progress",y)),c&&a.upload&&([v,k]=At(c),a.upload.addEventListener("progress",v),a.upload.addEventListener("loadend",k)),(i.cancelToken||i.signal)&&(g=m=>{a&&(s(!m||m.type?new ze(null,n,a):m),a.abort(),a=null)},i.cancelToken&&i.cancelToken.subscribe(g),i.signal&&(i.signal.aborted?g():i.signal.addEventListener("abort",g)));const u=mo(i.url);if(u&&te.protocols.indexOf(u)===-1){s(new $("Unsupported protocol "+u+":",$.ERR_BAD_REQUEST,n));return}a.send(o||null)})},Ao=(n,t)=>{const{length:e}=n=n?n.filter(Boolean):[];if(t||e){let s=new AbortController,i;const o=function(d){if(!i){i=!0,l();const g=d instanceof Error?d:this.reason;s.abort(g instanceof $?g:new ze(g instanceof Error?g.message:g))}};let r=t&&setTimeout(()=>{r=null,o(new $(`timeout ${t} of ms exceeded`,$.ETIMEDOUT))},t);const l=()=>{n&&(r&&clearTimeout(r),r=null,n.forEach(d=>{d.unsubscribe?d.unsubscribe(o):d.removeEventListener("abort",o)}),n=null)};n.forEach(d=>d.addEventListener("abort",o));const{signal:c}=s;return c.unsubscribe=()=>E.asap(l),c}},xo=function*(n,t){let e=n.byteLength;if(e<t){yield n;return}let s=0,i;for(;s<e;)i=s+t,yield n.slice(s,i),s=i},_o=async function*(n,t){for await(const e of Do(n))yield*xo(e,t)},Do=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const t=n.getReader();try{for(;;){const{done:e,value:s}=await t.read();if(e)break;yield s}}finally{await t.cancel()}},es=(n,t,e,s)=>{const i=_o(n,t);let o=0,r,l=c=>{r||(r=!0,s&&s(c))};return new ReadableStream({async pull(c){try{const{done:d,value:g}=await i.next();if(d){l(),c.close();return}let v=g.byteLength;if(e){let y=o+=v;e(y)}c.enqueue(new Uint8Array(g))}catch(d){throw l(d),d}},cancel(c){return l(c),i.return()}},{highWaterMark:2})},Ht=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",ci=Ht&&typeof ReadableStream=="function",Lo=Ht&&(typeof TextEncoder=="function"?(n=>t=>n.encode(t))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),di=(n,...t)=>{try{return!!n(...t)}catch{return!1}},ko=ci&&di(()=>{let n=!1;const t=new Request(te.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!t}),ts=64*1024,Sn=ci&&di(()=>E.isReadableStream(new Response("").body)),xt={stream:Sn&&(n=>n.body)};Ht&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!xt[t]&&(xt[t]=E.isFunction(n[t])?e=>e[t]():(e,s)=>{throw new $(`Response type '${t}' is not supported`,$.ERR_NOT_SUPPORT,s)})})})(new Response);const To=async n=>{if(n==null)return 0;if(E.isBlob(n))return n.size;if(E.isSpecCompliantForm(n))return(await new Request(te.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(E.isArrayBufferView(n)||E.isArrayBuffer(n))return n.byteLength;if(E.isURLSearchParams(n)&&(n=n+""),E.isString(n))return(await Lo(n)).byteLength},Io=async(n,t)=>{const e=E.toFiniteNumber(n.getContentLength());return e??To(t)},Mo=Ht&&(async n=>{let{url:t,method:e,data:s,signal:i,cancelToken:o,timeout:r,onDownloadProgress:l,onUploadProgress:c,responseType:d,headers:g,withCredentials:v="same-origin",fetchOptions:y}=li(n);d=d?(d+"").toLowerCase():"text";let k=Ao([i,o&&o.toAbortSignal()],r),b;const O=k&&k.unsubscribe&&(()=>{k.unsubscribe()});let a;try{if(c&&ko&&e!=="get"&&e!=="head"&&(a=await Io(g,s))!==0){let L=new Request(t,{method:"POST",body:s,duplex:"half"}),D;if(E.isFormData(s)&&(D=L.headers.get("content-type"))&&g.setContentType(D),L.body){const[C,_]=Qn(a,At(Xn(c)));s=es(L.body,ts,C,_)}}E.isString(v)||(v=v?"include":"omit");const f="credentials"in Request.prototype;b=new Request(t,{...y,signal:k,method:e.toUpperCase(),headers:g.normalize().toJSON(),body:s,duplex:"half",credentials:f?v:void 0});let u=await fetch(b);const m=Sn&&(d==="stream"||d==="response");if(Sn&&(l||m&&O)){const L={};["status","statusText","headers"].forEach(x=>{L[x]=u[x]});const D=E.toFiniteNumber(u.headers.get("content-length")),[C,_]=l&&Qn(D,At(Xn(l),!0))||[];u=new Response(es(u.body,ts,C,()=>{_&&_(),O&&O()}),L)}d=d||"text";let S=await xt[E.findKey(xt,d)||"text"](u,n);return!m&&O&&O(),await new Promise((L,D)=>{oi(L,D,{data:S,headers:ce.from(u.headers),status:u.status,statusText:u.statusText,config:n,request:b})})}catch(f){throw O&&O(),f&&f.name==="TypeError"&&/Load failed|fetch/i.test(f.message)?Object.assign(new $("Network Error",$.ERR_NETWORK,n,b),{cause:f.cause||f}):$.from(f,f&&f.code,n,b)}}),En={http:Kr,xhr:Eo,fetch:Mo};E.forEach(En,(n,t)=>{if(n){try{Object.defineProperty(n,"name",{value:t})}catch{}Object.defineProperty(n,"adapterName",{value:t})}});const ns=n=>`- ${n}`,Fo=n=>E.isFunction(n)||n===null||n===!1,ui={getAdapter:n=>{n=E.isArray(n)?n:[n];const{length:t}=n;let e,s;const i={};for(let o=0;o<t;o++){e=n[o];let r;if(s=e,!Fo(e)&&(s=En[(r=String(e)).toLowerCase()],s===void 0))throw new $(`Unknown adapter '${r}'`);if(s)break;i[r||"#"+o]=s}if(!s){const o=Object.entries(i).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let r=t?o.length>1?`since :
`+o.map(ns).join(`
`):" "+ns(o[0]):"as no adapter specified";throw new $("There is no suitable adapter to dispatch the request "+r,"ERR_NOT_SUPPORT")}return s},adapters:En};function Zt(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new ze(null,n)}function ss(n){return Zt(n),n.headers=ce.from(n.headers),n.data=Xt.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),ui.getAdapter(n.adapter||nt.adapter)(n).then(function(s){return Zt(n),s.data=Xt.call(n,n.transformResponse,s),s.headers=ce.from(s.headers),s},function(s){return ri(s)||(Zt(n),s&&s.response&&(s.response.data=Xt.call(n,n.transformResponse,s.response),s.response.headers=ce.from(s.response.headers))),Promise.reject(s)})}const fi="1.9.0",jt={};["object","boolean","number","function","string","symbol"].forEach((n,t)=>{jt[n]=function(s){return typeof s===n||"a"+(t<1?"n ":" ")+n}});const is={};jt.transitional=function(t,e,s){function i(o,r){return"[Axios v"+fi+"] Transitional option '"+o+"'"+r+(s?". "+s:"")}return(o,r,l)=>{if(t===!1)throw new $(i(r," has been removed"+(e?" in "+e:"")),$.ERR_DEPRECATED);return e&&!is[r]&&(is[r]=!0,console.warn(i(r," has been deprecated since v"+e+" and will be removed in the near future"))),t?t(o,r,l):!0}};jt.spelling=function(t){return(e,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function Po(n,t,e){if(typeof n!="object")throw new $("options must be an object",$.ERR_BAD_OPTION_VALUE);const s=Object.keys(n);let i=s.length;for(;i-- >0;){const o=s[i],r=t[o];if(r){const l=n[o],c=l===void 0||r(l,o,n);if(c!==!0)throw new $("option "+o+" must be "+c,$.ERR_BAD_OPTION_VALUE);continue}if(e!==!0)throw new $("Unknown option "+o,$.ERR_BAD_OPTION)}}const Ot={assertOptions:Po,validators:jt},Ce=Ot.validators;let Re=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Jn,response:new Jn}}async request(t,e){try{return await this._request(t,e)}catch(s){if(s instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{s.stack?o&&!String(s.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+o):s.stack=o}catch{}}throw s}}_request(t,e){typeof t=="string"?(e=e||{},e.url=t):e=t||{},e=$e(this.defaults,e);const{transitional:s,paramsSerializer:i,headers:o}=e;s!==void 0&&Ot.assertOptions(s,{silentJSONParsing:Ce.transitional(Ce.boolean),forcedJSONParsing:Ce.transitional(Ce.boolean),clarifyTimeoutError:Ce.transitional(Ce.boolean)},!1),i!=null&&(E.isFunction(i)?e.paramsSerializer={serialize:i}:Ot.assertOptions(i,{encode:Ce.function,serialize:Ce.function},!0)),e.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?e.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:e.allowAbsoluteUrls=!0),Ot.assertOptions(e,{baseUrl:Ce.spelling("baseURL"),withXsrfToken:Ce.spelling("withXSRFToken")},!0),e.method=(e.method||this.defaults.method||"get").toLowerCase();let r=o&&E.merge(o.common,o[e.method]);o&&E.forEach(["delete","get","head","post","put","patch","common"],b=>{delete o[b]}),e.headers=ce.concat(r,o);const l=[];let c=!0;this.interceptors.request.forEach(function(O){typeof O.runWhen=="function"&&O.runWhen(e)===!1||(c=c&&O.synchronous,l.unshift(O.fulfilled,O.rejected))});const d=[];this.interceptors.response.forEach(function(O){d.push(O.fulfilled,O.rejected)});let g,v=0,y;if(!c){const b=[ss.bind(this),void 0];for(b.unshift.apply(b,l),b.push.apply(b,d),y=b.length,g=Promise.resolve(e);v<y;)g=g.then(b[v++],b[v++]);return g}y=l.length;let k=e;for(v=0;v<y;){const b=l[v++],O=l[v++];try{k=b(k)}catch(a){O.call(this,a);break}}try{g=ss.call(this,k)}catch(b){return Promise.reject(b)}for(v=0,y=d.length;v<y;)g=g.then(d[v++],d[v++]);return g}getUri(t){t=$e(this.defaults,t);const e=ai(t.baseURL,t.url,t.allowAbsoluteUrls);return ni(e,t.params,t.paramsSerializer)}};E.forEach(["delete","get","head","options"],function(t){Re.prototype[t]=function(e,s){return this.request($e(s||{},{method:t,url:e,data:(s||{}).data}))}});E.forEach(["post","put","patch"],function(t){function e(s){return function(o,r,l){return this.request($e(l||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:o,data:r}))}}Re.prototype[t]=e(),Re.prototype[t+"Form"]=e(!0)});let No=class hi{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let e;this.promise=new Promise(function(o){e=o});const s=this;this.promise.then(i=>{if(!s._listeners)return;let o=s._listeners.length;for(;o-- >0;)s._listeners[o](i);s._listeners=null}),this.promise.then=i=>{let o;const r=new Promise(l=>{s.subscribe(l),o=l}).then(i);return r.cancel=function(){s.unsubscribe(o)},r},t(function(o,r,l){s.reason||(s.reason=new ze(o,r,l),e(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);e!==-1&&this._listeners.splice(e,1)}toAbortSignal(){const t=new AbortController,e=s=>{t.abort(s)};return this.subscribe(e),t.signal.unsubscribe=()=>this.unsubscribe(e),t.signal}static source(){let t;return{token:new hi(function(i){t=i}),cancel:t}}};function Ro(n){return function(e){return n.apply(null,e)}}function $o(n){return E.isObject(n)&&n.isAxiosError===!0}const An={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(An).forEach(([n,t])=>{An[t]=n});function pi(n){const t=new Re(n),e=Us(Re.prototype.request,t);return E.extend(e,Re.prototype,t,{allOwnKeys:!0}),E.extend(e,t,null,{allOwnKeys:!0}),e.create=function(i){return pi($e(n,i))},e}const G=pi(nt);G.Axios=Re;G.CanceledError=ze;G.CancelToken=No;G.isCancel=ri;G.VERSION=fi;G.toFormData=$t;G.AxiosError=$;G.Cancel=G.CanceledError;G.all=function(t){return Promise.all(t)};G.spread=Ro;G.isAxiosError=$o;G.mergeConfig=$e;G.AxiosHeaders=ce;G.formToJSON=n=>ii(E.isHTMLForm(n)?new FormData(n):n);G.getAdapter=ui.getAdapter;G.HttpStatusCode=An;G.default=G;const{Axios:qd,AxiosError:Ud,CanceledError:Yd,isCancel:zd,CancelToken:Kd,VERSION:Wd,all:Jd,Cancel:Gd,isAxiosError:Qd,spread:Xd,toFormData:Zd,AxiosHeaders:eu,HttpStatusCode:tu,formToJSON:nu,getAdapter:su,mergeConfig:iu}=G;window.axios=G;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var Ho=Object.defineProperty,jo=(n,t,e)=>t in n?Ho(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,Ve=(n,t,e)=>jo(n,typeof t!="symbol"?t+"":t,e);document.addEventListener("alpine:init",()=>{window.Alpine.store("editOnClickValidation",{pending:[],set(n,t){this.pending=this.pending.filter(e=>e.value!==n),this.pending.push({value:n,textContent:t})},has(n){return this.pending.some(t=>t.value===n)},get(n){return this.pending.find(t=>t.value===n)},notContains(n){return this.pending.length>0&&!this.has(n)},clear(){this.pending=[]},getTextContent(n){const t=this.pending.find(e=>e.value===n);return t?t.textContent:null}}),window.editOnClickValidation=window.Alpine.store("editOnClickValidation")});document.addEventListener("alpine:init",()=>{window.Alpine.store("pgBulkActions",{selected:[],init(){window.addEventListener("pgBulkActions::addMore",n=>{const t=n.__livewire.params[0];typeof this.selected[t.tableName]>"u"&&(this.selected[t.tableName]=[]),this.selected[t.tableName].push(t.value)}),window.addEventListener("pgBulkActions::clear",n=>{this.clear(n.detail)}),window.addEventListener("pgBulkActions::clearAll",()=>{this.clearAll()})},add(n,t){if(typeof this.selected[t]>"u"&&(this.selected[t]=[]),!this.selected[t].includes(n)){this.selected[t].push(n);return}this.remove(n,t)},remove(n,t){const e=this.selected[t].indexOf(n);e>-1&&this.selected[t].splice(e,1)},get(n){return this.selected[n]??""},count(n){return typeof this.selected[n]>"u"?0:this.selected[n].length},clear(n){this.selected[n]=[]},clearAll(){this.selected=[]}}),window.pgBulkActions=window.Alpine.store("pgBulkActions")});const Bo=n=>({field:n.field??null,tableName:n.tableName??null,enabled:n.enabled??!1,id:n.id,trueValue:n.trueValue,falseValue:n.falseValue,toggle:n.toggle,save(){this.toggle=this.toggle===0?1:0,this.$wire.dispatch("pg:toggleable-"+this.tableName,{id:this.id,field:this.field,value:this.toggle})}}),Vo=(n,t,e)=>{const s=n[t];return s?typeof s=="function"?s():Promise.resolve(s):new Promise((i,o)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(o.bind(null,new Error("Unknown variable dynamic import: "+t+(t.split("/").length!==e?". Note that variables only represent file names one level deep.":""))))})},qo=n=>({dataField:n.dataField,tableName:n.tableName,label:n.label??null,locale:n.locale??{locale:"default",dateFormat:"Y-m-d H:i",time_24hr:!1,enableTime:!0},onlyFuture:n.onlyFuture??!1,noWeekEnds:n.noWeekEnds??!1,customConfig:n.customConfig??null,type:n.type,element:null,selectedDates:null,async init(){typeof flatpickr>"u"&&(console.log("%c%s","color: #f59e0c; font-size: 1.2em; font-weight: bold; line-height: 1.5"," PowerGrid"),console.error("%c%s","font-size: 1em; line-height: 1.5",`
Failed to mount filter: Filter::datetime('${this.dataField}') on table ['${this.tableName}']

• Install flatpickr: npm install flatpickr

• Add 'import flatpickr from "flatpickr"' in resources/js/app.js file
  `)),window.addEventListener(`pg:clear_flatpickr::${this.tableName}:${this.dataField}`,()=>{this.$refs.rangeInput&&this.element&&this.element.clear()}),window.addEventListener(`pg:clear_all_flatpickr::${this.tableName}`,()=>{this.$refs.rangeInput&&this.element&&this.element.clear()});try{const e=await Vo(Object.assign({}),`./flatpickr/dist/l10n/${this.locale.locale}.js`,5);flatpickr.localize(e.default||e)}catch{}const t=this.getOptions();this.$refs.rangeInput&&typeof flatpickr<"u"&&(this.element=flatpickr(this.$refs.rangeInput,t),this.selectedDates=this.$wire.get(`filters.${this.type}.${this.dataField}.formatted`),this.element.setDate(this.selectedDates))},getOptions(){const t={mode:"range",defaultHour:0,...this.locale,...this.customConfig};return this.onlyFuture&&(t.minDate="today"),this.noWeekEnds&&(t.disable=[function(e){return e.getDay()===0||e.getDay()===6}]),t.onClose=(e,s,i)=>{e=e.map(o=>this.element.formatDate(o,"Y-m-d")),e.length>0&&this.selectedDates!==s&&Livewire.dispatch("pg:datePicker-"+this.tableName,{selectedDates:e,dateStr:s,timezone:this.customConfig.timezone??new Date().toString().match(/([-\+][0-9]+)\s/)[1],type:this.type,field:this.dataField,label:this.label})},t}}),Uo=n=>({theme:n.theme,id:n.id??null,dataField:n.dataField??null,content:n.content,fallback:n.fallback,inputClass:n.inputClass,saveOnMouseOut:n.saveOnMouseOut,oldContent:null,editable:!1,hash:null,hashError:!0,showEditable:!1,editableInput:"",init(){this.content.length===0&&this.fallback&&(this.content=this.htmlSpecialChars(this.fallback)),this.hash=this.dataField+"-"+this.id,window.addEventListener("toggle-"+this.hash,()=>{this.observe(()=>document.getElementById("clickable-"+this.hash),t=>{t.click(),this.observe(()=>document.getElementById("editable-"+this.hash),e=>{setTimeout(()=>this.setFocusToEnd(e),100)})})}),this.$watch("editable",t=>{if(t){let e=!1;if(this.showEditable=!1,this.content=this.htmlSpecialChars(this.content),this.oldContent=this.content,this.hashError=this.store().notContains(this.hash),this.observe(()=>document.getElementById("editable-"+this.hash),s=>{setTimeout(()=>{this.setFocusToEnd(s),this.store().getTextContent(this.hash)&&(s.textContent=this.store().getTextContent(this.hash))},30)}),this.hashError){const s=this.store().get(this.hash),i=document.getElementById("clickable-"+s);i&&i.click()}e=!0,this.editableInput=`
                <div
                    x-ref="editable"
                    x-text="content"
                    value="${this.content}"
                    placeholder="${this.content}"
                    contenteditable
                    class="pg-single-line ${this.inputClass}"
                    ${this.saveOnMouseOut?'x-on:mousedown.outside="save()"':""}
                    x-on:keydown.enter="save()"
                    id="${"editable-"+this.dataField+"-"+this.id}"
                    x-on:keydown.esc="cancel"
                >
                </div>`,this.$nextTick(()=>setTimeout(()=>{this.showEditable=e,this.focus()},150))}}),this.content=this.htmlSpecialChars(this.content)},store(){return window.editOnClickValidation},save(){this.store().clear(),this.store().set(this.hash,this.$el.textContent),this.observe(()=>document.getElementById("clickable-"+this.hash),t=>{t.textContent=this.$el.textContent}),window.addEventListener("pg:editable-close-"+this.id,()=>{this.store().clear(),this.editable=!1,this.showEditable=!1}),this.store().has(this.hash)||this.store().set(this.hash,this.$el.textContent),this.$wire.dispatch("pg:editable-"+this.$wire.tableName,{id:this.id,value:this.$el.textContent,field:this.dataField}),this.oldContent=this.store().getTextContent(this.hash),this.$nextTick(()=>{this.focus(),this.$el.setAttribute("value","")}),this.content=this.htmlSpecialChars(this.$el.textContent)},focus(){this.setFocusToEnd(this.$el)},cancel(){this.store().clear(),this.$refs.editable.textContent=this.oldContent,this.content=this.oldContent,this.editable=!1,this.showEditable=!1,this.$refs.error&&(this.$refs.error.innerHTML="")},htmlSpecialChars(t){const e=document.createElement("div");return e.innerHTML=t,e.textContent},observe(t,e){new MutationObserver((s,i)=>{for(let o of s)if(o.type==="childList"){const r=t();if(r){e(r),i.disconnect();break}}}).observe(document.body,{childList:!0,subtree:!0})},setFocusToEnd(t){if(!t)return;const e=window.getSelection(),s=document.createRange();s.selectNodeContents(t),s.collapse(!1),e.removeAllRanges(),e.addRange(s),t.focus()}});function Yo(n){n.querySelectorAll("tbody tr td").forEach(t=>{t.classList.remove("hidden")}),n.querySelectorAll("thead tr th").forEach(t=>{t.classList.remove("hidden")})}function zo(n){let t=0;const e=n.querySelectorAll("table thead tr:nth-child(1) th[fixed]"),s=xn(n);return e.forEach(i=>{t+=xn(i)}),s-t}function Ko(n,t){const e=[].slice.call(n.querySelectorAll("table thead tr:nth-child(1) th")),s=[].slice.call(e).sort(function(l,c){const d=l.getAttribute("sort_order")??999,g=c.getAttribute("sort_order")??999;return d-g});let i=0,o=!0;const r=[];return s.forEach(l=>{const c=xn(l);l.getAttribute("fixed")===null&&(o&&i<=t&&i+c<=t?i+=c:(r.push(e.indexOf(l)+1),o=!1))}),r}function Wo(n,t){for(const e of t)n.querySelectorAll(`tbody:not(tbody[expand]) tr td:nth-child(${e})`).forEach(s=>{s.classList.add("hidden")}),n.querySelectorAll(`thead tr th:nth-child(${e})`).forEach(s=>{s.classList.add("hidden")})}function Jo(n,t){var e,s;if(n.querySelectorAll("table tbody[expand] tr td div").length){for(const i of n.querySelectorAll("table tbody[expand] tr td div"))i.innerHTML="";if(t.length)for(const i of t){const o=n.querySelectorAll("table tbody:not(tbody[expand])");for(const r of o){const l=(e=r.nextElementSibling)==null?void 0:e.querySelector("tr td div");if(!l)continue;let c=n.querySelector(`table thead tr th:nth-child(${i}) span[data-value]`).textContent;const d=(s=r.querySelector(`tr:last-child td:nth-child(${i})`))==null?void 0:s.innerHTML;c.length&&(c+=":"),l.querySelector(`div[data-expand-item-${i}]`)||(l.innerHTML+=`<div class="responsive-row-expand-item-container" data-expand-item-${i}>
                    <span class="font-bold responsive-row-expand-item-name">${c}</span>
                    <span class="responsive-row-expand-item-value">${d}</span>
                </div>`)}}}}function xn(n){return parseFloat(n.getBoundingClientRect().width.toFixed(2))}function Go(n){Yo(n);const t=zo(n),e=Ko(n,t);Jo(n,e),Wo(n,e)}const Qo=()=>({running:!1,expanded:null,element:null,hasHiddenElements:!1,size:0,toggleExpanded(n){this.expanded=this.expanded==n?null:n},init(){this.$nextTick(()=>{this.handleResize(),this.observeElement(),window.addEventListener("pg-livewire-request-finished",()=>{setTimeout(()=>this.handleResize(),5)})})},handleResize(){var n;const t=this.$el;Go(t),this.hasHiddenElements=(n=t.querySelector("table tbody[expand] tr td div"))==null?void 0:n.innerHTML,this.hasHiddenElements||(this.expanded=null)},observeElement(){new ResizeObserver(n=>{n.forEach(t=>{if(t.contentRect.width>0){if(this.size===this.$el.getBoundingClientRect().width)return;this.size=this.$el.getBoundingClientRect().width,this.handleResize()}})}).observe(this.$el)}}),Xo=(n,t,e)=>{Livewire.dispatch(`${n}-${t.tableName}`,{label:t.label,field:t.dataField,values:e})},gi=(n,t)=>{Xo("pg:multiSelect",n,t)};function en(n,t){n.split(/\s+/).forEach(e=>{t(e)})}class Zo{constructor(){this._events={}}on(t,e){en(t,s=>{const i=this._events[s]||[];i.push(e),this._events[s]=i})}off(t,e){var s=arguments.length;if(s===0){this._events={};return}en(t,i=>{if(s===1){delete this._events[i];return}const o=this._events[i];o!==void 0&&(o.splice(o.indexOf(e),1),this._events[i]=o)})}trigger(t,...e){var s=this;en(t,i=>{const o=s._events[i];o!==void 0&&o.forEach(r=>{r.apply(s,e)})})}}function ea(n){return n.plugins={},class extends n{constructor(){super(...arguments),this.plugins={names:[],settings:{},requested:{},loaded:{}}}static define(t,e){n.plugins[t]={name:t,fn:e}}initializePlugins(t){var e,s;const i=this,o=[];if(Array.isArray(t))t.forEach(r=>{typeof r=="string"?o.push(r):(i.plugins.settings[r.name]=r.options,o.push(r.name))});else if(t)for(e in t)t.hasOwnProperty(e)&&(i.plugins.settings[e]=t[e],o.push(e));for(;s=o.shift();)i.require(s)}loadPlugin(t){var e=this,s=e.plugins,i=n.plugins[t];if(!n.plugins.hasOwnProperty(t))throw new Error('Unable to find "'+t+'" plugin');s.requested[t]=!0,s.loaded[t]=i.fn.apply(e,[e.plugins.settings[t]||{}]),s.names.push(t)}require(t){var e=this,s=e.plugins;if(!e.plugins.loaded.hasOwnProperty(t)){if(s.requested[t])throw new Error('Plugin has circular dependency ("'+t+'")');e.loadPlugin(t)}return s.loaded[t]}}}const Bt=n=>(n=n.filter(Boolean),n.length<2?n[0]||"":na(n)==1?"["+n.join("")+"]":"(?:"+n.join("|")+")"),mi=n=>{if(!ta(n))return n.join("");let t="",e=0;const s=()=>{e>1&&(t+="{"+e+"}")};return n.forEach((i,o)=>{if(i===n[o-1]){e++;return}s(),t+=i,e=1}),s(),t},vi=n=>{let t=Array.from(n);return Bt(t)},ta=n=>new Set(n).size!==n.length,Xe=n=>(n+"").replace(/([\$\(\)\*\+\.\?\[\]\^\{\|\}\\])/gu,"\\$1"),na=n=>n.reduce((t,e)=>Math.max(t,sa(e)),0),sa=n=>Array.from(n).length,bi=n=>{if(n.length===1)return[[n]];let t=[];const e=n.substring(1);return bi(e).forEach(function(s){let i=s.slice(0);i[0]=n.charAt(0)+i[0],t.push(i),i=s.slice(0),i.unshift(n.charAt(0)),t.push(i)}),t},ia=[[0,65535]],ra="[̀-ͯ·ʾʼ]";let _t,wi;const oa=3,Mn={},rs={"/":"⁄∕",0:"߀",a:"ⱥɐɑ",aa:"ꜳ",ae:"æǽǣ",ao:"ꜵ",au:"ꜷ",av:"ꜹꜻ",ay:"ꜽ",b:"ƀɓƃ",c:"ꜿƈȼↄ",d:"đɗɖᴅƌꮷԁɦ",e:"ɛǝᴇɇ",f:"ꝼƒ",g:"ǥɠꞡᵹꝿɢ",h:"ħⱨⱶɥ",i:"ɨı",j:"ɉȷ",k:"ƙⱪꝁꝃꝅꞣ",l:"łƚɫⱡꝉꝇꞁɭ",m:"ɱɯϻ",n:"ꞥƞɲꞑᴎлԉ",o:"øǿɔɵꝋꝍᴑ",oe:"œ",oi:"ƣ",oo:"ꝏ",ou:"ȣ",p:"ƥᵽꝑꝓꝕρ",q:"ꝗꝙɋ",r:"ɍɽꝛꞧꞃ",s:"ßȿꞩꞅʂ",t:"ŧƭʈⱦꞇ",th:"þ",tz:"ꜩ",u:"ʉ",v:"ʋꝟʌ",vy:"ꝡ",w:"ⱳ",y:"ƴɏỿ",z:"ƶȥɀⱬꝣ",hv:"ƕ"};for(let n in rs){let t=rs[n]||"";for(let e=0;e<t.length;e++){let s=t.substring(e,e+1);Mn[s]=n}}const aa=new RegExp(Object.keys(Mn).join("|")+"|"+ra,"gu"),la=n=>{_t===void 0&&(_t=fa(ia))},os=(n,t="NFKD")=>n.normalize(t),Dt=n=>Array.from(n).reduce((t,e)=>t+ca(e),""),ca=n=>(n=os(n).toLowerCase().replace(aa,t=>Mn[t]||""),os(n,"NFC"));function*da(n){for(const[t,e]of n)for(let s=t;s<=e;s++){let i=String.fromCharCode(s),o=Dt(i);o!=i.toLowerCase()&&(o.length>oa||o.length!=0&&(yield{folded:o,composed:i,code_point:s}))}}const ua=n=>{const t={},e=(s,i)=>{const o=t[s]||new Set,r=new RegExp("^"+vi(o)+"$","iu");i.match(r)||(o.add(Xe(i)),t[s]=o)};for(let s of da(n))e(s.folded,s.folded),e(s.folded,s.composed);return t},fa=n=>{const t=ua(n),e={};let s=[];for(let o in t){let r=t[o];r&&(e[o]=vi(r)),o.length>1&&s.push(Xe(o))}s.sort((o,r)=>r.length-o.length);const i=Bt(s);return wi=new RegExp("^"+i,"u"),e},ha=(n,t=1)=>{let e=0;return n=n.map(s=>(_t[s]&&(e+=s.length),_t[s]||s)),e>=t?mi(n):""},pa=(n,t=1)=>(t=Math.max(t,n.length-1),Bt(bi(n).map(e=>ha(e,t)))),as=(n,t=!0)=>{let e=n.length>1?1:0;return Bt(n.map(s=>{let i=[];const o=t?s.length():s.length()-1;for(let r=0;r<o;r++)i.push(pa(s.substrs[r]||"",e));return mi(i)}))},ga=(n,t)=>{for(const e of t){if(e.start!=n.start||e.end!=n.end||e.substrs.join("")!==n.substrs.join(""))continue;let s=n.parts;const i=o=>{for(const r of s){if(r.start===o.start&&r.substr===o.substr)return!1;if(!(o.length==1||r.length==1)&&(o.start<r.start&&o.end>r.start||r.start<o.start&&r.end>o.start))return!0}return!1};if(!(e.parts.filter(i).length>0))return!0}return!1};class Lt{constructor(){Ve(this,"parts"),Ve(this,"substrs"),Ve(this,"start"),Ve(this,"end"),this.parts=[],this.substrs=[],this.start=0,this.end=0}add(t){t&&(this.parts.push(t),this.substrs.push(t.substr),this.start=Math.min(t.start,this.start),this.end=Math.max(t.end,this.end))}last(){return this.parts[this.parts.length-1]}length(){return this.parts.length}clone(t,e){let s=new Lt,i=JSON.parse(JSON.stringify(this.parts)),o=i.pop();for(const c of i)s.add(c);let r=e.substr.substring(0,t-o.start),l=r.length;return s.add({start:o.start,end:o.start+l,length:l,substr:r}),s}}const ma=n=>{la(),n=Dt(n);let t="",e=[new Lt];for(let s=0;s<n.length;s++){let i=n.substring(s).match(wi);const o=n.substring(s,s+1),r=i?i[0]:null;let l=[],c=new Set;for(const d of e){const g=d.last();if(!g||g.length==1||g.end<=s)if(r){const v=r.length;d.add({start:s,end:s+v,length:v,substr:r}),c.add("1")}else d.add({start:s,end:s+1,length:1,substr:o}),c.add("2");else if(r){let v=d.clone(s,g);const y=r.length;v.add({start:s,end:s+y,length:y,substr:r}),l.push(v)}else c.add("3")}if(l.length>0){l=l.sort((d,g)=>d.length()-g.length());for(let d of l)ga(d,e)||e.push(d);continue}if(s>0&&c.size==1&&!c.has("3")){t+=as(e,!1);let d=new Lt;const g=e[0];g&&d.add(g.last()),e=[d]}}return t+=as(e,!0),t},va=(n,t)=>{if(n)return n[t]},ba=(n,t)=>{if(n){for(var e,s=t.split(".");(e=s.shift())&&(n=n[e]););return n}},tn=(n,t,e)=>{var s,i;return!n||(n=n+"",t.regex==null)||(i=n.search(t.regex),i===-1)?0:(s=t.string.length/n.length,i===0&&(s+=.5),s*e)},nn=(n,t)=>{var e=n[t];if(typeof e=="function")return e;e&&!Array.isArray(e)&&(n[t]=[e])},ct=(n,t)=>{if(Array.isArray(n))n.forEach(t);else for(var e in n)n.hasOwnProperty(e)&&t(n[e],e)},wa=(n,t)=>typeof n=="number"&&typeof t=="number"?n>t?1:n<t?-1:0:(n=Dt(n+"").toLowerCase(),t=Dt(t+"").toLowerCase(),n>t?1:t>n?-1:0);class ya{constructor(t,e){Ve(this,"items"),Ve(this,"settings"),this.items=t,this.settings=e||{diacritics:!0}}tokenize(t,e,s){if(!t||!t.length)return[];const i=[],o=t.split(/\s+/);var r;return s&&(r=new RegExp("^("+Object.keys(s).map(Xe).join("|")+"):(.*)$")),o.forEach(l=>{let c,d=null,g=null;r&&(c=l.match(r))&&(d=c[1],l=c[2]),l.length>0&&(this.settings.diacritics?g=ma(l)||null:g=Xe(l),g&&e&&(g="\\b"+g)),i.push({string:l,regex:g?new RegExp(g,"iu"):null,field:d})}),i}getScoreFunction(t,e){var s=this.prepareSearch(t,e);return this._getScoreFunction(s)}_getScoreFunction(t){const e=t.tokens,s=e.length;if(!s)return function(){return 0};const i=t.options.fields,o=t.weights,r=i.length,l=t.getAttrFn;if(!r)return function(){return 1};const c=function(){return r===1?function(d,g){const v=i[0].field;return tn(l(g,v),d,o[v]||1)}:function(d,g){var v=0;if(d.field){const y=l(g,d.field);!d.regex&&y?v+=1/r:v+=tn(y,d,1)}else ct(o,(y,k)=>{v+=tn(l(g,k),d,y)});return v/r}}();return s===1?function(d){return c(e[0],d)}:t.options.conjunction==="and"?function(d){var g,v=0;for(let y of e){if(g=c(y,d),g<=0)return 0;v+=g}return v/s}:function(d){var g=0;return ct(e,v=>{g+=c(v,d)}),g/s}}getSortFunction(t,e){var s=this.prepareSearch(t,e);return this._getSortFunction(s)}_getSortFunction(t){var e,s=[];const i=this,o=t.options,r=!t.query&&o.sort_empty?o.sort_empty:o.sort;if(typeof r=="function")return r.bind(this);const l=function(c,d){return c==="$score"?d.score:t.getAttrFn(i.items[d.id],c)};if(r)for(let c of r)(t.query||c.field!=="$score")&&s.push(c);if(t.query){e=!0;for(let c of s)if(c.field==="$score"){e=!1;break}e&&s.unshift({field:"$score",direction:"desc"})}else s=s.filter(c=>c.field!=="$score");return s.length?function(c,d){var g,v;for(let y of s)if(v=y.field,g=(y.direction==="desc"?-1:1)*wa(l(v,c),l(v,d)),g)return g;return 0}:null}prepareSearch(t,e){const s={};var i=Object.assign({},e);if(nn(i,"sort"),nn(i,"sort_empty"),i.fields){nn(i,"fields");const o=[];i.fields.forEach(r=>{typeof r=="string"&&(r={field:r,weight:1}),o.push(r),s[r.field]="weight"in r?r.weight:1}),i.fields=o}return{options:i,query:t.toLowerCase().trim(),tokens:this.tokenize(t,i.respect_word_boundaries,s),total:0,items:[],weights:s,getAttrFn:i.nesting?ba:va}}search(t,e){var s=this,i,o;o=this.prepareSearch(t,e),e=o.options,t=o.query;const r=e.score||s._getScoreFunction(o);t.length?ct(s.items,(c,d)=>{i=r(c),(e.filter===!1||i>0)&&o.items.push({score:i,id:d})}):ct(s.items,(c,d)=>{o.items.push({score:1,id:d})});const l=s._getSortFunction(o);return l&&o.items.sort(l),o.total=o.items.length,typeof e.limit=="number"&&(o.items=o.items.slice(0,e.limit)),o}}const me=n=>typeof n>"u"||n===null?null:Ct(n),Ct=n=>typeof n=="boolean"?n?"1":"0":n+"",sn=n=>(n+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),Oa=(n,t)=>t>0?window.setTimeout(n,t):(n.call(null),null),Ca=(n,t)=>{var e;return function(s,i){var o=this;e&&(o.loading=Math.max(o.loading-1,0),clearTimeout(e)),e=setTimeout(function(){e=null,o.loadedSearches[s]=!0,n.call(o,s,i)},t)}},ls=(n,t,e)=>{var s,i=n.trigger,o={};n.trigger=function(){var r=arguments[0];if(t.indexOf(r)!==-1)o[r]=arguments;else return i.apply(n,arguments)},e.apply(n,[]),n.trigger=i;for(s of t)s in o&&i.apply(n,o[s])},Sa=n=>({start:n.selectionStart||0,length:(n.selectionEnd||0)-(n.selectionStart||0)}),J=(n,t=!1)=>{n&&(n.preventDefault(),t&&n.stopPropagation())},ne=(n,t,e,s)=>{n.addEventListener(t,e,s)},Te=(n,t)=>{if(!t||!t[n])return!1;var e=(t.altKey?1:0)+(t.ctrlKey?1:0)+(t.shiftKey?1:0)+(t.metaKey?1:0);return e===1},rn=(n,t)=>n.getAttribute("id")||(n.setAttribute("id",t),t),cs=n=>n.replace(/[\\"']/g,"\\$&"),Ie=(n,t)=>{t&&n.append(t)},X=(n,t)=>{if(Array.isArray(n))n.forEach(t);else for(var e in n)n.hasOwnProperty(e)&&t(n[e],e)},Se=n=>{if(n.jquery)return n[0];if(n instanceof HTMLElement)return n;if(yi(n)){var t=document.createElement("template");return t.innerHTML=n.trim(),t.content.firstChild}return document.querySelector(n)},yi=n=>typeof n=="string"&&n.indexOf("<")>-1,Ea=n=>n.replace(/['"\\]/g,"\\$&"),on=(n,t)=>{var e=document.createEvent("HTMLEvents");e.initEvent(t,!0,!1),n.dispatchEvent(e)},dt=(n,t)=>{Object.assign(n.style,t)},ue=(n,...t)=>{var e=Oi(t);n=Ci(n),n.map(s=>{e.map(i=>{s.classList.add(i)})})},_e=(n,...t)=>{var e=Oi(t);n=Ci(n),n.map(s=>{e.map(i=>{s.classList.remove(i)})})},Oi=n=>{var t=[];return X(n,e=>{typeof e=="string"&&(e=e.trim().split(/[\t\n\f\r\s]/)),Array.isArray(e)&&(t=t.concat(e))}),t.filter(Boolean)},Ci=n=>(Array.isArray(n)||(n=[n]),n),an=(n,t,e)=>{if(!(e&&!e.contains(n)))for(;n&&n.matches;){if(n.matches(t))return n;n=n.parentNode}},ds=(n,t=0)=>t>0?n[n.length-1]:n[0],Aa=n=>Object.keys(n).length===0,us=(n,t)=>{if(!n)return-1;t=t||n.nodeName;for(var e=0;n=n.previousElementSibling;)n.matches(t)&&e++;return e},Y=(n,t)=>{X(t,(e,s)=>{e==null?n.removeAttribute(s):n.setAttribute(s,""+e)})},_n=(n,t)=>{n.parentNode&&n.parentNode.replaceChild(t,n)},xa=(n,t)=>{if(t===null)return;if(typeof t=="string"){if(!t.length)return;t=new RegExp(t,"i")}const e=o=>{var r=o.data.match(t);if(r&&o.data.length>0){var l=document.createElement("span");l.className="highlight";var c=o.splitText(r.index);c.splitText(r[0].length);var d=c.cloneNode(!0);return l.appendChild(d),_n(c,l),1}return 0},s=o=>{o.nodeType===1&&o.childNodes&&!/(script|style)/i.test(o.tagName)&&(o.className!=="highlight"||o.tagName!=="SPAN")&&Array.from(o.childNodes).forEach(r=>{i(r)})},i=o=>o.nodeType===3?e(o):(s(o),0);i(n)},_a=n=>{var t=n.querySelectorAll("span.highlight");Array.prototype.forEach.call(t,function(e){var s=e.parentNode;s.replaceChild(e.firstChild,e),s.normalize()})},Da=65,La=13,ka=27,Ta=37,Ia=38,Ma=39,Fa=40,fs=8,Pa=46,hs=9,Na=typeof navigator>"u"?!1:/Mac/.test(navigator.userAgent),ut=Na?"metaKey":"ctrlKey",ps={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:null,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,shouldOpen:null,maxOptions:50,maxItems:null,hideSelected:null,duplicates:!1,addPrecedence:!1,selectOnTab:!1,preload:null,allowEmptyOption:!1,refreshThrottle:300,loadThrottle:300,loadingClass:"loading",dataAttr:null,optgroupField:"optgroup",valueField:"value",labelField:"text",disabledField:"disabled",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"ts-wrapper",controlClass:"ts-control",dropdownClass:"ts-dropdown",dropdownContentClass:"ts-dropdown-content",itemClass:"item",optionClass:"option",dropdownParent:null,controlInput:'<input type="text" autocomplete="off" size="1" />',copyClassesToDropdown:!1,placeholder:null,hidePlaceholder:null,shouldLoad:function(n){return n.length>0},render:{}};function gs(n,t){var e=Object.assign({},ps,t),s=e.dataAttr,i=e.labelField,o=e.valueField,r=e.disabledField,l=e.optgroupField,c=e.optgroupLabelField,d=e.optgroupValueField,g=n.tagName.toLowerCase(),v=n.getAttribute("placeholder")||n.getAttribute("data-placeholder");if(!v&&!e.allowEmptyOption){let O=n.querySelector('option[value=""]');O&&(v=O.textContent)}var y={placeholder:v,options:[],optgroups:[],items:[],maxItems:null},k=()=>{var O,a=y.options,f={},u=1;let m=0;var S=C=>{var _=Object.assign({},C.dataset),x=s&&_[s];return typeof x=="string"&&x.length&&(_=Object.assign(_,JSON.parse(x))),_},L=(C,_)=>{var x=me(C.value);if(x!=null&&!(!x&&!e.allowEmptyOption)){if(f.hasOwnProperty(x)){if(_){var F=f[x][l];F?Array.isArray(F)?F.push(_):f[x][l]=[F,_]:f[x][l]=_}}else{var I=S(C);I[i]=I[i]||C.textContent,I[o]=I[o]||x,I[r]=I[r]||C.disabled,I[l]=I[l]||_,I.$option=C,I.$order=I.$order||++m,f[x]=I,a.push(I)}C.selected&&y.items.push(x)}},D=C=>{var _,x;x=S(C),x[c]=x[c]||C.getAttribute("label")||"",x[d]=x[d]||u++,x[r]=x[r]||C.disabled,x.$order=x.$order||++m,y.optgroups.push(x),_=x[d],X(C.children,F=>{L(F,_)})};y.maxItems=n.hasAttribute("multiple")?null:1,X(n.children,C=>{O=C.tagName.toLowerCase(),O==="optgroup"?D(C):O==="option"&&L(C)})},b=()=>{const O=n.getAttribute(s);if(O)y.options=JSON.parse(O),X(y.options,f=>{y.items.push(f[o])});else{var a=n.value.trim()||"";if(!e.allowEmptyOption&&!a.length)return;const f=a.split(e.delimiter);X(f,u=>{const m={};m[i]=u,m[o]=u,y.options.push(m)}),y.items=f}};return g==="select"?k():b(),Object.assign({},ps,y,t)}var ms=0;class re extends ea(Zo){constructor(t,e){super(),this.order=0,this.isOpen=!1,this.isDisabled=!1,this.isReadOnly=!1,this.isInvalid=!1,this.isValid=!0,this.isLocked=!1,this.isFocused=!1,this.isInputHidden=!1,this.isSetup=!1,this.ignoreFocus=!1,this.ignoreHover=!1,this.hasOptions=!1,this.lastValue="",this.caretPos=0,this.loading=0,this.loadedSearches={},this.activeOption=null,this.activeItems=[],this.optgroups={},this.options={},this.userOptions={},this.items=[],this.refreshTimeout=null,ms++;var s,i=Se(t);if(i.tomselect)throw new Error("Tom Select already initialized on this element");i.tomselect=this;var o=window.getComputedStyle&&window.getComputedStyle(i,null);s=o.getPropertyValue("direction");const r=gs(i,e);this.settings=r,this.input=i,this.tabIndex=i.tabIndex||0,this.is_select_tag=i.tagName.toLowerCase()==="select",this.rtl=/rtl/i.test(s),this.inputId=rn(i,"tomselect-"+ms),this.isRequired=i.required,this.sifter=new ya(this.options,{diacritics:r.diacritics}),r.mode=r.mode||(r.maxItems===1?"single":"multi"),typeof r.hideSelected!="boolean"&&(r.hideSelected=r.mode==="multi"),typeof r.hidePlaceholder!="boolean"&&(r.hidePlaceholder=r.mode!=="multi");var l=r.createFilter;typeof l!="function"&&(typeof l=="string"&&(l=new RegExp(l)),l instanceof RegExp?r.createFilter=a=>l.test(a):r.createFilter=a=>this.settings.duplicates||!this.options[a]),this.initializePlugins(r.plugins),this.setupCallbacks(),this.setupTemplates();const c=Se("<div>"),d=Se("<div>"),g=this._render("dropdown"),v=Se('<div role="listbox" tabindex="-1">'),y=this.input.getAttribute("class")||"",k=r.mode;var b;if(ue(c,r.wrapperClass,y,k),ue(d,r.controlClass),Ie(c,d),ue(g,r.dropdownClass,k),r.copyClassesToDropdown&&ue(g,y),ue(v,r.dropdownContentClass),Ie(g,v),Se(r.dropdownParent||c).appendChild(g),yi(r.controlInput)){b=Se(r.controlInput);var O=["autocorrect","autocapitalize","autocomplete","spellcheck"];X(O,a=>{i.getAttribute(a)&&Y(b,{[a]:i.getAttribute(a)})}),b.tabIndex=-1,d.appendChild(b),this.focus_node=b}else r.controlInput?(b=Se(r.controlInput),this.focus_node=b):(b=Se("<input/>"),this.focus_node=d);this.wrapper=c,this.dropdown=g,this.dropdown_content=v,this.control=d,this.control_input=b,this.setup()}setup(){const t=this,e=t.settings,s=t.control_input,i=t.dropdown,o=t.dropdown_content,r=t.wrapper,l=t.control,c=t.input,d=t.focus_node,g={passive:!0},v=t.inputId+"-ts-dropdown";Y(o,{id:v}),Y(d,{role:"combobox","aria-haspopup":"listbox","aria-expanded":"false","aria-controls":v});const y=rn(d,t.inputId+"-ts-control"),k="label[for='"+Ea(t.inputId)+"']",b=document.querySelector(k),O=t.focus.bind(t);if(b){ne(b,"click",O),Y(b,{for:y});const u=rn(b,t.inputId+"-ts-label");Y(d,{"aria-labelledby":u}),Y(o,{"aria-labelledby":u})}if(r.style.width=c.style.width,t.plugins.names.length){const u="plugin-"+t.plugins.names.join(" plugin-");ue([r,i],u)}(e.maxItems===null||e.maxItems>1)&&t.is_select_tag&&Y(c,{multiple:"multiple"}),e.placeholder&&Y(s,{placeholder:e.placeholder}),!e.splitOn&&e.delimiter&&(e.splitOn=new RegExp("\\s*"+Xe(e.delimiter)+"+\\s*")),e.load&&e.loadThrottle&&(e.load=Ca(e.load,e.loadThrottle)),ne(i,"mousemove",()=>{t.ignoreHover=!1}),ne(i,"mouseenter",u=>{var m=an(u.target,"[data-selectable]",i);m&&t.onOptionHover(u,m)},{capture:!0}),ne(i,"click",u=>{const m=an(u.target,"[data-selectable]");m&&(t.onOptionSelect(u,m),J(u,!0))}),ne(l,"click",u=>{var m=an(u.target,"[data-ts-item]",l);if(m&&t.onItemSelect(u,m)){J(u,!0);return}s.value==""&&(t.onClick(),J(u,!0))}),ne(d,"keydown",u=>t.onKeyDown(u)),ne(s,"keypress",u=>t.onKeyPress(u)),ne(s,"input",u=>t.onInput(u)),ne(d,"blur",u=>t.onBlur(u)),ne(d,"focus",u=>t.onFocus(u)),ne(s,"paste",u=>t.onPaste(u));const a=u=>{const m=u.composedPath()[0];if(!r.contains(m)&&!i.contains(m)){t.isFocused&&t.blur(),t.inputState();return}m==s&&t.isOpen?u.stopPropagation():J(u,!0)},f=()=>{t.isOpen&&t.positionDropdown()};ne(document,"mousedown",a),ne(window,"scroll",f,g),ne(window,"resize",f,g),this._destroy=()=>{document.removeEventListener("mousedown",a),window.removeEventListener("scroll",f),window.removeEventListener("resize",f),b&&b.removeEventListener("click",O)},this.revertSettings={innerHTML:c.innerHTML,tabIndex:c.tabIndex},c.tabIndex=-1,c.insertAdjacentElement("afterend",t.wrapper),t.sync(!1),e.items=[],delete e.optgroups,delete e.options,ne(c,"invalid",()=>{t.isValid&&(t.isValid=!1,t.isInvalid=!0,t.refreshState())}),t.updateOriginalInput(),t.refreshItems(),t.close(!1),t.inputState(),t.isSetup=!0,c.disabled?t.disable():c.readOnly?t.setReadOnly(!0):t.enable(),t.on("change",this.onChange),ue(c,"tomselected","ts-hidden-accessible"),t.trigger("initialize"),e.preload===!0&&t.preload()}setupOptions(t=[],e=[]){this.addOptions(t),X(e,s=>{this.registerOptionGroup(s)})}setupTemplates(){var t=this,e=t.settings.labelField,s=t.settings.optgroupLabelField,i={optgroup:o=>{let r=document.createElement("div");return r.className="optgroup",r.appendChild(o.options),r},optgroup_header:(o,r)=>'<div class="optgroup-header">'+r(o[s])+"</div>",option:(o,r)=>"<div>"+r(o[e])+"</div>",item:(o,r)=>"<div>"+r(o[e])+"</div>",option_create:(o,r)=>'<div class="create">Add <strong>'+r(o.input)+"</strong>&hellip;</div>",no_results:()=>'<div class="no-results">No results found</div>',loading:()=>'<div class="spinner"></div>',not_loading:()=>{},dropdown:()=>"<div></div>"};t.settings.render=Object.assign({},i,t.settings.render)}setupCallbacks(){var t,e,s={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",item_select:"onItemSelect",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(t in s)e=this.settings[s[t]],e&&this.on(t,e)}sync(t=!0){const e=this,s=t?gs(e.input,{delimiter:e.settings.delimiter}):e.settings;e.setupOptions(s.options,s.optgroups),e.setValue(s.items||[],!0),e.lastQuery=null}onClick(){var t=this;if(t.activeItems.length>0){t.clearActiveItems(),t.focus();return}t.isFocused&&t.isOpen?t.blur():t.focus()}onMouseDown(){}onChange(){on(this.input,"input"),on(this.input,"change")}onPaste(t){var e=this;if(e.isInputHidden||e.isLocked){J(t);return}e.settings.splitOn&&setTimeout(()=>{var s=e.inputValue();if(s.match(e.settings.splitOn)){var i=s.trim().split(e.settings.splitOn);X(i,o=>{me(o)&&(this.options[o]?e.addItem(o):e.createItem(o))})}},0)}onKeyPress(t){var e=this;if(e.isLocked){J(t);return}var s=String.fromCharCode(t.keyCode||t.which);if(e.settings.create&&e.settings.mode==="multi"&&s===e.settings.delimiter){e.createItem(),J(t);return}}onKeyDown(t){var e=this;if(e.ignoreHover=!0,e.isLocked){t.keyCode!==hs&&J(t);return}switch(t.keyCode){case Da:if(Te(ut,t)&&e.control_input.value==""){J(t),e.selectAll();return}break;case ka:e.isOpen&&(J(t,!0),e.close()),e.clearActiveItems();return;case Fa:if(!e.isOpen&&e.hasOptions)e.open();else if(e.activeOption){let s=e.getAdjacent(e.activeOption,1);s&&e.setActiveOption(s)}J(t);return;case Ia:if(e.activeOption){let s=e.getAdjacent(e.activeOption,-1);s&&e.setActiveOption(s)}J(t);return;case La:e.canSelect(e.activeOption)?(e.onOptionSelect(t,e.activeOption),J(t)):(e.settings.create&&e.createItem()||document.activeElement==e.control_input&&e.isOpen)&&J(t);return;case Ta:e.advanceSelection(-1,t);return;case Ma:e.advanceSelection(1,t);return;case hs:e.settings.selectOnTab&&(e.canSelect(e.activeOption)&&(e.onOptionSelect(t,e.activeOption),J(t)),e.settings.create&&e.createItem()&&J(t));return;case fs:case Pa:e.deleteSelection(t);return}e.isInputHidden&&!Te(ut,t)&&J(t)}onInput(t){if(this.isLocked)return;const e=this.inputValue();if(this.lastValue!==e){if(this.lastValue=e,e==""){this._onInput();return}this.refreshTimeout&&window.clearTimeout(this.refreshTimeout),this.refreshTimeout=Oa(()=>{this.refreshTimeout=null,this._onInput()},this.settings.refreshThrottle)}}_onInput(){const t=this.lastValue;this.settings.shouldLoad.call(this,t)&&this.load(t),this.refreshOptions(),this.trigger("type",t)}onOptionHover(t,e){this.ignoreHover||this.setActiveOption(e,!1)}onFocus(t){var e=this,s=e.isFocused;if(e.isDisabled||e.isReadOnly){e.blur(),J(t);return}e.ignoreFocus||(e.isFocused=!0,e.settings.preload==="focus"&&e.preload(),s||e.trigger("focus"),e.activeItems.length||(e.inputState(),e.refreshOptions(!!e.settings.openOnFocus)),e.refreshState())}onBlur(t){if(document.hasFocus()!==!1){var e=this;if(e.isFocused){e.isFocused=!1,e.ignoreFocus=!1;var s=()=>{e.close(),e.setActiveItem(),e.setCaret(e.items.length),e.trigger("blur")};e.settings.create&&e.settings.createOnBlur?e.createItem(null,s):s()}}}onOptionSelect(t,e){var s,i=this;e.parentElement&&e.parentElement.matches("[data-disabled]")||(e.classList.contains("create")?i.createItem(null,()=>{i.settings.closeAfterSelect&&i.close()}):(s=e.dataset.value,typeof s<"u"&&(i.lastQuery=null,i.addItem(s),i.settings.closeAfterSelect&&i.close(),!i.settings.hideSelected&&t.type&&/click/.test(t.type)&&i.setActiveOption(e))))}canSelect(t){return!!(this.isOpen&&t&&this.dropdown_content.contains(t))}onItemSelect(t,e){var s=this;return!s.isLocked&&s.settings.mode==="multi"?(J(t),s.setActiveItem(e,t),!0):!1}canLoad(t){return!(!this.settings.load||this.loadedSearches.hasOwnProperty(t))}load(t){const e=this;if(!e.canLoad(t))return;ue(e.wrapper,e.settings.loadingClass),e.loading++;const s=e.loadCallback.bind(e);e.settings.load.call(e,t,s)}loadCallback(t,e){const s=this;s.loading=Math.max(s.loading-1,0),s.lastQuery=null,s.clearActiveOption(),s.setupOptions(t,e),s.refreshOptions(s.isFocused&&!s.isInputHidden),s.loading||_e(s.wrapper,s.settings.loadingClass),s.trigger("load",t,e)}preload(){var t=this.wrapper.classList;t.contains("preloaded")||(t.add("preloaded"),this.load(""))}setTextboxValue(t=""){var e=this.control_input,s=e.value!==t;s&&(e.value=t,on(e,"update"),this.lastValue=t)}getValue(){return this.is_select_tag&&this.input.hasAttribute("multiple")?this.items:this.items.join(this.settings.delimiter)}setValue(t,e){var s=e?[]:["change"];ls(this,s,()=>{this.clear(e),this.addItems(t,e)})}setMaxItems(t){t===0&&(t=null),this.settings.maxItems=t,this.refreshState()}setActiveItem(t,e){var s=this,i,o,r,l,c,d;if(s.settings.mode!=="single"){if(!t){s.clearActiveItems(),s.isFocused&&s.inputState();return}if(i=e&&e.type.toLowerCase(),i==="click"&&Te("shiftKey",e)&&s.activeItems.length){for(d=s.getLastActive(),r=Array.prototype.indexOf.call(s.control.children,d),l=Array.prototype.indexOf.call(s.control.children,t),r>l&&(c=r,r=l,l=c),o=r;o<=l;o++)t=s.control.children[o],s.activeItems.indexOf(t)===-1&&s.setActiveItemClass(t);J(e)}else i==="click"&&Te(ut,e)||i==="keydown"&&Te("shiftKey",e)?t.classList.contains("active")?s.removeActiveItem(t):s.setActiveItemClass(t):(s.clearActiveItems(),s.setActiveItemClass(t));s.inputState(),s.isFocused||s.focus()}}setActiveItemClass(t){const e=this,s=e.control.querySelector(".last-active");s&&_e(s,"last-active"),ue(t,"active last-active"),e.trigger("item_select",t),e.activeItems.indexOf(t)==-1&&e.activeItems.push(t)}removeActiveItem(t){var e=this.activeItems.indexOf(t);this.activeItems.splice(e,1),_e(t,"active")}clearActiveItems(){_e(this.activeItems,"active"),this.activeItems=[]}setActiveOption(t,e=!0){t!==this.activeOption&&(this.clearActiveOption(),t&&(this.activeOption=t,Y(this.focus_node,{"aria-activedescendant":t.getAttribute("id")}),Y(t,{"aria-selected":"true"}),ue(t,"active"),e&&this.scrollToOption(t)))}scrollToOption(t,e){if(!t)return;const s=this.dropdown_content,i=s.clientHeight,o=s.scrollTop||0,r=t.offsetHeight,l=t.getBoundingClientRect().top-s.getBoundingClientRect().top+o;l+r>i+o?this.scroll(l-i+r,e):l<o&&this.scroll(l,e)}scroll(t,e){const s=this.dropdown_content;e&&(s.style.scrollBehavior=e),s.scrollTop=t,s.style.scrollBehavior=""}clearActiveOption(){this.activeOption&&(_e(this.activeOption,"active"),Y(this.activeOption,{"aria-selected":null})),this.activeOption=null,Y(this.focus_node,{"aria-activedescendant":null})}selectAll(){const t=this;if(t.settings.mode==="single")return;const e=t.controlChildren();e.length&&(t.inputState(),t.close(),t.activeItems=e,X(e,s=>{t.setActiveItemClass(s)}))}inputState(){var t=this;t.control.contains(t.control_input)&&(Y(t.control_input,{placeholder:t.settings.placeholder}),t.activeItems.length>0||!t.isFocused&&t.settings.hidePlaceholder&&t.items.length>0?(t.setTextboxValue(),t.isInputHidden=!0):(t.settings.hidePlaceholder&&t.items.length>0&&Y(t.control_input,{placeholder:""}),t.isInputHidden=!1),t.wrapper.classList.toggle("input-hidden",t.isInputHidden))}inputValue(){return this.control_input.value.trim()}focus(){var t=this;t.isDisabled||t.isReadOnly||(t.ignoreFocus=!0,t.control_input.offsetWidth?t.control_input.focus():t.focus_node.focus(),setTimeout(()=>{t.ignoreFocus=!1,t.onFocus()},0))}blur(){this.focus_node.blur(),this.onBlur()}getScoreFunction(t){return this.sifter.getScoreFunction(t,this.getSearchOptions())}getSearchOptions(){var t=this.settings,e=t.sortField;return typeof t.sortField=="string"&&(e=[{field:t.sortField}]),{fields:t.searchField,conjunction:t.searchConjunction,sort:e,nesting:t.nesting}}search(t){var e,s,i=this,o=this.getSearchOptions();if(i.settings.score&&(s=i.settings.score.call(i,t),typeof s!="function"))throw new Error('Tom Select "score" setting must be a function that returns a function');return t!==i.lastQuery?(i.lastQuery=t,e=i.sifter.search(t,Object.assign(o,{score:s})),i.currentResults=e):e=Object.assign({},i.currentResults),i.settings.hideSelected&&(e.items=e.items.filter(r=>{let l=me(r.id);return!(l&&i.items.indexOf(l)!==-1)})),e}refreshOptions(t=!0){var e,s,i,o,r,l,c,d,g,v;const y={},k=[];var b=this,O=b.inputValue();const a=O===b.lastQuery||O==""&&b.lastQuery==null;var f=b.search(O),u=null,m=b.settings.shouldOpen||!1,S=b.dropdown_content;a&&(u=b.activeOption,u&&(g=u.closest("[data-group]"))),o=f.items.length,typeof b.settings.maxOptions=="number"&&(o=Math.min(o,b.settings.maxOptions)),o>0&&(m=!0);const L=(C,_)=>{let x=y[C];if(x!==void 0){let I=k[x];if(I!==void 0)return[x,I.fragment]}let F=document.createDocumentFragment();return x=k.length,k.push({fragment:F,order:_,optgroup:C}),[x,F]};for(e=0;e<o;e++){let C=f.items[e];if(!C)continue;let _=C.id,x=b.options[_];if(x===void 0)continue;let F=Ct(_),I=b.getOption(F,!0);for(b.settings.hideSelected||I.classList.toggle("selected",b.items.includes(F)),r=x[b.settings.optgroupField]||"",l=Array.isArray(r)?r:[r],s=0,i=l&&l.length;s<i;s++){r=l[s];let q=x.$order,U=b.optgroups[r];U===void 0?r="":q=U.$order;const[we,ye]=L(r,q);s>0&&(I=I.cloneNode(!0),Y(I,{id:x.$id+"-clone-"+s,"aria-selected":null}),I.classList.add("ts-cloned"),_e(I,"active"),b.activeOption&&b.activeOption.dataset.value==_&&g&&g.dataset.group===r.toString()&&(u=I)),ye.appendChild(I),r!=""&&(y[r]=we)}}b.settings.lockOptgroupOrder&&k.sort((C,_)=>C.order-_.order),c=document.createDocumentFragment(),X(k,C=>{let _=C.fragment,x=C.optgroup;if(!_||!_.children.length)return;let F=b.optgroups[x];if(F!==void 0){let I=document.createDocumentFragment(),q=b.render("optgroup_header",F);Ie(I,q),Ie(I,_);let U=b.render("optgroup",{group:F,options:I});Ie(c,U)}else Ie(c,_)}),S.innerHTML="",Ie(S,c),b.settings.highlight&&(_a(S),f.query.length&&f.tokens.length&&X(f.tokens,C=>{xa(S,C.regex)}));var D=C=>{let _=b.render(C,{input:O});return _&&(m=!0,S.insertBefore(_,S.firstChild)),_};if(b.loading?D("loading"):b.settings.shouldLoad.call(b,O)?f.items.length===0&&D("no_results"):D("not_loading"),d=b.canCreate(O),d&&(v=D("option_create")),b.hasOptions=f.items.length>0||d,m){if(f.items.length>0){if(!u&&b.settings.mode==="single"&&b.items[0]!=null&&(u=b.getOption(b.items[0])),!S.contains(u)){let C=0;v&&!b.settings.addPrecedence&&(C=1),u=b.selectable()[C]}}else v&&(u=v);t&&!b.isOpen&&(b.open(),b.scrollToOption(u,"auto")),b.setActiveOption(u)}else b.clearActiveOption(),t&&b.isOpen&&b.close(!1)}selectable(){return this.dropdown_content.querySelectorAll("[data-selectable]")}addOption(t,e=!1){const s=this;if(Array.isArray(t))return s.addOptions(t,e),!1;const i=me(t[s.settings.valueField]);return i===null||s.options.hasOwnProperty(i)?!1:(t.$order=t.$order||++s.order,t.$id=s.inputId+"-opt-"+t.$order,s.options[i]=t,s.lastQuery=null,e&&(s.userOptions[i]=e,s.trigger("option_add",i,t)),i)}addOptions(t,e=!1){X(t,s=>{this.addOption(s,e)})}registerOption(t){return this.addOption(t)}registerOptionGroup(t){var e=me(t[this.settings.optgroupValueField]);return e===null?!1:(t.$order=t.$order||++this.order,this.optgroups[e]=t,e)}addOptionGroup(t,e){var s;e[this.settings.optgroupValueField]=t,(s=this.registerOptionGroup(e))&&this.trigger("optgroup_add",s,e)}removeOptionGroup(t){this.optgroups.hasOwnProperty(t)&&(delete this.optgroups[t],this.clearCache(),this.trigger("optgroup_remove",t))}clearOptionGroups(){this.optgroups={},this.clearCache(),this.trigger("optgroup_clear")}updateOption(t,e){const s=this;var i,o;const r=me(t),l=me(e[s.settings.valueField]);if(r===null)return;const c=s.options[r];if(c==null)return;if(typeof l!="string")throw new Error("Value must be set in option data");const d=s.getOption(r),g=s.getItem(r);if(e.$order=e.$order||c.$order,delete s.options[r],s.uncacheValue(l),s.options[l]=e,d){if(s.dropdown_content.contains(d)){const v=s._render("option",e);_n(d,v),s.activeOption===d&&s.setActiveOption(v)}d.remove()}g&&(o=s.items.indexOf(r),o!==-1&&s.items.splice(o,1,l),i=s._render("item",e),g.classList.contains("active")&&ue(i,"active"),_n(g,i)),s.lastQuery=null}removeOption(t,e){const s=this;t=Ct(t),s.uncacheValue(t),delete s.userOptions[t],delete s.options[t],s.lastQuery=null,s.trigger("option_remove",t),s.removeItem(t,e)}clearOptions(t){const e=(t||this.clearFilter).bind(this);this.loadedSearches={},this.userOptions={},this.clearCache();const s={};X(this.options,(i,o)=>{e(i,o)&&(s[o]=i)}),this.options=this.sifter.items=s,this.lastQuery=null,this.trigger("option_clear")}clearFilter(t,e){return this.items.indexOf(e)>=0}getOption(t,e=!1){const s=me(t);if(s===null)return null;const i=this.options[s];if(i!=null){if(i.$div)return i.$div;if(e)return this._render("option",i)}return null}getAdjacent(t,e,s="option"){var i=this,o;if(!t)return null;s=="item"?o=i.controlChildren():o=i.dropdown_content.querySelectorAll("[data-selectable]");for(let r=0;r<o.length;r++)if(o[r]==t)return e>0?o[r+1]:o[r-1];return null}getItem(t){if(typeof t=="object")return t;var e=me(t);return e!==null?this.control.querySelector(`[data-value="${cs(e)}"]`):null}addItems(t,e){var s=this,i=Array.isArray(t)?t:[t];i=i.filter(r=>s.items.indexOf(r)===-1);const o=i[i.length-1];i.forEach(r=>{s.isPending=r!==o,s.addItem(r,e)})}addItem(t,e){var s=e?[]:["change","dropdown_close"];ls(this,s,()=>{var i,o;const r=this,l=r.settings.mode,c=me(t);if(!(c&&r.items.indexOf(c)!==-1&&(l==="single"&&r.close(),l==="single"||!r.settings.duplicates))&&!(c===null||!r.options.hasOwnProperty(c))&&(l==="single"&&r.clear(e),!(l==="multi"&&r.isFull()))){if(i=r._render("item",r.options[c]),r.control.contains(i)&&(i=i.cloneNode(!0)),o=r.isFull(),r.items.splice(r.caretPos,0,c),r.insertAtCaret(i),r.isSetup){if(!r.isPending&&r.settings.hideSelected){let d=r.getOption(c),g=r.getAdjacent(d,1);g&&r.setActiveOption(g)}!r.isPending&&!r.settings.closeAfterSelect&&r.refreshOptions(r.isFocused&&l!=="single"),r.settings.closeAfterSelect!=!1&&r.isFull()?r.close():r.isPending||r.positionDropdown(),r.trigger("item_add",c,i),r.isPending||r.updateOriginalInput({silent:e})}(!r.isPending||!o&&r.isFull())&&(r.inputState(),r.refreshState())}})}removeItem(t=null,e){const s=this;if(t=s.getItem(t),!t)return;var i,o;const r=t.dataset.value;i=us(t),t.remove(),t.classList.contains("active")&&(o=s.activeItems.indexOf(t),s.activeItems.splice(o,1),_e(t,"active")),s.items.splice(i,1),s.lastQuery=null,!s.settings.persist&&s.userOptions.hasOwnProperty(r)&&s.removeOption(r,e),i<s.caretPos&&s.setCaret(s.caretPos-1),s.updateOriginalInput({silent:e}),s.refreshState(),s.positionDropdown(),s.trigger("item_remove",r,t)}createItem(t=null,e=()=>{}){arguments.length===3&&(e=arguments[2]),typeof e!="function"&&(e=()=>{});var s=this,i=s.caretPos,o;if(t=t||s.inputValue(),!s.canCreate(t))return e(),!1;s.lock();var r=!1,l=c=>{if(s.unlock(),!c||typeof c!="object")return e();var d=me(c[s.settings.valueField]);if(typeof d!="string")return e();s.setTextboxValue(),s.addOption(c,!0),s.setCaret(i),s.addItem(d),e(c),r=!0};return typeof s.settings.create=="function"?o=s.settings.create.call(this,t,l):o={[s.settings.labelField]:t,[s.settings.valueField]:t},r||l(o),!0}refreshItems(){var t=this;t.lastQuery=null,t.isSetup&&t.addItems(t.items),t.updateOriginalInput(),t.refreshState()}refreshState(){const t=this;t.refreshValidityState();const e=t.isFull(),s=t.isLocked;t.wrapper.classList.toggle("rtl",t.rtl);const i=t.wrapper.classList;i.toggle("focus",t.isFocused),i.toggle("disabled",t.isDisabled),i.toggle("readonly",t.isReadOnly),i.toggle("required",t.isRequired),i.toggle("invalid",!t.isValid),i.toggle("locked",s),i.toggle("full",e),i.toggle("input-active",t.isFocused&&!t.isInputHidden),i.toggle("dropdown-active",t.isOpen),i.toggle("has-options",Aa(t.options)),i.toggle("has-items",t.items.length>0)}refreshValidityState(){var t=this;t.input.validity&&(t.isValid=t.input.validity.valid,t.isInvalid=!t.isValid)}isFull(){return this.settings.maxItems!==null&&this.items.length>=this.settings.maxItems}updateOriginalInput(t={}){const e=this;var s,i;const o=e.input.querySelector('option[value=""]');if(e.is_select_tag){let r=function(d,g,v){return d||(d=Se('<option value="'+sn(g)+'">'+sn(v)+"</option>")),d!=o&&e.input.append(d),l.push(d),(d!=o||c>0)&&(d.selected=!0),d};const l=[],c=e.input.querySelectorAll("option:checked").length;e.input.querySelectorAll("option:checked").forEach(d=>{d.selected=!1}),e.items.length==0&&e.settings.mode=="single"?r(o,"",""):e.items.forEach(d=>{if(s=e.options[d],i=s[e.settings.labelField]||"",l.includes(s.$option)){const g=e.input.querySelector(`option[value="${cs(d)}"]:not(:checked)`);r(g,d,i)}else s.$option=r(s.$option,d,i)})}else e.input.value=e.getValue();e.isSetup&&(t.silent||e.trigger("change",e.getValue()))}open(){var t=this;t.isLocked||t.isOpen||t.settings.mode==="multi"&&t.isFull()||(t.isOpen=!0,Y(t.focus_node,{"aria-expanded":"true"}),t.refreshState(),dt(t.dropdown,{visibility:"hidden",display:"block"}),t.positionDropdown(),dt(t.dropdown,{visibility:"visible",display:"block"}),t.focus(),t.trigger("dropdown_open",t.dropdown))}close(t=!0){var e=this,s=e.isOpen;t&&(e.setTextboxValue(),e.settings.mode==="single"&&e.items.length&&e.inputState()),e.isOpen=!1,Y(e.focus_node,{"aria-expanded":"false"}),dt(e.dropdown,{display:"none"}),e.settings.hideSelected&&e.clearActiveOption(),e.refreshState(),s&&e.trigger("dropdown_close",e.dropdown)}positionDropdown(){if(this.settings.dropdownParent==="body"){var t=this.control,e=t.getBoundingClientRect(),s=t.offsetHeight+e.top+window.scrollY,i=e.left+window.scrollX;dt(this.dropdown,{width:e.width+"px",top:s+"px",left:i+"px"})}}clear(t){var e=this;if(e.items.length){var s=e.controlChildren();X(s,i=>{e.removeItem(i,!0)}),e.inputState(),t||e.updateOriginalInput(),e.trigger("clear")}}insertAtCaret(t){const e=this,s=e.caretPos,i=e.control;i.insertBefore(t,i.children[s]||null),e.setCaret(s+1)}deleteSelection(t){var e,s,i,o,r=this;e=t&&t.keyCode===fs?-1:1,s=Sa(r.control_input);const l=[];if(r.activeItems.length)o=ds(r.activeItems,e),i=us(o),e>0&&i++,X(r.activeItems,c=>l.push(c));else if((r.isFocused||r.settings.mode==="single")&&r.items.length){const c=r.controlChildren();let d;e<0&&s.start===0&&s.length===0?d=c[r.caretPos-1]:e>0&&s.start===r.inputValue().length&&(d=c[r.caretPos]),d!==void 0&&l.push(d)}if(!r.shouldDelete(l,t))return!1;for(J(t,!0),typeof i<"u"&&r.setCaret(i);l.length;)r.removeItem(l.pop());return r.inputState(),r.positionDropdown(),r.refreshOptions(!1),!0}shouldDelete(t,e){const s=t.map(i=>i.dataset.value);return!(!s.length||typeof this.settings.onDelete=="function"&&this.settings.onDelete(s,e)===!1)}advanceSelection(t,e){var s,i,o=this;o.rtl&&(t*=-1),!o.inputValue().length&&(Te(ut,e)||Te("shiftKey",e)?(s=o.getLastActive(t),s?s.classList.contains("active")?i=o.getAdjacent(s,t,"item"):i=s:t>0?i=o.control_input.nextElementSibling:i=o.control_input.previousElementSibling,i&&(i.classList.contains("active")&&o.removeActiveItem(s),o.setActiveItemClass(i))):o.moveCaret(t))}moveCaret(t){}getLastActive(t){let e=this.control.querySelector(".last-active");if(e)return e;var s=this.control.querySelectorAll(".active");if(s)return ds(s,t)}setCaret(t){this.caretPos=this.items.length}controlChildren(){return Array.from(this.control.querySelectorAll("[data-ts-item]"))}lock(){this.setLocked(!0)}unlock(){this.setLocked(!1)}setLocked(t=this.isReadOnly||this.isDisabled){this.isLocked=t,this.refreshState()}disable(){this.setDisabled(!0),this.close()}enable(){this.setDisabled(!1)}setDisabled(t){this.focus_node.tabIndex=t?-1:this.tabIndex,this.isDisabled=t,this.input.disabled=t,this.control_input.disabled=t,this.setLocked()}setReadOnly(t){this.isReadOnly=t,this.input.readOnly=t,this.control_input.readOnly=t,this.setLocked()}destroy(){var t=this,e=t.revertSettings;t.trigger("destroy"),t.off(),t.wrapper.remove(),t.dropdown.remove(),t.input.innerHTML=e.innerHTML,t.input.tabIndex=e.tabIndex,_e(t.input,"tomselected","ts-hidden-accessible"),t._destroy(),delete t.input.tomselect}render(t,e){var s,i;const o=this;if(typeof this.settings.render[t]!="function"||(i=o.settings.render[t].call(this,e,sn),!i))return null;if(i=Se(i),t==="option"||t==="option_create"?e[o.settings.disabledField]?Y(i,{"aria-disabled":"true"}):Y(i,{"data-selectable":""}):t==="optgroup"&&(s=e.group[o.settings.optgroupValueField],Y(i,{"data-group":s}),e.group[o.settings.disabledField]&&Y(i,{"data-disabled":""})),t==="option"||t==="item"){const r=Ct(e[o.settings.valueField]);Y(i,{"data-value":r}),t==="item"?(ue(i,o.settings.itemClass),Y(i,{"data-ts-item":""})):(ue(i,o.settings.optionClass),Y(i,{role:"option",id:e.$id}),e.$div=i,o.options[r]=e)}return i}_render(t,e){const s=this.render(t,e);if(s==null)throw"HTMLElement expected";return s}clearCache(){X(this.options,t=>{t.$div&&(t.$div.remove(),delete t.$div)})}uncacheValue(t){const e=this.getOption(t);e&&e.remove()}canCreate(t){return this.settings.create&&t.length>0&&this.settings.createFilter.call(this,t)}hook(t,e,s){var i=this,o=i[e];i[e]=function(){var r,l;return t==="after"&&(r=o.apply(i,arguments)),l=s.apply(i,arguments),t==="instead"?l:(t==="before"&&(r=o.apply(i,arguments)),r)}}}const Ra=(n,t,e,s)=>{n.addEventListener(t,e,s)};function $a(){Ra(this.input,"change",()=>{this.sync()})}const Ha=n=>typeof n>"u"||n===null?null:ja(n),ja=n=>typeof n=="boolean"?n?"1":"0":n+"",vs=(n,t=!1)=>{n&&(n.preventDefault(),t&&n.stopPropagation())},Ba=n=>{if(n.jquery)return n[0];if(n instanceof HTMLElement)return n;if(Va(n)){var t=document.createElement("template");return t.innerHTML=n.trim(),t.content.firstChild}return document.querySelector(n)},Va=n=>typeof n=="string"&&n.indexOf("<")>-1;function qa(n){var t=this,e=t.onOptionSelect;t.settings.hideSelected=!1;const s=Object.assign({className:"tomselect-checkbox",checkedClassNames:void 0,uncheckedClassNames:void 0},n);var i=function(r,l){l?(r.checked=!0,s.uncheckedClassNames&&r.classList.remove(...s.uncheckedClassNames),s.checkedClassNames&&r.classList.add(...s.checkedClassNames)):(r.checked=!1,s.checkedClassNames&&r.classList.remove(...s.checkedClassNames),s.uncheckedClassNames&&r.classList.add(...s.uncheckedClassNames))},o=function(r){setTimeout(()=>{var l=r.querySelector("input."+s.className);l instanceof HTMLInputElement&&i(l,r.classList.contains("selected"))},1)};t.hook("after","setupTemplates",()=>{var r=t.settings.render.option;t.settings.render.option=(l,c)=>{var d=Ba(r.call(t,l,c)),g=document.createElement("input");s.className&&g.classList.add(s.className),g.addEventListener("click",function(y){vs(y)}),g.type="checkbox";const v=Ha(l[t.settings.valueField]);return i(g,!!(v&&t.items.indexOf(v)>-1)),d.prepend(g),d}}),t.on("item_remove",r=>{var l=t.getOption(r);l&&(l.classList.remove("selected"),o(l))}),t.on("item_add",r=>{var l=t.getOption(r);l&&o(l)}),t.hook("instead","onOptionSelect",(r,l)=>{if(l.classList.contains("selected")){l.classList.remove("selected"),t.removeItem(l.dataset.value),t.refreshOptions(),vs(r,!0);return}e.call(t,r,l),o(l)})}const Ua=n=>{if(n.jquery)return n[0];if(n instanceof HTMLElement)return n;if(Ya(n)){var t=document.createElement("template");return t.innerHTML=n.trim(),t.content.firstChild}return document.querySelector(n)},Ya=n=>typeof n=="string"&&n.indexOf("<")>-1;function za(n){const t=this,e=Object.assign({className:"clear-button",title:"Clear All",html:s=>`<div class="${s.className}" title="${s.title}">&#10799;</div>`},n);t.on("initialize",()=>{var s=Ua(e.html(e));s.addEventListener("click",i=>{t.isLocked||(t.clear(),t.settings.mode==="single"&&t.settings.allowEmptyOption&&t.addItem(""),i.preventDefault(),i.stopPropagation())}),t.control.appendChild(s)})}const Ka=(n,t=!1)=>{n&&(n.preventDefault(),t&&n.stopPropagation())},je=(n,t,e,s)=>{n.addEventListener(t,e,s)},Wa=(n,t)=>{if(Array.isArray(n))n.forEach(t);else for(var e in n)n.hasOwnProperty(e)&&t(n[e],e)},Ja=n=>{if(n.jquery)return n[0];if(n instanceof HTMLElement)return n;if(Ga(n)){var t=document.createElement("template");return t.innerHTML=n.trim(),t.content.firstChild}return document.querySelector(n)},Ga=n=>typeof n=="string"&&n.indexOf("<")>-1,Qa=(n,t)=>{Wa(t,(e,s)=>{e==null?n.removeAttribute(s):n.setAttribute(s,""+e)})},Xa=(n,t)=>{var e;(e=n.parentNode)==null||e.insertBefore(t,n.nextSibling)},Za=(n,t)=>{var e;(e=n.parentNode)==null||e.insertBefore(t,n)},el=(n,t)=>{do{var e;if(t=(e=t)==null?void 0:e.previousElementSibling,n==t)return!0}while(t&&t.previousElementSibling);return!1};function tl(){var n=this;if(n.settings.mode!=="multi")return;var t=n.lock,e=n.unlock;let s=!0,i;n.hook("after","setupTemplates",()=>{var o=n.settings.render.item;n.settings.render.item=(r,l)=>{const c=Ja(o.call(n,r,l));Qa(c,{draggable:"true"});const d=O=>{s||Ka(O),O.stopPropagation()},g=O=>{i=c,setTimeout(()=>{c.classList.add("ts-dragging")},0)},v=O=>{O.preventDefault(),c.classList.add("ts-drag-over"),k(c,i)},y=()=>{c.classList.remove("ts-drag-over")},k=(O,a)=>{a!==void 0&&(el(a,c)?Xa(O,a):Za(O,a))},b=()=>{var O;document.querySelectorAll(".ts-drag-over").forEach(f=>f.classList.remove("ts-drag-over")),(O=i)==null||O.classList.remove("ts-dragging"),i=void 0;var a=[];n.control.querySelectorAll("[data-value]").forEach(f=>{if(f.dataset.value){let u=f.dataset.value;u&&a.push(u)}}),n.setValue(a)};return je(c,"mousedown",d),je(c,"dragstart",g),je(c,"dragenter",v),je(c,"dragover",v),je(c,"dragleave",y),je(c,"dragend",b),c}}),n.hook("instead","lock",()=>(s=!1,t.call(n))),n.hook("instead","unlock",()=>(s=!0,e.call(n)))}const nl=(n,t=!1)=>{n&&(n.preventDefault(),t&&n.stopPropagation())},sl=n=>{if(n.jquery)return n[0];if(n instanceof HTMLElement)return n;if(il(n)){var t=document.createElement("template");return t.innerHTML=n.trim(),t.content.firstChild}return document.querySelector(n)},il=n=>typeof n=="string"&&n.indexOf("<")>-1;function rl(n){const t=this,e=Object.assign({title:"Untitled",headerClass:"dropdown-header",titleRowClass:"dropdown-header-title",labelClass:"dropdown-header-label",closeClass:"dropdown-header-close",html:s=>'<div class="'+s.headerClass+'"><div class="'+s.titleRowClass+'"><span class="'+s.labelClass+'">'+s.title+'</span><a class="'+s.closeClass+'">&times;</a></div></div>'},n);t.on("initialize",()=>{var s=sl(e.html(e)),i=s.querySelector("."+e.closeClass);i&&i.addEventListener("click",o=>{nl(o,!0),t.close()}),t.dropdown.insertBefore(s,t.dropdown.firstChild)})}const ol=(n,t)=>{if(Array.isArray(n))n.forEach(t);else for(var e in n)n.hasOwnProperty(e)&&t(n[e],e)},al=(n,...t)=>{var e=ll(t);n=cl(n),n.map(s=>{e.map(i=>{s.classList.remove(i)})})},ll=n=>{var t=[];return ol(n,e=>{typeof e=="string"&&(e=e.trim().split(/[\t\n\f\r\s]/)),Array.isArray(e)&&(t=t.concat(e))}),t.filter(Boolean)},cl=n=>(Array.isArray(n)||(n=[n]),n),dl=(n,t)=>{if(!n)return-1;t=t||n.nodeName;for(var e=0;n=n.previousElementSibling;)n.matches(t)&&e++;return e};function ul(){var n=this;n.hook("instead","setCaret",t=>{n.settings.mode==="single"||!n.control.contains(n.control_input)?t=n.items.length:(t=Math.max(0,Math.min(n.items.length,t)),t!=n.caretPos&&!n.isPending&&n.controlChildren().forEach((e,s)=>{s<t?n.control_input.insertAdjacentElement("beforebegin",e):n.control.appendChild(e)})),n.caretPos=t}),n.hook("instead","moveCaret",t=>{if(!n.isFocused)return;const e=n.getLastActive(t);if(e){const s=dl(e);n.setCaret(t>0?s+1:s),n.setActiveItem(),al(e,"last-active")}else n.setCaret(n.caretPos+t)})}const fl=27,hl=9,pl=(n,t=!1)=>{n&&(n.preventDefault(),t&&n.stopPropagation())},gl=(n,t,e,s)=>{n.addEventListener(t,e,s)},ml=(n,t)=>{if(Array.isArray(n))n.forEach(t);else for(var e in n)n.hasOwnProperty(e)&&t(n[e],e)},bs=n=>{if(n.jquery)return n[0];if(n instanceof HTMLElement)return n;if(vl(n)){var t=document.createElement("template");return t.innerHTML=n.trim(),t.content.firstChild}return document.querySelector(n)},vl=n=>typeof n=="string"&&n.indexOf("<")>-1,bl=(n,...t)=>{var e=wl(t);n=yl(n),n.map(s=>{e.map(i=>{s.classList.add(i)})})},wl=n=>{var t=[];return ml(n,e=>{typeof e=="string"&&(e=e.trim().split(/[\t\n\f\r\s]/)),Array.isArray(e)&&(t=t.concat(e))}),t.filter(Boolean)},yl=n=>(Array.isArray(n)||(n=[n]),n);function Ol(){const n=this;n.settings.shouldOpen=!0,n.hook("before","setup",()=>{n.focus_node=n.control,bl(n.control_input,"dropdown-input");const t=bs('<div class="dropdown-input-wrap">');t.append(n.control_input),n.dropdown.insertBefore(t,n.dropdown.firstChild);const e=bs('<input class="items-placeholder" tabindex="-1" />');e.placeholder=n.settings.placeholder||"",n.control.append(e)}),n.on("initialize",()=>{n.control_input.addEventListener("keydown",e=>{switch(e.keyCode){case fl:n.isOpen&&(pl(e,!0),n.close()),n.clearActiveItems();return;case hl:n.focus_node.tabIndex=-1;break}return n.onKeyDown.call(n,e)}),n.on("blur",()=>{n.focus_node.tabIndex=n.isDisabled?-1:n.tabIndex}),n.on("dropdown_open",()=>{n.control_input.focus()});const t=n.onBlur;n.hook("instead","onBlur",e=>{if(!(e&&e.relatedTarget==n.control_input))return t.call(n)}),gl(n.control_input,"blur",()=>n.onBlur()),n.hook("before","close",()=>{n.isOpen&&n.focus_node.focus({preventScroll:!0})})})}const ft=(n,t,e,s)=>{n.addEventListener(t,e,s)};function Cl(){var n=this;n.on("initialize",()=>{var t=document.createElement("span"),e=n.control_input;t.style.cssText="position:absolute; top:-99999px; left:-99999px; width:auto; padding:0; white-space:pre; ",n.wrapper.appendChild(t);var s=["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"];for(const o of s)t.style[o]=e.style[o];var i=()=>{t.textContent=e.value,e.style.width=t.clientWidth+"px"};i(),n.on("update item_add item_remove",i),ft(e,"input",i),ft(e,"keyup",i),ft(e,"blur",i),ft(e,"update",i)})}function Sl(){var n=this,t=n.deleteSelection;this.hook("instead","deleteSelection",e=>n.activeItems.length?t.call(n,e):!1)}function El(){this.hook("instead","setActiveItem",()=>{}),this.hook("instead","selectAll",()=>{})}const ws=37,Al=39,xl=(n,t,e)=>{for(;n&&n.matches;){if(n.matches(t))return n;n=n.parentNode}},_l=(n,t)=>{if(!n)return-1;t=t||n.nodeName;for(var e=0;n=n.previousElementSibling;)n.matches(t)&&e++;return e};function Dl(){var n=this,t=n.onKeyDown;n.hook("instead","onKeyDown",e=>{var s,i,o,r;if(!n.isOpen||!(e.keyCode===ws||e.keyCode===Al))return t.call(n,e);n.ignoreHover=!0,r=xl(n.activeOption,"[data-group]"),s=_l(n.activeOption,"[data-selectable]"),r&&(e.keyCode===ws?r=r.previousSibling:r=r.nextSibling,r&&(o=r.querySelectorAll("[data-selectable]"),i=o[Math.min(o.length-1,s)],i&&n.setActiveOption(i)))})}const Ll=n=>(n+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),ys=(n,t=!1)=>{n&&(n.preventDefault(),t&&n.stopPropagation())},Os=(n,t,e,s)=>{n.addEventListener(t,e,s)},Cs=n=>{if(n.jquery)return n[0];if(n instanceof HTMLElement)return n;if(kl(n)){var t=document.createElement("template");return t.innerHTML=n.trim(),t.content.firstChild}return document.querySelector(n)},kl=n=>typeof n=="string"&&n.indexOf("<")>-1;function Tl(n){const t=Object.assign({label:"&times;",title:"Remove",className:"remove",append:!0},n);var e=this;if(t.append){var s='<a href="javascript:void(0)" class="'+t.className+'" tabindex="-1" title="'+Ll(t.title)+'">'+t.label+"</a>";e.hook("after","setupTemplates",()=>{var i=e.settings.render.item;e.settings.render.item=(o,r)=>{var l=Cs(i.call(e,o,r)),c=Cs(s);return l.appendChild(c),Os(c,"mousedown",d=>{ys(d,!0)}),Os(c,"click",d=>{e.isLocked||(ys(d,!0),!e.isLocked&&e.shouldDelete([l],d)&&(e.removeItem(l),e.refreshOptions(!1),e.inputState()))}),l}})}}function Il(n){const t=this,e=Object.assign({text:s=>s[t.settings.labelField]},n);t.on("item_remove",function(s){if(t.isFocused&&t.control_input.value.trim()===""){var i=t.options[s];i&&t.setTextboxValue(e.text.call(t,i))}})}const Ml=(n,t)=>{if(Array.isArray(n))n.forEach(t);else for(var e in n)n.hasOwnProperty(e)&&t(n[e],e)},Fl=(n,...t)=>{var e=Pl(t);n=Nl(n),n.map(s=>{e.map(i=>{s.classList.add(i)})})},Pl=n=>{var t=[];return Ml(n,e=>{typeof e=="string"&&(e=e.trim().split(/[\t\n\f\r\s]/)),Array.isArray(e)&&(t=t.concat(e))}),t.filter(Boolean)},Nl=n=>(Array.isArray(n)||(n=[n]),n);function Rl(){const n=this,t=n.canLoad,e=n.clearActiveOption,s=n.loadCallback;var i={},o,r=!1,l,c=[];if(n.settings.shouldLoadMore||(n.settings.shouldLoadMore=()=>{if(o.clientHeight/(o.scrollHeight-o.scrollTop)>.9)return!0;if(n.activeOption){var v=n.selectable(),y=Array.from(v).indexOf(n.activeOption);if(y>=v.length-2)return!0}return!1}),!n.settings.firstUrl)throw"virtual_scroll plugin requires a firstUrl() method";n.settings.sortField=[{field:"$order"},{field:"$score"}];const d=v=>typeof n.settings.maxOptions=="number"&&o.children.length>=n.settings.maxOptions?!1:!!(v in i&&i[v]),g=(v,y)=>n.items.indexOf(y)>=0||c.indexOf(y)>=0;n.setNextUrl=(v,y)=>{i[v]=y},n.getUrl=v=>{if(v in i){const y=i[v];return i[v]=!1,y}return n.clearPagination(),n.settings.firstUrl.call(n,v)},n.clearPagination=()=>{i={}},n.hook("instead","clearActiveOption",()=>{if(!r)return e.call(n)}),n.hook("instead","canLoad",v=>v in i?d(v):t.call(n,v)),n.hook("instead","loadCallback",(v,y)=>{if(!r)n.clearOptions(g);else if(l){const k=v[0];k!==void 0&&(l.dataset.value=k[n.settings.valueField])}s.call(n,v,y),r=!1}),n.hook("after","refreshOptions",()=>{const v=n.lastValue;var y;d(v)?(y=n.render("loading_more",{query:v}),y&&(y.setAttribute("data-selectable",""),l=y)):v in i&&!o.querySelector(".no-results")&&(y=n.render("no_more_results",{query:v})),y&&(Fl(y,n.settings.optionClass),o.append(y))}),n.on("initialize",()=>{c=Object.keys(n.options),o=n.dropdown_content,n.settings.render=Object.assign({},{loading_more:()=>'<div class="loading-more-results">Loading more results ... </div>',no_more_results:()=>'<div class="no-more-results">No more results</div>'},n.settings.render),o.addEventListener("scroll",()=>{n.settings.shouldLoadMore.call(n)&&d(n.lastValue)&&(r||(r=!0,n.load.call(n,n.lastValue)))})})}re.define("change_listener",$a);re.define("checkbox_options",qa);re.define("clear_button",za);re.define("drag_drop",tl);re.define("dropdown_header",rl);re.define("caret_position",ul);re.define("dropdown_input",Ol);re.define("input_autogrow",Cl);re.define("no_backspace_delete",Sl);re.define("no_active_items",El);re.define("optgroup_columns",Dl);re.define("remove_button",Tl);re.define("restore_on_backspace",Il);re.define("virtual_scroll",Rl);const $l=n=>({init(){const t=this.$refs[`select_picker_${n.dataField}_${n.tableName}`],e={items:n.initialValues,...n.framework,onChange:o=>{gi(n,o)},onInitialize:()=>{window.addEventListener(`pg:clear_multi_select::${n.tableName}:${n.dataField}`,()=>{t&&t.tomselect.clear(!0)}),window.addEventListener(`pg:clear_all_multi_select::${n.tableName}`,()=>{t&&t.tomselect.clear(!0)})}},s={valueField:n.optionValue,labelField:n.optionLabel,searchField:n.optionLabel,load:async function(o,r){function l(c,d){var g;const{method:v,url:y}=c,k=new Request(y,{method:v,body:v.toLowerCase()==="post"?JSON.stringify({search:d,...i}):void 0});k.headers.set("Content-Type","application/json"),k.headers.set("Accept","application/json"),k.headers.set("X-Requested-With","XMLHttpRequest");const b=(g=document.head.querySelector('[name="csrf-token"]'))==null?void 0:g.getAttribute("content");return b&&k.headers.set("X-CSRF-TOKEN",b),k}fetch(l(n.asyncData,o)).then(c=>c.json()).then(c=>{r(c)}).catch(()=>{r()})},render:{option:function(o,r){return`<div class="py-2 mb-1"><span>${r(o[n.optionLabel])}</span></div>`},item:function(o,r){return`<div class="py-2 mb-1"><span>${r(o[n.optionLabel])}</span></div>`}}};let i=e;n.hasOwnProperty("asyncData")&&(i=Object.assign(e,s)),new re(t,i)}}),Hl=n=>({initialValues:n.initialValues,framework:n.framework,init(){const t=this.$refs["select_picker_"+n.dataField+"_"+n.tableName],e=this.deepCopy(this.framework);new window.SlimSelect({select:t,...e,events:{afterChange:s=>{let i=s.map(o=>o.value);gi(n,i)}}})},deepCopy(t){if(t===null||typeof t!="object")return t;if(Array.isArray(t))return t.map(this.deepCopy);const e={};for(const s in t)t.hasOwnProperty(s)&&(e[s]=this.deepCopy(t[s]));return e}}),jl=()=>({init(){Livewire.on("pg:scrollTop",n=>{setTimeout(()=>{document.querySelector("body").scrollIntoView({behavior:"auto"})},0)}),new IntersectionObserver(n=>{n[0].isIntersecting&&this.$wire.call("loadMore")},{rootMargin:"300px"}).observe(this.$el)}}),Bl=n=>({rowId:(n==null?void 0:n.rowId)??null,parentId:(n==null?void 0:n.parentId)??null,toHtml(){let t=null;const e=this.parentId??this.$wire.id;if(this.rowId){const i=window[`pgActions_${e}`];i&&i[this.rowId]!==void 0&&(t=i[this.rowId])}else t=window[`pgActionsHeader_${e}`];if(typeof t!="object"||t===null)return"";let s="";return t.forEach(i=>{let o=this.shouldHideAction(i),r=this.getReplaceHtml(i);if(!o)if(r)s+=r;else{let l=this.buildAttributesString(i);if(i.icon){let c=this.processIcon(i);if(!c)return;s+=this.buildActionHtmlWithIcon(i,l,c)}else s+=this.buildActionHtml(i,l)}}),s},shouldHideAction(t){if(t.can===!1)return!0;let e=!1;return t.rules&&Object.values(t.rules).length>0&&Object.values(t.rules).forEach(s=>{s.action.includes(t.action)&&s.apply&&s.rule.hide&&(e=!0)}),e},getReplaceHtml(t){let e=null;return t.rules&&Object.values(t.rules).length>0&&Object.values(t.rules).forEach(s=>{s.apply&&s.action.includes(t.action)&&s.replaceHtml&&(e=s.replaceHtml)}),e},buildAttributesString(t){let e=t.attributes??[];return t.rules&&Object.values(t.rules).length>0&&Object.values(t.rules).forEach(s=>{s.apply&&s.action.includes(t.action)&&s.rule.setAttribute&&s.rule.setAttribute.length>0&&Object.values(s.rule.setAttribute).forEach(i=>{e[i.attribute]=i.value})}),Object.entries(e).map(([s,i])=>` ${s}="${i}"`).join("")},processIcon(t){const e=Object.entries(t.iconAttributes??[]).map(([i,o])=>` ${i}="${o}"`).join("");let s=window.pgResourceIcons[t.icon];return typeof s>"u"?(console.warn(`PowerGrid: Unable to load icons in javascript window in row: [${this.rowId}]`),null):this.replaceIconAttributes(s,e)},replaceIconAttributes(t,e){return t.replace(/<([^\s>]+)([^>]*)>/,(s,i,o)=>{let r=o.trim();const l=e.replace(/class="([^"]*)"/,(c,d)=>(r.includes("class=")?r=r.replace(/class="([^"]*)"/,(g,v)=>`class="${v} ${d.trim()}"`):r+=` ${c}`,""));return`<${i} ${r} ${l}>`})},buildActionHtmlWithIcon(t,e,s){return t.slot?`<${t.tag??"button"} ${e}>${s} ${t.slot}</${t.tag??"button"}>`:`<${t.tag??"button"} ${e}>${s}</${t.tag??"button"}>`},buildActionHtml(t,e){return`<${t.tag??"button"} ${e}>${t.slot}</${t.tag??"button"}>`}}),Vl=n=>({templateContent:(n==null?void 0:n.templateContent)??null,rendered:null,parentId:(n==null?void 0:n.parentId)??null,init(){const t=Object.keys(this.templateContent)[0],e=window[`pgRowTemplates_${this.parentId??this.$wire.id}`][t],s=this.templateContent[t];if(s){let i=e;for(const[o,r]of Object.entries(s)){const l=`{{ ${o} }}`,c=String(r).replace(/'/g,"\\'");i=i.replaceAll(l,c)}this.rendered=i}}}),ql=n=>({rowId:n.rowId,rules:n.rules,defaultClasses:n.defaultClasses,attributes:[],theme:[],init(){this.rules&&Object.values(this.rules).forEach(t=>{(t.applyLoop||t.apply)&&t!=null&&t.attributes&&this.attributes.push(t.attributes)})},getAttributes(){let t={class:this.defaultClasses};return this.attributes.forEach(e=>{Object.keys(e).forEach(s=>{t[s]+=t[s]?` ${e[s]}`:e[s]})}),t}});window.pgToggleable=Bo;window.pgFlatpickr=qo;window.pgEditable=Uo;window.pgResponsive=Qo;window.pgTomSelect=$l;window.pgSlimSelect=Hl;window.pgLoadMore=jl;window.pgRenderActions=Bl;window.pgRowAttributes=ql;window.pgRenderRowTemplate=Vl;document.addEventListener("DOMContentLoaded",()=>{Livewire.hook("commit",({component:n,succeed:t,fail:e})=>{n.ephemeral.setUp&&n.ephemeral.setUp.hasOwnProperty("responsive")&&(t(()=>{queueMicrotask(()=>{window.dispatchEvent(new CustomEvent("pg-livewire-request-finished"))})}),e(()=>{window.dispatchEvent(new CustomEvent("pg-livewire-request-finished"))}))})});document.addEventListener("DOMContentLoaded",()=>{window.Alpine.directive("multisort-shift-click",(n,{expression:t})=>{n.addEventListener("click",e=>{window.Livewire.find(t).set("multiSort",e.shiftKey)})})});var ln=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],qe={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(n){return typeof console<"u"&&console.warn(n)},getWeek:function(n){var t=new Date(n.getTime());t.setHours(0,0,0,0),t.setDate(t.getDate()+3-(t.getDay()+6)%7);var e=new Date(t.getFullYear(),0,4);return 1+Math.round(((t.getTime()-e.getTime())/864e5-3+(e.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},Ze={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(n){var t=n%100;if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},ae=function(n,t){return t===void 0&&(t=2),("000"+n).slice(t*-1)},ge=function(n){return n===!0?1:0};function Ss(n,t){var e;return function(){var s=this,i=arguments;clearTimeout(e),e=setTimeout(function(){return n.apply(s,i)},t)}}var cn=function(n){return n instanceof Array?n:[n]};function se(n,t,e){if(e===!0)return n.classList.add(t);n.classList.remove(t)}function B(n,t,e){var s=window.document.createElement(n);return t=t||"",e=e||"",s.className=t,e!==void 0&&(s.textContent=e),s}function ht(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function Si(n,t){if(t(n))return n;if(n.parentNode)return Si(n.parentNode,t)}function pt(n,t){var e=B("div","numInputWrapper"),s=B("input","numInput "+n),i=B("span","arrowUp"),o=B("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?s.type="number":(s.type="text",s.pattern="\\d*"),t!==void 0)for(var r in t)s.setAttribute(r,t[r]);return e.appendChild(s),e.appendChild(i),e.appendChild(o),e}function fe(n){try{if(typeof n.composedPath=="function"){var t=n.composedPath();return t[0]}return n.target}catch{return n.target}}var dn=function(){},kt=function(n,t,e){return e.months[t?"shorthand":"longhand"][n]},Ul={D:dn,F:function(n,t,e){n.setMonth(e.months.longhand.indexOf(t))},G:function(n,t){n.setHours((n.getHours()>=12?12:0)+parseFloat(t))},H:function(n,t){n.setHours(parseFloat(t))},J:function(n,t){n.setDate(parseFloat(t))},K:function(n,t,e){n.setHours(n.getHours()%12+12*ge(new RegExp(e.amPM[1],"i").test(t)))},M:function(n,t,e){n.setMonth(e.months.shorthand.indexOf(t))},S:function(n,t){n.setSeconds(parseFloat(t))},U:function(n,t){return new Date(parseFloat(t)*1e3)},W:function(n,t,e){var s=parseInt(t),i=new Date(n.getFullYear(),0,2+(s-1)*7,0,0,0,0);return i.setDate(i.getDate()-i.getDay()+e.firstDayOfWeek),i},Y:function(n,t){n.setFullYear(parseFloat(t))},Z:function(n,t){return new Date(t)},d:function(n,t){n.setDate(parseFloat(t))},h:function(n,t){n.setHours((n.getHours()>=12?12:0)+parseFloat(t))},i:function(n,t){n.setMinutes(parseFloat(t))},j:function(n,t){n.setDate(parseFloat(t))},l:dn,m:function(n,t){n.setMonth(parseFloat(t)-1)},n:function(n,t){n.setMonth(parseFloat(t)-1)},s:function(n,t){n.setSeconds(parseFloat(t))},u:function(n,t){return new Date(parseFloat(t))},w:dn,y:function(n,t){n.setFullYear(2e3+parseFloat(t))}},Pe={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},Ge={Z:function(n){return n.toISOString()},D:function(n,t,e){return t.weekdays.shorthand[Ge.w(n,t,e)]},F:function(n,t,e){return kt(Ge.n(n,t,e)-1,!1,t)},G:function(n,t,e){return ae(Ge.h(n,t,e))},H:function(n){return ae(n.getHours())},J:function(n,t){return t.ordinal!==void 0?n.getDate()+t.ordinal(n.getDate()):n.getDate()},K:function(n,t){return t.amPM[ge(n.getHours()>11)]},M:function(n,t){return kt(n.getMonth(),!0,t)},S:function(n){return ae(n.getSeconds())},U:function(n){return n.getTime()/1e3},W:function(n,t,e){return e.getWeek(n)},Y:function(n){return ae(n.getFullYear(),4)},d:function(n){return ae(n.getDate())},h:function(n){return n.getHours()%12?n.getHours()%12:12},i:function(n){return ae(n.getMinutes())},j:function(n){return n.getDate()},l:function(n,t){return t.weekdays.longhand[n.getDay()]},m:function(n){return ae(n.getMonth()+1)},n:function(n){return n.getMonth()+1},s:function(n){return n.getSeconds()},u:function(n){return n.getTime()},w:function(n){return n.getDay()},y:function(n){return String(n.getFullYear()).substring(2)}},Ei=function(n){var t=n.config,e=t===void 0?qe:t,s=n.l10n,i=s===void 0?Ze:s,o=n.isMobile,r=o===void 0?!1:o;return function(l,c,d){var g=d||i;return e.formatDate!==void 0&&!r?e.formatDate(l,c,g):c.split("").map(function(v,y,k){return Ge[v]&&k[y-1]!=="\\"?Ge[v](l,g,e):v!=="\\"?v:""}).join("")}},Dn=function(n){var t=n.config,e=t===void 0?qe:t,s=n.l10n,i=s===void 0?Ze:s;return function(o,r,l,c){if(!(o!==0&&!o)){var d=c||i,g,v=o;if(o instanceof Date)g=new Date(o.getTime());else if(typeof o!="string"&&o.toFixed!==void 0)g=new Date(o);else if(typeof o=="string"){var y=r||(e||qe).dateFormat,k=String(o).trim();if(k==="today")g=new Date,l=!0;else if(e&&e.parseDate)g=e.parseDate(o,y);else if(/Z$/.test(k)||/GMT$/.test(k))g=new Date(o);else{for(var b=void 0,O=[],a=0,f=0,u="";a<y.length;a++){var m=y[a],S=m==="\\",L=y[a-1]==="\\"||S;if(Pe[m]&&!L){u+=Pe[m];var D=new RegExp(u).exec(o);D&&(b=!0)&&O[m!=="Y"?"push":"unshift"]({fn:Ul[m],val:D[++f]})}else S||(u+=".")}g=!e||!e.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0)),O.forEach(function(C){var _=C.fn,x=C.val;return g=_(g,x,d)||g}),g=b?g:void 0}}if(!(g instanceof Date&&!isNaN(g.getTime()))){e.errorHandler(new Error("Invalid date provided: "+v));return}return l===!0&&g.setHours(0,0,0,0),g}}};function pe(n,t,e){return e===void 0&&(e=!0),e!==!1?new Date(n.getTime()).setHours(0,0,0,0)-new Date(t.getTime()).setHours(0,0,0,0):n.getTime()-t.getTime()}var Yl=function(n,t,e){return n>Math.min(t,e)&&n<Math.max(t,e)},un=function(n,t,e){return n*3600+t*60+e},zl=function(n){var t=Math.floor(n/3600),e=(n-t*3600)/60;return[t,e,n-t*3600-e*60]},Kl={DAY:864e5};function fn(n){var t=n.defaultHour,e=n.defaultMinute,s=n.defaultSeconds;if(n.minDate!==void 0){var i=n.minDate.getHours(),o=n.minDate.getMinutes(),r=n.minDate.getSeconds();t<i&&(t=i),t===i&&e<o&&(e=o),t===i&&e===o&&s<r&&(s=n.minDate.getSeconds())}if(n.maxDate!==void 0){var l=n.maxDate.getHours(),c=n.maxDate.getMinutes();t=Math.min(t,l),t===l&&(e=Math.min(c,e)),t===l&&e===c&&(s=n.maxDate.getSeconds())}return{hours:t,minutes:e,seconds:s}}typeof Object.assign!="function"&&(Object.assign=function(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];if(!n)throw TypeError("Cannot convert undefined or null to object");for(var s=function(l){l&&Object.keys(l).forEach(function(c){return n[c]=l[c]})},i=0,o=t;i<o.length;i++){var r=o[i];s(r)}return n});var ee=function(){return ee=Object.assign||function(n){for(var t,e=1,s=arguments.length;e<s;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ee.apply(this,arguments)},Es=function(){for(var n=0,t=0,e=arguments.length;t<e;t++)n+=arguments[t].length;for(var s=Array(n),i=0,t=0;t<e;t++)for(var o=arguments[t],r=0,l=o.length;r<l;r++,i++)s[i]=o[r];return s},Wl=300;function Jl(n,t){var e={config:ee(ee({},qe),Q.defaultConfig),l10n:Ze};e.parseDate=Dn({config:e.config,l10n:e.l10n}),e._handlers=[],e.pluginElements=[],e.loadedPlugins=[],e._bind=O,e._setHoursFromDate=y,e._positionCalendar=ot,e.changeMonth=Ut,e.changeYear=st,e.clear=Mi,e.close=Fi,e.onMouseOver=rt,e._createElement=B,e.createDay=D,e.destroy=Pi,e.isEnabled=Le,e.jumpToDate=u,e.updateValue=Ae,e.open=$i,e.redraw=Bn,e.set=Vi,e.setDate=qi,e.toggle=Ki;function s(){e.utils={getDaysInMonth:function(h,p){return h===void 0&&(h=e.currentMonth),p===void 0&&(p=e.currentYear),h===1&&(p%4===0&&p%100!==0||p%400===0)?29:e.l10n.daysInMonth[h]}}}function i(){e.element=e.input=n,e.isOpen=!1,Hi(),jn(),Yi(),Ui(),s(),e.isMobile||L(),f(),(e.selectedDates.length||e.config.noCalendar)&&(e.config.enableTime&&y(e.config.noCalendar?e.latestSelectedDateObj:void 0),Ae(!1)),l();var h=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!e.isMobile&&h&&ot(),K("onReady")}function o(){var h;return((h=e.calendarContainer)===null||h===void 0?void 0:h.getRootNode()).activeElement||document.activeElement}function r(h){return h.bind(e)}function l(){var h=e.config;h.weekNumbers===!1&&h.showMonths===1||h.noCalendar!==!0&&window.requestAnimationFrame(function(){if(e.calendarContainer!==void 0&&(e.calendarContainer.style.visibility="hidden",e.calendarContainer.style.display="block"),e.daysContainer!==void 0){var p=(e.days.offsetWidth+1)*h.showMonths;e.daysContainer.style.width=p+"px",e.calendarContainer.style.width=p+(e.weekWrapper!==void 0?e.weekWrapper.offsetWidth:0)+"px",e.calendarContainer.style.removeProperty("visibility"),e.calendarContainer.style.removeProperty("display")}})}function c(h){if(e.selectedDates.length===0){var p=e.config.minDate===void 0||pe(new Date,e.config.minDate)>=0?new Date:new Date(e.config.minDate.getTime()),w=fn(e.config);p.setHours(w.hours,w.minutes,w.seconds,p.getMilliseconds()),e.selectedDates=[p],e.latestSelectedDateObj=p}h!==void 0&&h.type!=="blur"&&Gi(h);var A=e._input.value;v(),Ae(),e._input.value!==A&&e._debouncedChange()}function d(h,p){return h%12+12*ge(p===e.l10n.amPM[1])}function g(h){switch(h%24){case 0:case 12:return 12;default:return h%12}}function v(){if(!(e.hourElement===void 0||e.minuteElement===void 0)){var h=(parseInt(e.hourElement.value.slice(-2),10)||0)%24,p=(parseInt(e.minuteElement.value,10)||0)%60,w=e.secondElement!==void 0?(parseInt(e.secondElement.value,10)||0)%60:0;e.amPM!==void 0&&(h=d(h,e.amPM.textContent));var A=e.config.minTime!==void 0||e.config.minDate&&e.minDateHasTime&&e.latestSelectedDateObj&&pe(e.latestSelectedDateObj,e.config.minDate,!0)===0,T=e.config.maxTime!==void 0||e.config.maxDate&&e.maxDateHasTime&&e.latestSelectedDateObj&&pe(e.latestSelectedDateObj,e.config.maxDate,!0)===0;if(e.config.maxTime!==void 0&&e.config.minTime!==void 0&&e.config.minTime>e.config.maxTime){var M=un(e.config.minTime.getHours(),e.config.minTime.getMinutes(),e.config.minTime.getSeconds()),H=un(e.config.maxTime.getHours(),e.config.maxTime.getMinutes(),e.config.maxTime.getSeconds()),N=un(h,p,w);if(N>H&&N<M){var j=zl(M);h=j[0],p=j[1],w=j[2]}}else{if(T){var P=e.config.maxTime!==void 0?e.config.maxTime:e.config.maxDate;h=Math.min(h,P.getHours()),h===P.getHours()&&(p=Math.min(p,P.getMinutes())),p===P.getMinutes()&&(w=Math.min(w,P.getSeconds()))}if(A){var R=e.config.minTime!==void 0?e.config.minTime:e.config.minDate;h=Math.max(h,R.getHours()),h===R.getHours()&&p<R.getMinutes()&&(p=R.getMinutes()),p===R.getMinutes()&&(w=Math.max(w,R.getSeconds()))}}k(h,p,w)}}function y(h){var p=h||e.latestSelectedDateObj;p&&p instanceof Date&&k(p.getHours(),p.getMinutes(),p.getSeconds())}function k(h,p,w){e.latestSelectedDateObj!==void 0&&e.latestSelectedDateObj.setHours(h%24,p,w||0,0),!(!e.hourElement||!e.minuteElement||e.isMobile)&&(e.hourElement.value=ae(e.config.time_24hr?h:(12+h)%12+12*ge(h%12===0)),e.minuteElement.value=ae(p),e.amPM!==void 0&&(e.amPM.textContent=e.l10n.amPM[ge(h>=12)]),e.secondElement!==void 0&&(e.secondElement.value=ae(w)))}function b(h){var p=fe(h),w=parseInt(p.value)+(h.delta||0);(w/1e3>1||h.key==="Enter"&&!/[^\d]/.test(w.toString()))&&st(w)}function O(h,p,w,A){if(p instanceof Array)return p.forEach(function(T){return O(h,T,w,A)});if(h instanceof Array)return h.forEach(function(T){return O(T,p,w,A)});h.addEventListener(p,w,A),e._handlers.push({remove:function(){return h.removeEventListener(p,w,A)}})}function a(){K("onChange")}function f(){if(e.config.wrap&&["open","close","toggle","clear"].forEach(function(w){Array.prototype.forEach.call(e.element.querySelectorAll("[data-"+w+"]"),function(A){return O(A,"click",e[w])})}),e.isMobile){zi();return}var h=Ss(Ri,50);if(e._debouncedChange=Ss(a,Wl),e.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&O(e.daysContainer,"mouseover",function(w){e.config.mode==="range"&&rt(fe(w))}),O(e._input,"keydown",Rn),e.calendarContainer!==void 0&&O(e.calendarContainer,"keydown",Rn),!e.config.inline&&!e.config.static&&O(window,"resize",h),window.ontouchstart!==void 0?O(window.document,"touchstart",Yt):O(window.document,"mousedown",Yt),O(window.document,"focus",Yt,{capture:!0}),e.config.clickOpens===!0&&(O(e._input,"focus",e.open),O(e._input,"click",e.open)),e.daysContainer!==void 0&&(O(e.monthNav,"click",Ji),O(e.monthNav,["keyup","increment"],b),O(e.daysContainer,"click",Vn)),e.timeContainer!==void 0&&e.minuteElement!==void 0&&e.hourElement!==void 0){var p=function(w){return fe(w).select()};O(e.timeContainer,["increment"],c),O(e.timeContainer,"blur",c,{capture:!0}),O(e.timeContainer,"click",m),O([e.hourElement,e.minuteElement],["focus","click"],p),e.secondElement!==void 0&&O(e.secondElement,"focus",function(){return e.secondElement&&e.secondElement.select()}),e.amPM!==void 0&&O(e.amPM,"click",function(w){c(w)})}e.config.allowInput&&O(e._input,"blur",Ni)}function u(h,p){var w=h!==void 0?e.parseDate(h):e.latestSelectedDateObj||(e.config.minDate&&e.config.minDate>e.now?e.config.minDate:e.config.maxDate&&e.config.maxDate<e.now?e.config.maxDate:e.now),A=e.currentYear,T=e.currentMonth;try{w!==void 0&&(e.currentYear=w.getFullYear(),e.currentMonth=w.getMonth())}catch(M){M.message="Invalid date supplied: "+w,e.config.errorHandler(M)}p&&e.currentYear!==A&&(K("onYearChange"),U()),p&&(e.currentYear!==A||e.currentMonth!==T)&&K("onMonthChange"),e.redraw()}function m(h){var p=fe(h);~p.className.indexOf("arrow")&&S(h,p.classList.contains("arrowUp")?1:-1)}function S(h,p,w){var A=h&&fe(h),T=w||A&&A.parentNode&&A.parentNode.firstChild,M=Kt("increment");M.delta=p,T&&T.dispatchEvent(M)}function L(){var h=window.document.createDocumentFragment();if(e.calendarContainer=B("div","flatpickr-calendar"),e.calendarContainer.tabIndex=-1,!e.config.noCalendar){if(h.appendChild(xe()),e.innerContainer=B("div","flatpickr-innerContainer"),e.config.weekNumbers){var p=Ii(),w=p.weekWrapper,A=p.weekNumbers;e.innerContainer.appendChild(w),e.weekNumbers=A,e.weekWrapper=w}e.rContainer=B("div","flatpickr-rContainer"),e.rContainer.appendChild(Pn()),e.daysContainer||(e.daysContainer=B("div","flatpickr-days"),e.daysContainer.tabIndex=-1),q(),e.rContainer.appendChild(e.daysContainer),e.innerContainer.appendChild(e.rContainer),h.appendChild(e.innerContainer)}e.config.enableTime&&h.appendChild(qt()),se(e.calendarContainer,"rangeMode",e.config.mode==="range"),se(e.calendarContainer,"animate",e.config.animate===!0),se(e.calendarContainer,"multiMonth",e.config.showMonths>1),e.calendarContainer.appendChild(h);var T=e.config.appendTo!==void 0&&e.config.appendTo.nodeType!==void 0;if((e.config.inline||e.config.static)&&(e.calendarContainer.classList.add(e.config.inline?"inline":"static"),e.config.inline&&(!T&&e.element.parentNode?e.element.parentNode.insertBefore(e.calendarContainer,e._input.nextSibling):e.config.appendTo!==void 0&&e.config.appendTo.appendChild(e.calendarContainer)),e.config.static)){var M=B("div","flatpickr-wrapper");e.element.parentNode&&e.element.parentNode.insertBefore(M,e.element),M.appendChild(e.element),e.altInput&&M.appendChild(e.altInput),M.appendChild(e.calendarContainer)}!e.config.static&&!e.config.inline&&(e.config.appendTo!==void 0?e.config.appendTo:window.document.body).appendChild(e.calendarContainer)}function D(h,p,w,A){var T=Le(p,!0),M=B("span",h,p.getDate().toString());return M.dateObj=p,M.$i=A,M.setAttribute("aria-label",e.formatDate(p,e.config.ariaDateFormat)),h.indexOf("hidden")===-1&&pe(p,e.now)===0&&(e.todayDateElem=M,M.classList.add("today"),M.setAttribute("aria-current","date")),T?(M.tabIndex=-1,Wt(p)&&(M.classList.add("selected"),e.selectedDateElem=M,e.config.mode==="range"&&(se(M,"startRange",e.selectedDates[0]&&pe(p,e.selectedDates[0],!0)===0),se(M,"endRange",e.selectedDates[1]&&pe(p,e.selectedDates[1],!0)===0),h==="nextMonthDay"&&M.classList.add("inRange")))):M.classList.add("flatpickr-disabled"),e.config.mode==="range"&&Wi(p)&&!Wt(p)&&M.classList.add("inRange"),e.weekNumbers&&e.config.showMonths===1&&h!=="prevMonthDay"&&A%7===6&&e.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+e.config.getWeek(p)+"</span>"),K("onDayCreate",M),M}function C(h){h.focus(),e.config.mode==="range"&&rt(h)}function _(h){for(var p=h>0?0:e.config.showMonths-1,w=h>0?e.config.showMonths:-1,A=p;A!=w;A+=h)for(var T=e.daysContainer.children[A],M=h>0?0:T.children.length-1,H=h>0?T.children.length:-1,N=M;N!=H;N+=h){var j=T.children[N];if(j.className.indexOf("hidden")===-1&&Le(j.dateObj))return j}}function x(h,p){for(var w=h.className.indexOf("Month")===-1?h.dateObj.getMonth():e.currentMonth,A=p>0?e.config.showMonths:-1,T=p>0?1:-1,M=w-e.currentMonth;M!=A;M+=T)for(var H=e.daysContainer.children[M],N=w-e.currentMonth===M?h.$i+p:p<0?H.children.length-1:0,j=H.children.length,P=N;P>=0&&P<j&&P!=(p>0?j:-1);P+=T){var R=H.children[P];if(R.className.indexOf("hidden")===-1&&Le(R.dateObj)&&Math.abs(h.$i-P)>=Math.abs(p))return C(R)}e.changeMonth(T),F(_(T),0)}function F(h,p){var w=o(),A=it(w||document.body),T=h!==void 0?h:A?w:e.selectedDateElem!==void 0&&it(e.selectedDateElem)?e.selectedDateElem:e.todayDateElem!==void 0&&it(e.todayDateElem)?e.todayDateElem:_(p>0?1:-1);T===void 0?e._input.focus():A?x(T,p):C(T)}function I(h,p){for(var w=(new Date(h,p,1).getDay()-e.l10n.firstDayOfWeek+7)%7,A=e.utils.getDaysInMonth((p-1+12)%12,h),T=e.utils.getDaysInMonth(p,h),M=window.document.createDocumentFragment(),H=e.config.showMonths>1,N=H?"prevMonthDay hidden":"prevMonthDay",j=H?"nextMonthDay hidden":"nextMonthDay",P=A+1-w,R=0;P<=A;P++,R++)M.appendChild(D("flatpickr-day "+N,new Date(h,p-1,P),P,R));for(P=1;P<=T;P++,R++)M.appendChild(D("flatpickr-day",new Date(h,p,P),P,R));for(var V=T+1;V<=42-w&&(e.config.showMonths===1||R%7!==0);V++,R++)M.appendChild(D("flatpickr-day "+j,new Date(h,p+1,V%T),V,R));var Oe=B("div","dayContainer");return Oe.appendChild(M),Oe}function q(){if(e.daysContainer!==void 0){ht(e.daysContainer),e.weekNumbers&&ht(e.weekNumbers);for(var h=document.createDocumentFragment(),p=0;p<e.config.showMonths;p++){var w=new Date(e.currentYear,e.currentMonth,1);w.setMonth(e.currentMonth+p),h.appendChild(I(w.getFullYear(),w.getMonth()))}e.daysContainer.appendChild(h),e.days=e.daysContainer.firstChild,e.config.mode==="range"&&e.selectedDates.length===1&&rt()}}function U(){if(!(e.config.showMonths>1||e.config.monthSelectorType!=="dropdown")){var h=function(A){return e.config.minDate!==void 0&&e.currentYear===e.config.minDate.getFullYear()&&A<e.config.minDate.getMonth()?!1:!(e.config.maxDate!==void 0&&e.currentYear===e.config.maxDate.getFullYear()&&A>e.config.maxDate.getMonth())};e.monthsDropdownContainer.tabIndex=-1,e.monthsDropdownContainer.innerHTML="";for(var p=0;p<12;p++)if(h(p)){var w=B("option","flatpickr-monthDropdown-month");w.value=new Date(e.currentYear,p).getMonth().toString(),w.textContent=kt(p,e.config.shorthandCurrentMonth,e.l10n),w.tabIndex=-1,e.currentMonth===p&&(w.selected=!0),e.monthsDropdownContainer.appendChild(w)}}}function we(){var h=B("div","flatpickr-month"),p=window.document.createDocumentFragment(),w;e.config.showMonths>1||e.config.monthSelectorType==="static"?w=B("span","cur-month"):(e.monthsDropdownContainer=B("select","flatpickr-monthDropdown-months"),e.monthsDropdownContainer.setAttribute("aria-label",e.l10n.monthAriaLabel),O(e.monthsDropdownContainer,"change",function(H){var N=fe(H),j=parseInt(N.value,10);e.changeMonth(j-e.currentMonth),K("onMonthChange")}),U(),w=e.monthsDropdownContainer);var A=pt("cur-year",{tabindex:"-1"}),T=A.getElementsByTagName("input")[0];T.setAttribute("aria-label",e.l10n.yearAriaLabel),e.config.minDate&&T.setAttribute("min",e.config.minDate.getFullYear().toString()),e.config.maxDate&&(T.setAttribute("max",e.config.maxDate.getFullYear().toString()),T.disabled=!!e.config.minDate&&e.config.minDate.getFullYear()===e.config.maxDate.getFullYear());var M=B("div","flatpickr-current-month");return M.appendChild(w),M.appendChild(A),p.appendChild(M),h.appendChild(p),{container:h,yearElement:T,monthElement:w}}function ye(){ht(e.monthNav),e.monthNav.appendChild(e.prevMonthNav),e.config.showMonths&&(e.yearElements=[],e.monthElements=[]);for(var h=e.config.showMonths;h--;){var p=we();e.yearElements.push(p.yearElement),e.monthElements.push(p.monthElement),e.monthNav.appendChild(p.container)}e.monthNav.appendChild(e.nextMonthNav)}function xe(){return e.monthNav=B("div","flatpickr-months"),e.yearElements=[],e.monthElements=[],e.prevMonthNav=B("span","flatpickr-prev-month"),e.prevMonthNav.innerHTML=e.config.prevArrow,e.nextMonthNav=B("span","flatpickr-next-month"),e.nextMonthNav.innerHTML=e.config.nextArrow,ye(),Object.defineProperty(e,"_hidePrevMonthArrow",{get:function(){return e.__hidePrevMonthArrow},set:function(h){e.__hidePrevMonthArrow!==h&&(se(e.prevMonthNav,"flatpickr-disabled",h),e.__hidePrevMonthArrow=h)}}),Object.defineProperty(e,"_hideNextMonthArrow",{get:function(){return e.__hideNextMonthArrow},set:function(h){e.__hideNextMonthArrow!==h&&(se(e.nextMonthNav,"flatpickr-disabled",h),e.__hideNextMonthArrow=h)}}),e.currentYearElement=e.yearElements[0],lt(),e.monthNav}function qt(){e.calendarContainer.classList.add("hasTime"),e.config.noCalendar&&e.calendarContainer.classList.add("noCalendar");var h=fn(e.config);e.timeContainer=B("div","flatpickr-time"),e.timeContainer.tabIndex=-1;var p=B("span","flatpickr-time-separator",":"),w=pt("flatpickr-hour",{"aria-label":e.l10n.hourAriaLabel});e.hourElement=w.getElementsByTagName("input")[0];var A=pt("flatpickr-minute",{"aria-label":e.l10n.minuteAriaLabel});if(e.minuteElement=A.getElementsByTagName("input")[0],e.hourElement.tabIndex=e.minuteElement.tabIndex=-1,e.hourElement.value=ae(e.latestSelectedDateObj?e.latestSelectedDateObj.getHours():e.config.time_24hr?h.hours:g(h.hours)),e.minuteElement.value=ae(e.latestSelectedDateObj?e.latestSelectedDateObj.getMinutes():h.minutes),e.hourElement.setAttribute("step",e.config.hourIncrement.toString()),e.minuteElement.setAttribute("step",e.config.minuteIncrement.toString()),e.hourElement.setAttribute("min",e.config.time_24hr?"0":"1"),e.hourElement.setAttribute("max",e.config.time_24hr?"23":"12"),e.hourElement.setAttribute("maxlength","2"),e.minuteElement.setAttribute("min","0"),e.minuteElement.setAttribute("max","59"),e.minuteElement.setAttribute("maxlength","2"),e.timeContainer.appendChild(w),e.timeContainer.appendChild(p),e.timeContainer.appendChild(A),e.config.time_24hr&&e.timeContainer.classList.add("time24hr"),e.config.enableSeconds){e.timeContainer.classList.add("hasSeconds");var T=pt("flatpickr-second");e.secondElement=T.getElementsByTagName("input")[0],e.secondElement.value=ae(e.latestSelectedDateObj?e.latestSelectedDateObj.getSeconds():h.seconds),e.secondElement.setAttribute("step",e.minuteElement.getAttribute("step")),e.secondElement.setAttribute("min","0"),e.secondElement.setAttribute("max","59"),e.secondElement.setAttribute("maxlength","2"),e.timeContainer.appendChild(B("span","flatpickr-time-separator",":")),e.timeContainer.appendChild(T)}return e.config.time_24hr||(e.amPM=B("span","flatpickr-am-pm",e.l10n.amPM[ge((e.latestSelectedDateObj?e.hourElement.value:e.config.defaultHour)>11)]),e.amPM.title=e.l10n.toggleTitle,e.amPM.tabIndex=-1,e.timeContainer.appendChild(e.amPM)),e.timeContainer}function Pn(){e.weekdayContainer?ht(e.weekdayContainer):e.weekdayContainer=B("div","flatpickr-weekdays");for(var h=e.config.showMonths;h--;){var p=B("div","flatpickr-weekdaycontainer");e.weekdayContainer.appendChild(p)}return Nn(),e.weekdayContainer}function Nn(){if(e.weekdayContainer){var h=e.l10n.firstDayOfWeek,p=Es(e.l10n.weekdays.shorthand);h>0&&h<p.length&&(p=Es(p.splice(h,p.length),p.splice(0,h)));for(var w=e.config.showMonths;w--;)e.weekdayContainer.children[w].innerHTML=`
      <span class='flatpickr-weekday'>
        `+p.join("</span><span class='flatpickr-weekday'>")+`
      </span>
      `}}function Ii(){e.calendarContainer.classList.add("hasWeeks");var h=B("div","flatpickr-weekwrapper");h.appendChild(B("span","flatpickr-weekday",e.l10n.weekAbbreviation));var p=B("div","flatpickr-weeks");return h.appendChild(p),{weekWrapper:h,weekNumbers:p}}function Ut(h,p){p===void 0&&(p=!0);var w=p?h:h-e.currentMonth;w<0&&e._hidePrevMonthArrow===!0||w>0&&e._hideNextMonthArrow===!0||(e.currentMonth+=w,(e.currentMonth<0||e.currentMonth>11)&&(e.currentYear+=e.currentMonth>11?1:-1,e.currentMonth=(e.currentMonth+12)%12,K("onYearChange"),U()),q(),K("onMonthChange"),lt())}function Mi(h,p){if(h===void 0&&(h=!0),p===void 0&&(p=!0),e.input.value="",e.altInput!==void 0&&(e.altInput.value=""),e.mobileInput!==void 0&&(e.mobileInput.value=""),e.selectedDates=[],e.latestSelectedDateObj=void 0,p===!0&&(e.currentYear=e._initialDate.getFullYear(),e.currentMonth=e._initialDate.getMonth()),e.config.enableTime===!0){var w=fn(e.config),A=w.hours,T=w.minutes,M=w.seconds;k(A,T,M)}e.redraw(),h&&K("onChange")}function Fi(){e.isOpen=!1,e.isMobile||(e.calendarContainer!==void 0&&e.calendarContainer.classList.remove("open"),e._input!==void 0&&e._input.classList.remove("active")),K("onClose")}function Pi(){e.config!==void 0&&K("onDestroy");for(var h=e._handlers.length;h--;)e._handlers[h].remove();if(e._handlers=[],e.mobileInput)e.mobileInput.parentNode&&e.mobileInput.parentNode.removeChild(e.mobileInput),e.mobileInput=void 0;else if(e.calendarContainer&&e.calendarContainer.parentNode)if(e.config.static&&e.calendarContainer.parentNode){var p=e.calendarContainer.parentNode;if(p.lastChild&&p.removeChild(p.lastChild),p.parentNode){for(;p.firstChild;)p.parentNode.insertBefore(p.firstChild,p);p.parentNode.removeChild(p)}}else e.calendarContainer.parentNode.removeChild(e.calendarContainer);e.altInput&&(e.input.type="text",e.altInput.parentNode&&e.altInput.parentNode.removeChild(e.altInput),delete e.altInput),e.input&&(e.input.type=e.input._type,e.input.classList.remove("flatpickr-input"),e.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(w){try{delete e[w]}catch{}})}function Ke(h){return e.calendarContainer.contains(h)}function Yt(h){if(e.isOpen&&!e.config.inline){var p=fe(h),w=Ke(p),A=p===e.input||p===e.altInput||e.element.contains(p)||h.path&&h.path.indexOf&&(~h.path.indexOf(e.input)||~h.path.indexOf(e.altInput)),T=!A&&!w&&!Ke(h.relatedTarget),M=!e.config.ignoredFocusElements.some(function(H){return H.contains(p)});T&&M&&(e.config.allowInput&&e.setDate(e._input.value,!1,e.config.altInput?e.config.altFormat:e.config.dateFormat),e.timeContainer!==void 0&&e.minuteElement!==void 0&&e.hourElement!==void 0&&e.input.value!==""&&e.input.value!==void 0&&c(),e.close(),e.config&&e.config.mode==="range"&&e.selectedDates.length===1&&e.clear(!1))}}function st(h){if(!(!h||e.config.minDate&&h<e.config.minDate.getFullYear()||e.config.maxDate&&h>e.config.maxDate.getFullYear())){var p=h,w=e.currentYear!==p;e.currentYear=p||e.currentYear,e.config.maxDate&&e.currentYear===e.config.maxDate.getFullYear()?e.currentMonth=Math.min(e.config.maxDate.getMonth(),e.currentMonth):e.config.minDate&&e.currentYear===e.config.minDate.getFullYear()&&(e.currentMonth=Math.max(e.config.minDate.getMonth(),e.currentMonth)),w&&(e.redraw(),K("onYearChange"),U())}}function Le(h,p){var w;p===void 0&&(p=!0);var A=e.parseDate(h,void 0,p);if(e.config.minDate&&A&&pe(A,e.config.minDate,p!==void 0?p:!e.minDateHasTime)<0||e.config.maxDate&&A&&pe(A,e.config.maxDate,p!==void 0?p:!e.maxDateHasTime)>0)return!1;if(!e.config.enable&&e.config.disable.length===0)return!0;if(A===void 0)return!1;for(var T=!!e.config.enable,M=(w=e.config.enable)!==null&&w!==void 0?w:e.config.disable,H=0,N=void 0;H<M.length;H++){if(N=M[H],typeof N=="function"&&N(A))return T;if(N instanceof Date&&A!==void 0&&N.getTime()===A.getTime())return T;if(typeof N=="string"){var j=e.parseDate(N,void 0,!0);return j&&j.getTime()===A.getTime()?T:!T}else if(typeof N=="object"&&A!==void 0&&N.from&&N.to&&A.getTime()>=N.from.getTime()&&A.getTime()<=N.to.getTime())return T}return!T}function it(h){return e.daysContainer!==void 0?h.className.indexOf("hidden")===-1&&h.className.indexOf("flatpickr-disabled")===-1&&e.daysContainer.contains(h):!1}function Ni(h){var p=h.target===e._input,w=e._input.value.trimEnd()!==Jt();p&&w&&!(h.relatedTarget&&Ke(h.relatedTarget))&&e.setDate(e._input.value,!0,h.target===e.altInput?e.config.altFormat:e.config.dateFormat)}function Rn(h){var p=fe(h),w=e.config.wrap?n.contains(p):p===e._input,A=e.config.allowInput,T=e.isOpen&&(!A||!w),M=e.config.inline&&w&&!A;if(h.keyCode===13&&w){if(A)return e.setDate(e._input.value,!0,p===e.altInput?e.config.altFormat:e.config.dateFormat),e.close(),p.blur();e.open()}else if(Ke(p)||T||M){var H=!!e.timeContainer&&e.timeContainer.contains(p);switch(h.keyCode){case 13:H?(h.preventDefault(),c(),zt()):Vn(h);break;case 27:h.preventDefault(),zt();break;case 8:case 46:w&&!e.config.allowInput&&(h.preventDefault(),e.clear());break;case 37:case 39:if(!H&&!w){h.preventDefault();var N=o();if(e.daysContainer!==void 0&&(A===!1||N&&it(N))){var j=h.keyCode===39?1:-1;h.ctrlKey?(h.stopPropagation(),Ut(j),F(_(1),0)):F(void 0,j)}}else e.hourElement&&e.hourElement.focus();break;case 38:case 40:h.preventDefault();var P=h.keyCode===40?1:-1;e.daysContainer&&p.$i!==void 0||p===e.input||p===e.altInput?h.ctrlKey?(h.stopPropagation(),st(e.currentYear-P),F(_(1),0)):H||F(void 0,P*7):p===e.currentYearElement?st(e.currentYear-P):e.config.enableTime&&(!H&&e.hourElement&&e.hourElement.focus(),c(h),e._debouncedChange());break;case 9:if(H){var R=[e.hourElement,e.minuteElement,e.secondElement,e.amPM].concat(e.pluginElements).filter(function(de){return de}),V=R.indexOf(p);if(V!==-1){var Oe=R[V+(h.shiftKey?-1:1)];h.preventDefault(),(Oe||e._input).focus()}}else!e.config.noCalendar&&e.daysContainer&&e.daysContainer.contains(p)&&h.shiftKey&&(h.preventDefault(),e._input.focus());break}}if(e.amPM!==void 0&&p===e.amPM)switch(h.key){case e.l10n.amPM[0].charAt(0):case e.l10n.amPM[0].charAt(0).toLowerCase():e.amPM.textContent=e.l10n.amPM[0],v(),Ae();break;case e.l10n.amPM[1].charAt(0):case e.l10n.amPM[1].charAt(0).toLowerCase():e.amPM.textContent=e.l10n.amPM[1],v(),Ae();break}(w||Ke(p))&&K("onKeyDown",h)}function rt(h,p){if(p===void 0&&(p="flatpickr-day"),!(e.selectedDates.length!==1||h&&(!h.classList.contains(p)||h.classList.contains("flatpickr-disabled")))){for(var w=h?h.dateObj.getTime():e.days.firstElementChild.dateObj.getTime(),A=e.parseDate(e.selectedDates[0],void 0,!0).getTime(),T=Math.min(w,e.selectedDates[0].getTime()),M=Math.max(w,e.selectedDates[0].getTime()),H=!1,N=0,j=0,P=T;P<M;P+=Kl.DAY)Le(new Date(P),!0)||(H=H||P>T&&P<M,P<A&&(!N||P>N)?N=P:P>A&&(!j||P<j)&&(j=P));var R=Array.from(e.rContainer.querySelectorAll("*:nth-child(-n+"+e.config.showMonths+") > ."+p));R.forEach(function(V){var Oe=V.dateObj,de=Oe.getTime(),We=N>0&&de<N||j>0&&de>j;if(We){V.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(He){V.classList.remove(He)});return}else if(H&&!We)return;["startRange","inRange","endRange","notAllowed"].forEach(function(He){V.classList.remove(He)}),h!==void 0&&(h.classList.add(w<=e.selectedDates[0].getTime()?"startRange":"endRange"),A<w&&de===A?V.classList.add("startRange"):A>w&&de===A&&V.classList.add("endRange"),de>=N&&(j===0||de<=j)&&Yl(de,A,w)&&V.classList.add("inRange"))})}}function Ri(){e.isOpen&&!e.config.static&&!e.config.inline&&ot()}function $i(h,p){if(p===void 0&&(p=e._positionElement),e.isMobile===!0){if(h){h.preventDefault();var w=fe(h);w&&w.blur()}e.mobileInput!==void 0&&(e.mobileInput.focus(),e.mobileInput.click()),K("onOpen");return}else if(e._input.disabled||e.config.inline)return;var A=e.isOpen;e.isOpen=!0,A||(e.calendarContainer.classList.add("open"),e._input.classList.add("active"),K("onOpen"),ot(p)),e.config.enableTime===!0&&e.config.noCalendar===!0&&e.config.allowInput===!1&&(h===void 0||!e.timeContainer.contains(h.relatedTarget))&&setTimeout(function(){return e.hourElement.select()},50)}function $n(h){return function(p){var w=e.config["_"+h+"Date"]=e.parseDate(p,e.config.dateFormat),A=e.config["_"+(h==="min"?"max":"min")+"Date"];w!==void 0&&(e[h==="min"?"minDateHasTime":"maxDateHasTime"]=w.getHours()>0||w.getMinutes()>0||w.getSeconds()>0),e.selectedDates&&(e.selectedDates=e.selectedDates.filter(function(T){return Le(T)}),!e.selectedDates.length&&h==="min"&&y(w),Ae()),e.daysContainer&&(Bn(),w!==void 0?e.currentYearElement[h]=w.getFullYear().toString():e.currentYearElement.removeAttribute(h),e.currentYearElement.disabled=!!A&&w!==void 0&&A.getFullYear()===w.getFullYear())}}function Hi(){var h=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],p=ee(ee({},JSON.parse(JSON.stringify(n.dataset||{}))),t),w={};e.config.parseDate=p.parseDate,e.config.formatDate=p.formatDate,Object.defineProperty(e.config,"enable",{get:function(){return e.config._enable},set:function(R){e.config._enable=Un(R)}}),Object.defineProperty(e.config,"disable",{get:function(){return e.config._disable},set:function(R){e.config._disable=Un(R)}});var A=p.mode==="time";if(!p.dateFormat&&(p.enableTime||A)){var T=Q.defaultConfig.dateFormat||qe.dateFormat;w.dateFormat=p.noCalendar||A?"H:i"+(p.enableSeconds?":S":""):T+" H:i"+(p.enableSeconds?":S":"")}if(p.altInput&&(p.enableTime||A)&&!p.altFormat){var M=Q.defaultConfig.altFormat||qe.altFormat;w.altFormat=p.noCalendar||A?"h:i"+(p.enableSeconds?":S K":" K"):M+(" h:i"+(p.enableSeconds?":S":"")+" K")}Object.defineProperty(e.config,"minDate",{get:function(){return e.config._minDate},set:$n("min")}),Object.defineProperty(e.config,"maxDate",{get:function(){return e.config._maxDate},set:$n("max")});var H=function(R){return function(V){e.config[R==="min"?"_minTime":"_maxTime"]=e.parseDate(V,"H:i:S")}};Object.defineProperty(e.config,"minTime",{get:function(){return e.config._minTime},set:H("min")}),Object.defineProperty(e.config,"maxTime",{get:function(){return e.config._maxTime},set:H("max")}),p.mode==="time"&&(e.config.noCalendar=!0,e.config.enableTime=!0),Object.assign(e.config,w,p);for(var N=0;N<h.length;N++)e.config[h[N]]=e.config[h[N]]===!0||e.config[h[N]]==="true";ln.filter(function(R){return e.config[R]!==void 0}).forEach(function(R){e.config[R]=cn(e.config[R]||[]).map(r)}),e.isMobile=!e.config.disableMobile&&!e.config.inline&&e.config.mode==="single"&&!e.config.disable.length&&!e.config.enable&&!e.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var N=0;N<e.config.plugins.length;N++){var j=e.config.plugins[N](e)||{};for(var P in j)ln.indexOf(P)>-1?e.config[P]=cn(j[P]).map(r).concat(e.config[P]):typeof p[P]>"u"&&(e.config[P]=j[P])}p.altInputClass||(e.config.altInputClass=Hn().className+" "+e.config.altInputClass),K("onParseConfig")}function Hn(){return e.config.wrap?n.querySelector("[data-input]"):n}function jn(){typeof e.config.locale!="object"&&typeof Q.l10ns[e.config.locale]>"u"&&e.config.errorHandler(new Error("flatpickr: invalid locale "+e.config.locale)),e.l10n=ee(ee({},Q.l10ns.default),typeof e.config.locale=="object"?e.config.locale:e.config.locale!=="default"?Q.l10ns[e.config.locale]:void 0),Pe.D="("+e.l10n.weekdays.shorthand.join("|")+")",Pe.l="("+e.l10n.weekdays.longhand.join("|")+")",Pe.M="("+e.l10n.months.shorthand.join("|")+")",Pe.F="("+e.l10n.months.longhand.join("|")+")",Pe.K="("+e.l10n.amPM[0]+"|"+e.l10n.amPM[1]+"|"+e.l10n.amPM[0].toLowerCase()+"|"+e.l10n.amPM[1].toLowerCase()+")";var h=ee(ee({},t),JSON.parse(JSON.stringify(n.dataset||{})));h.time_24hr===void 0&&Q.defaultConfig.time_24hr===void 0&&(e.config.time_24hr=e.l10n.time_24hr),e.formatDate=Ei(e),e.parseDate=Dn({config:e.config,l10n:e.l10n})}function ot(h){if(typeof e.config.position=="function")return void e.config.position(e,h);if(e.calendarContainer!==void 0){K("onPreCalendarPosition");var p=h||e._positionElement,w=Array.prototype.reduce.call(e.calendarContainer.children,function(ir,rr){return ir+rr.offsetHeight},0),A=e.calendarContainer.offsetWidth,T=e.config.position.split(" "),M=T[0],H=T.length>1?T[1]:null,N=p.getBoundingClientRect(),j=window.innerHeight-N.bottom,P=M==="above"||M!=="below"&&j<w&&N.top>w,R=window.pageYOffset+N.top+(P?-w-2:p.offsetHeight+2);if(se(e.calendarContainer,"arrowTop",!P),se(e.calendarContainer,"arrowBottom",P),!e.config.inline){var V=window.pageXOffset+N.left,Oe=!1,de=!1;H==="center"?(V-=(A-N.width)/2,Oe=!0):H==="right"&&(V-=A-N.width,de=!0),se(e.calendarContainer,"arrowLeft",!Oe&&!de),se(e.calendarContainer,"arrowCenter",Oe),se(e.calendarContainer,"arrowRight",de);var We=window.document.body.offsetWidth-(window.pageXOffset+N.right),He=V+A>window.document.body.offsetWidth,Qi=We+A>window.document.body.offsetWidth;if(se(e.calendarContainer,"rightMost",He),!e.config.static)if(e.calendarContainer.style.top=R+"px",!He)e.calendarContainer.style.left=V+"px",e.calendarContainer.style.right="auto";else if(!Qi)e.calendarContainer.style.left="auto",e.calendarContainer.style.right=We+"px";else{var Gt=ji();if(Gt===void 0)return;var Xi=window.document.body.offsetWidth,Zi=Math.max(0,Xi/2-A/2),er=".flatpickr-calendar.centerMost:before",tr=".flatpickr-calendar.centerMost:after",nr=Gt.cssRules.length,sr="{left:"+N.left+"px;right:auto;}";se(e.calendarContainer,"rightMost",!1),se(e.calendarContainer,"centerMost",!0),Gt.insertRule(er+","+tr+sr,nr),e.calendarContainer.style.left=Zi+"px",e.calendarContainer.style.right="auto"}}}}function ji(){for(var h=null,p=0;p<document.styleSheets.length;p++){var w=document.styleSheets[p];if(w.cssRules){try{w.cssRules}catch{continue}h=w;break}}return h??Bi()}function Bi(){var h=document.createElement("style");return document.head.appendChild(h),h.sheet}function Bn(){e.config.noCalendar||e.isMobile||(U(),lt(),q())}function zt(){e._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(e.close,0):e.close()}function Vn(h){h.preventDefault(),h.stopPropagation();var p=function(R){return R.classList&&R.classList.contains("flatpickr-day")&&!R.classList.contains("flatpickr-disabled")&&!R.classList.contains("notAllowed")},w=Si(fe(h),p);if(w!==void 0){var A=w,T=e.latestSelectedDateObj=new Date(A.dateObj.getTime()),M=(T.getMonth()<e.currentMonth||T.getMonth()>e.currentMonth+e.config.showMonths-1)&&e.config.mode!=="range";if(e.selectedDateElem=A,e.config.mode==="single")e.selectedDates=[T];else if(e.config.mode==="multiple"){var H=Wt(T);H?e.selectedDates.splice(parseInt(H),1):e.selectedDates.push(T)}else e.config.mode==="range"&&(e.selectedDates.length===2&&e.clear(!1,!1),e.latestSelectedDateObj=T,e.selectedDates.push(T),pe(T,e.selectedDates[0],!0)!==0&&e.selectedDates.sort(function(R,V){return R.getTime()-V.getTime()}));if(v(),M){var N=e.currentYear!==T.getFullYear();e.currentYear=T.getFullYear(),e.currentMonth=T.getMonth(),N&&(K("onYearChange"),U()),K("onMonthChange")}if(lt(),q(),Ae(),!M&&e.config.mode!=="range"&&e.config.showMonths===1?C(A):e.selectedDateElem!==void 0&&e.hourElement===void 0&&e.selectedDateElem&&e.selectedDateElem.focus(),e.hourElement!==void 0&&e.hourElement!==void 0&&e.hourElement.focus(),e.config.closeOnSelect){var j=e.config.mode==="single"&&!e.config.enableTime,P=e.config.mode==="range"&&e.selectedDates.length===2&&!e.config.enableTime;(j||P)&&zt()}a()}}var at={locale:[jn,Nn],showMonths:[ye,l,Pn],minDate:[u],maxDate:[u],positionElement:[Yn],clickOpens:[function(){e.config.clickOpens===!0?(O(e._input,"focus",e.open),O(e._input,"click",e.open)):(e._input.removeEventListener("focus",e.open),e._input.removeEventListener("click",e.open))}]};function Vi(h,p){if(h!==null&&typeof h=="object"){Object.assign(e.config,h);for(var w in h)at[w]!==void 0&&at[w].forEach(function(A){return A()})}else e.config[h]=p,at[h]!==void 0?at[h].forEach(function(A){return A()}):ln.indexOf(h)>-1&&(e.config[h]=cn(p));e.redraw(),Ae(!0)}function qn(h,p){var w=[];if(h instanceof Array)w=h.map(function(A){return e.parseDate(A,p)});else if(h instanceof Date||typeof h=="number")w=[e.parseDate(h,p)];else if(typeof h=="string")switch(e.config.mode){case"single":case"time":w=[e.parseDate(h,p)];break;case"multiple":w=h.split(e.config.conjunction).map(function(A){return e.parseDate(A,p)});break;case"range":w=h.split(e.l10n.rangeSeparator).map(function(A){return e.parseDate(A,p)});break}else e.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(h)));e.selectedDates=e.config.allowInvalidPreload?w:w.filter(function(A){return A instanceof Date&&Le(A,!1)}),e.config.mode==="range"&&e.selectedDates.sort(function(A,T){return A.getTime()-T.getTime()})}function qi(h,p,w){if(p===void 0&&(p=!1),w===void 0&&(w=e.config.dateFormat),h!==0&&!h||h instanceof Array&&h.length===0)return e.clear(p);qn(h,w),e.latestSelectedDateObj=e.selectedDates[e.selectedDates.length-1],e.redraw(),u(void 0,p),y(),e.selectedDates.length===0&&e.clear(!1),Ae(p),p&&K("onChange")}function Un(h){return h.slice().map(function(p){return typeof p=="string"||typeof p=="number"||p instanceof Date?e.parseDate(p,void 0,!0):p&&typeof p=="object"&&p.from&&p.to?{from:e.parseDate(p.from,void 0),to:e.parseDate(p.to,void 0)}:p}).filter(function(p){return p})}function Ui(){e.selectedDates=[],e.now=e.parseDate(e.config.now)||new Date;var h=e.config.defaultDate||((e.input.nodeName==="INPUT"||e.input.nodeName==="TEXTAREA")&&e.input.placeholder&&e.input.value===e.input.placeholder?null:e.input.value);h&&qn(h,e.config.dateFormat),e._initialDate=e.selectedDates.length>0?e.selectedDates[0]:e.config.minDate&&e.config.minDate.getTime()>e.now.getTime()?e.config.minDate:e.config.maxDate&&e.config.maxDate.getTime()<e.now.getTime()?e.config.maxDate:e.now,e.currentYear=e._initialDate.getFullYear(),e.currentMonth=e._initialDate.getMonth(),e.selectedDates.length>0&&(e.latestSelectedDateObj=e.selectedDates[0]),e.config.minTime!==void 0&&(e.config.minTime=e.parseDate(e.config.minTime,"H:i")),e.config.maxTime!==void 0&&(e.config.maxTime=e.parseDate(e.config.maxTime,"H:i")),e.minDateHasTime=!!e.config.minDate&&(e.config.minDate.getHours()>0||e.config.minDate.getMinutes()>0||e.config.minDate.getSeconds()>0),e.maxDateHasTime=!!e.config.maxDate&&(e.config.maxDate.getHours()>0||e.config.maxDate.getMinutes()>0||e.config.maxDate.getSeconds()>0)}function Yi(){if(e.input=Hn(),!e.input){e.config.errorHandler(new Error("Invalid input element specified"));return}e.input._type=e.input.type,e.input.type="text",e.input.classList.add("flatpickr-input"),e._input=e.input,e.config.altInput&&(e.altInput=B(e.input.nodeName,e.config.altInputClass),e._input=e.altInput,e.altInput.placeholder=e.input.placeholder,e.altInput.disabled=e.input.disabled,e.altInput.required=e.input.required,e.altInput.tabIndex=e.input.tabIndex,e.altInput.type="text",e.input.setAttribute("type","hidden"),!e.config.static&&e.input.parentNode&&e.input.parentNode.insertBefore(e.altInput,e.input.nextSibling)),e.config.allowInput||e._input.setAttribute("readonly","readonly"),Yn()}function Yn(){e._positionElement=e.config.positionElement||e._input}function zi(){var h=e.config.enableTime?e.config.noCalendar?"time":"datetime-local":"date";e.mobileInput=B("input",e.input.className+" flatpickr-mobile"),e.mobileInput.tabIndex=1,e.mobileInput.type=h,e.mobileInput.disabled=e.input.disabled,e.mobileInput.required=e.input.required,e.mobileInput.placeholder=e.input.placeholder,e.mobileFormatStr=h==="datetime-local"?"Y-m-d\\TH:i:S":h==="date"?"Y-m-d":"H:i:S",e.selectedDates.length>0&&(e.mobileInput.defaultValue=e.mobileInput.value=e.formatDate(e.selectedDates[0],e.mobileFormatStr)),e.config.minDate&&(e.mobileInput.min=e.formatDate(e.config.minDate,"Y-m-d")),e.config.maxDate&&(e.mobileInput.max=e.formatDate(e.config.maxDate,"Y-m-d")),e.input.getAttribute("step")&&(e.mobileInput.step=String(e.input.getAttribute("step"))),e.input.type="hidden",e.altInput!==void 0&&(e.altInput.type="hidden");try{e.input.parentNode&&e.input.parentNode.insertBefore(e.mobileInput,e.input.nextSibling)}catch{}O(e.mobileInput,"change",function(p){e.setDate(fe(p).value,!1,e.mobileFormatStr),K("onChange"),K("onClose")})}function Ki(h){if(e.isOpen===!0)return e.close();e.open(h)}function K(h,p){if(e.config!==void 0){var w=e.config[h];if(w!==void 0&&w.length>0)for(var A=0;w[A]&&A<w.length;A++)w[A](e.selectedDates,e.input.value,e,p);h==="onChange"&&(e.input.dispatchEvent(Kt("change")),e.input.dispatchEvent(Kt("input")))}}function Kt(h){var p=document.createEvent("Event");return p.initEvent(h,!0,!0),p}function Wt(h){for(var p=0;p<e.selectedDates.length;p++){var w=e.selectedDates[p];if(w instanceof Date&&pe(w,h)===0)return""+p}return!1}function Wi(h){return e.config.mode!=="range"||e.selectedDates.length<2?!1:pe(h,e.selectedDates[0])>=0&&pe(h,e.selectedDates[1])<=0}function lt(){e.config.noCalendar||e.isMobile||!e.monthNav||(e.yearElements.forEach(function(h,p){var w=new Date(e.currentYear,e.currentMonth,1);w.setMonth(e.currentMonth+p),e.config.showMonths>1||e.config.monthSelectorType==="static"?e.monthElements[p].textContent=kt(w.getMonth(),e.config.shorthandCurrentMonth,e.l10n)+" ":e.monthsDropdownContainer.value=w.getMonth().toString(),h.value=w.getFullYear().toString()}),e._hidePrevMonthArrow=e.config.minDate!==void 0&&(e.currentYear===e.config.minDate.getFullYear()?e.currentMonth<=e.config.minDate.getMonth():e.currentYear<e.config.minDate.getFullYear()),e._hideNextMonthArrow=e.config.maxDate!==void 0&&(e.currentYear===e.config.maxDate.getFullYear()?e.currentMonth+1>e.config.maxDate.getMonth():e.currentYear>e.config.maxDate.getFullYear()))}function Jt(h){var p=h||(e.config.altInput?e.config.altFormat:e.config.dateFormat);return e.selectedDates.map(function(w){return e.formatDate(w,p)}).filter(function(w,A,T){return e.config.mode!=="range"||e.config.enableTime||T.indexOf(w)===A}).join(e.config.mode!=="range"?e.config.conjunction:e.l10n.rangeSeparator)}function Ae(h){h===void 0&&(h=!0),e.mobileInput!==void 0&&e.mobileFormatStr&&(e.mobileInput.value=e.latestSelectedDateObj!==void 0?e.formatDate(e.latestSelectedDateObj,e.mobileFormatStr):""),e.input.value=Jt(e.config.dateFormat),e.altInput!==void 0&&(e.altInput.value=Jt(e.config.altFormat)),h!==!1&&K("onValueUpdate")}function Ji(h){var p=fe(h),w=e.prevMonthNav.contains(p),A=e.nextMonthNav.contains(p);w||A?Ut(w?-1:1):e.yearElements.indexOf(p)>=0?p.select():p.classList.contains("arrowUp")?e.changeYear(e.currentYear+1):p.classList.contains("arrowDown")&&e.changeYear(e.currentYear-1)}function Gi(h){h.preventDefault();var p=h.type==="keydown",w=fe(h),A=w;e.amPM!==void 0&&w===e.amPM&&(e.amPM.textContent=e.l10n.amPM[ge(e.amPM.textContent===e.l10n.amPM[0])]);var T=parseFloat(A.getAttribute("min")),M=parseFloat(A.getAttribute("max")),H=parseFloat(A.getAttribute("step")),N=parseInt(A.value,10),j=h.delta||(p?h.which===38?1:-1:0),P=N+H*j;if(typeof A.value<"u"&&A.value.length===2){var R=A===e.hourElement,V=A===e.minuteElement;P<T?(P=M+P+ge(!R)+(ge(R)&&ge(!e.amPM)),V&&S(void 0,-1,e.hourElement)):P>M&&(P=A===e.hourElement?P-M-ge(!e.amPM):T,V&&S(void 0,1,e.hourElement)),e.amPM&&R&&(H===1?P+N===23:Math.abs(P-N)>H)&&(e.amPM.textContent=e.l10n.amPM[ge(e.amPM.textContent===e.l10n.amPM[0])]),A.value=ae(P)}}return i(),e}function Ue(n,t){for(var e=Array.prototype.slice.call(n).filter(function(r){return r instanceof HTMLElement}),s=[],i=0;i<e.length;i++){var o=e[i];try{if(o.getAttribute("data-fp-omit")!==null)continue;o._flatpickr!==void 0&&(o._flatpickr.destroy(),o._flatpickr=void 0),o._flatpickr=Jl(o,t||{}),s.push(o._flatpickr)}catch(r){console.error(r)}}return s.length===1?s[0]:s}typeof HTMLElement<"u"&&typeof HTMLCollection<"u"&&typeof NodeList<"u"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(n){return Ue(this,n)},HTMLElement.prototype.flatpickr=function(n){return Ue([this],n)});var Q=function(n,t){return typeof n=="string"?Ue(window.document.querySelectorAll(n),t):n instanceof Node?Ue([n],t):Ue(n,t)};Q.defaultConfig={};Q.l10ns={en:ee({},Ze),default:ee({},Ze)};Q.localize=function(n){Q.l10ns.default=ee(ee({},Q.l10ns.default),n)};Q.setDefaults=function(n){Q.defaultConfig=ee(ee({},Q.defaultConfig),n)};Q.parseDate=Dn({});Q.formatDate=Ei({});Q.compareDates=pe;typeof jQuery<"u"&&typeof jQuery.fn<"u"&&(jQuery.fn.flatpickr=function(n){return Ue(this,n)});Date.prototype.fp_incr=function(n){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof n=="string"?parseInt(n,10):n))};typeof window<"u"&&(window.flatpickr=Q);function hn(n,t){n.split(/\s+/).forEach(e=>{t(e)})}class Gl{constructor(){this._events={}}on(t,e){hn(t,s=>{const i=this._events[s]||[];i.push(e),this._events[s]=i})}off(t,e){var s=arguments.length;if(s===0){this._events={};return}hn(t,i=>{if(s===1){delete this._events[i];return}const o=this._events[i];o!==void 0&&(o.splice(o.indexOf(e),1),this._events[i]=o)})}trigger(t,...e){var s=this;hn(t,i=>{const o=s._events[i];o!==void 0&&o.forEach(r=>{r.apply(s,e)})})}}function Ql(n){return n.plugins={},class extends n{constructor(){super(...arguments),this.plugins={names:[],settings:{},requested:{},loaded:{}}}static define(t,e){n.plugins[t]={name:t,fn:e}}initializePlugins(t){var e,s;const i=this,o=[];if(Array.isArray(t))t.forEach(r=>{typeof r=="string"?o.push(r):(i.plugins.settings[r.name]=r.options,o.push(r.name))});else if(t)for(e in t)t.hasOwnProperty(e)&&(i.plugins.settings[e]=t[e],o.push(e));for(;s=o.shift();)i.require(s)}loadPlugin(t){var e=this,s=e.plugins,i=n.plugins[t];if(!n.plugins.hasOwnProperty(t))throw new Error('Unable to find "'+t+'" plugin');s.requested[t]=!0,s.loaded[t]=i.fn.apply(e,[e.plugins.settings[t]||{}]),s.names.push(t)}require(t){var e=this,s=e.plugins;if(!e.plugins.loaded.hasOwnProperty(t)){if(s.requested[t])throw new Error('Plugin has circular dependency ("'+t+'")');e.loadPlugin(t)}return s.loaded[t]}}}const Vt=n=>(n=n.filter(Boolean),n.length<2?n[0]||"":Zl(n)==1?"["+n.join("")+"]":"(?:"+n.join("|")+")"),Ai=n=>{if(!Xl(n))return n.join("");let t="",e=0;const s=()=>{e>1&&(t+="{"+e+"}")};return n.forEach((i,o)=>{if(i===n[o-1]){e++;return}s(),t+=i,e=1}),s(),t},xi=n=>{let t=Array.from(n);return Vt(t)},Xl=n=>new Set(n).size!==n.length,et=n=>(n+"").replace(/([\$\(\)\*\+\.\?\[\]\^\{\|\}\\])/gu,"\\$1"),Zl=n=>n.reduce((t,e)=>Math.max(t,ec(e)),0),ec=n=>Array.from(n).length,_i=n=>{if(n.length===1)return[[n]];let t=[];const e=n.substring(1);return _i(e).forEach(function(i){let o=i.slice(0);o[0]=n.charAt(0)+o[0],t.push(o),o=i.slice(0),o.unshift(n.charAt(0)),t.push(o)}),t},tc=[[0,65535]],nc="[̀-ͯ·ʾʼ]";let Tt,Di;const sc=3,Fn={},As={"/":"⁄∕",0:"߀",a:"ⱥɐɑ",aa:"ꜳ",ae:"æǽǣ",ao:"ꜵ",au:"ꜷ",av:"ꜹꜻ",ay:"ꜽ",b:"ƀɓƃ",c:"ꜿƈȼↄ",d:"đɗɖᴅƌꮷԁɦ",e:"ɛǝᴇɇ",f:"ꝼƒ",g:"ǥɠꞡᵹꝿɢ",h:"ħⱨⱶɥ",i:"ɨı",j:"ɉȷ",k:"ƙⱪꝁꝃꝅꞣ",l:"łƚɫⱡꝉꝇꞁɭ",m:"ɱɯϻ",n:"ꞥƞɲꞑᴎлԉ",o:"øǿɔɵꝋꝍᴑ",oe:"œ",oi:"ƣ",oo:"ꝏ",ou:"ȣ",p:"ƥᵽꝑꝓꝕρ",q:"ꝗꝙɋ",r:"ɍɽꝛꞧꞃ",s:"ßȿꞩꞅʂ",t:"ŧƭʈⱦꞇ",th:"þ",tz:"ꜩ",u:"ʉ",v:"ʋꝟʌ",vy:"ꝡ",w:"ⱳ",y:"ƴɏỿ",z:"ƶȥɀⱬꝣ",hv:"ƕ"};for(let n in As){let t=As[n]||"";for(let e=0;e<t.length;e++){let s=t.substring(e,e+1);Fn[s]=n}}const ic=new RegExp(Object.keys(Fn).join("|")+"|"+nc,"gu"),rc=n=>{Tt===void 0&&(Tt=cc(tc))},xs=(n,t="NFKD")=>n.normalize(t),It=n=>Array.from(n).reduce((t,e)=>t+oc(e),""),oc=n=>(n=xs(n).toLowerCase().replace(ic,t=>Fn[t]||""),xs(n,"NFC"));function*ac(n){for(const[t,e]of n)for(let s=t;s<=e;s++){let i=String.fromCharCode(s),o=It(i);o!=i.toLowerCase()&&(o.length>sc||o.length!=0&&(yield{folded:o,composed:i,code_point:s}))}}const lc=n=>{const t={},e=(s,i)=>{const o=t[s]||new Set,r=new RegExp("^"+xi(o)+"$","iu");i.match(r)||(o.add(et(i)),t[s]=o)};for(let s of ac(n))e(s.folded,s.folded),e(s.folded,s.composed);return t},cc=n=>{const t=lc(n),e={};let s=[];for(let o in t){let r=t[o];r&&(e[o]=xi(r)),o.length>1&&s.push(et(o))}s.sort((o,r)=>r.length-o.length);const i=Vt(s);return Di=new RegExp("^"+i,"u"),e},dc=(n,t=1)=>{let e=0;return n=n.map(s=>(Tt[s]&&(e+=s.length),Tt[s]||s)),e>=t?Ai(n):""},uc=(n,t=1)=>(t=Math.max(t,n.length-1),Vt(_i(n).map(e=>dc(e,t)))),_s=(n,t=!0)=>{let e=n.length>1?1:0;return Vt(n.map(s=>{let i=[];const o=t?s.length():s.length()-1;for(let r=0;r<o;r++)i.push(uc(s.substrs[r]||"",e));return Ai(i)}))},fc=(n,t)=>{for(const e of t){if(e.start!=n.start||e.end!=n.end||e.substrs.join("")!==n.substrs.join(""))continue;let s=n.parts;const i=r=>{for(const l of s){if(l.start===r.start&&l.substr===r.substr)return!1;if(!(r.length==1||l.length==1)&&(r.start<l.start&&r.end>l.start||l.start<r.start&&l.end>r.start))return!0}return!1};if(!(e.parts.filter(i).length>0))return!0}return!1};class Mt{constructor(){ke(this,"parts");ke(this,"substrs");ke(this,"start");ke(this,"end");this.parts=[],this.substrs=[],this.start=0,this.end=0}add(t){t&&(this.parts.push(t),this.substrs.push(t.substr),this.start=Math.min(t.start,this.start),this.end=Math.max(t.end,this.end))}last(){return this.parts[this.parts.length-1]}length(){return this.parts.length}clone(t,e){let s=new Mt,i=JSON.parse(JSON.stringify(this.parts)),o=i.pop();for(const c of i)s.add(c);let r=e.substr.substring(0,t-o.start),l=r.length;return s.add({start:o.start,end:o.start+l,length:l,substr:r}),s}}const hc=n=>{rc(),n=It(n);let t="",e=[new Mt];for(let s=0;s<n.length;s++){let o=n.substring(s).match(Di);const r=n.substring(s,s+1),l=o?o[0]:null;let c=[],d=new Set;for(const g of e){const v=g.last();if(!v||v.length==1||v.end<=s)if(l){const y=l.length;g.add({start:s,end:s+y,length:y,substr:l}),d.add("1")}else g.add({start:s,end:s+1,length:1,substr:r}),d.add("2");else if(l){let y=g.clone(s,v);const k=l.length;y.add({start:s,end:s+k,length:k,substr:l}),c.push(y)}else d.add("3")}if(c.length>0){c=c.sort((g,v)=>g.length()-v.length());for(let g of c)fc(g,e)||e.push(g);continue}if(s>0&&d.size==1&&!d.has("3")){t+=_s(e,!1);let g=new Mt;const v=e[0];v&&g.add(v.last()),e=[g]}}return t+=_s(e,!0),t},pc=(n,t)=>{if(n)return n[t]},gc=(n,t)=>{if(n){for(var e,s=t.split(".");(e=s.shift())&&(n=n[e]););return n}},pn=(n,t,e)=>{var s,i;return!n||(n=n+"",t.regex==null)||(i=n.search(t.regex),i===-1)?0:(s=t.string.length/n.length,i===0&&(s+=.5),s*e)},gn=(n,t)=>{var e=n[t];if(typeof e=="function")return e;e&&!Array.isArray(e)&&(n[t]=[e])},gt=(n,t)=>{if(Array.isArray(n))n.forEach(t);else for(var e in n)n.hasOwnProperty(e)&&t(n[e],e)},mc=(n,t)=>typeof n=="number"&&typeof t=="number"?n>t?1:n<t?-1:0:(n=It(n+"").toLowerCase(),t=It(t+"").toLowerCase(),n>t?1:t>n?-1:0);class vc{constructor(t,e){ke(this,"items");ke(this,"settings");this.items=t,this.settings=e||{diacritics:!0}}tokenize(t,e,s){if(!t||!t.length)return[];const i=[],o=t.split(/\s+/);var r;return s&&(r=new RegExp("^("+Object.keys(s).map(et).join("|")+"):(.*)$")),o.forEach(l=>{let c,d=null,g=null;r&&(c=l.match(r))&&(d=c[1],l=c[2]),l.length>0&&(this.settings.diacritics?g=hc(l)||null:g=et(l),g&&e&&(g="\\b"+g)),i.push({string:l,regex:g?new RegExp(g,"iu"):null,field:d})}),i}getScoreFunction(t,e){var s=this.prepareSearch(t,e);return this._getScoreFunction(s)}_getScoreFunction(t){const e=t.tokens,s=e.length;if(!s)return function(){return 0};const i=t.options.fields,o=t.weights,r=i.length,l=t.getAttrFn;if(!r)return function(){return 1};const c=function(){return r===1?function(d,g){const v=i[0].field;return pn(l(g,v),d,o[v]||1)}:function(d,g){var v=0;if(d.field){const y=l(g,d.field);!d.regex&&y?v+=1/r:v+=pn(y,d,1)}else gt(o,(y,k)=>{v+=pn(l(g,k),d,y)});return v/r}}();return s===1?function(d){return c(e[0],d)}:t.options.conjunction==="and"?function(d){var g,v=0;for(let y of e){if(g=c(y,d),g<=0)return 0;v+=g}return v/s}:function(d){var g=0;return gt(e,v=>{g+=c(v,d)}),g/s}}getSortFunction(t,e){var s=this.prepareSearch(t,e);return this._getSortFunction(s)}_getSortFunction(t){var e,s=[];const i=this,o=t.options,r=!t.query&&o.sort_empty?o.sort_empty:o.sort;if(typeof r=="function")return r.bind(this);const l=function(d,g){return d==="$score"?g.score:t.getAttrFn(i.items[g.id],d)};if(r)for(let d of r)(t.query||d.field!=="$score")&&s.push(d);if(t.query){e=!0;for(let d of s)if(d.field==="$score"){e=!1;break}e&&s.unshift({field:"$score",direction:"desc"})}else s=s.filter(d=>d.field!=="$score");return s.length?function(d,g){var v,y;for(let k of s)if(y=k.field,v=(k.direction==="desc"?-1:1)*mc(l(y,d),l(y,g)),v)return v;return 0}:null}prepareSearch(t,e){const s={};var i=Object.assign({},e);if(gn(i,"sort"),gn(i,"sort_empty"),i.fields){gn(i,"fields");const o=[];i.fields.forEach(r=>{typeof r=="string"&&(r={field:r,weight:1}),o.push(r),s[r.field]="weight"in r?r.weight:1}),i.fields=o}return{options:i,query:t.toLowerCase().trim(),tokens:this.tokenize(t,i.respect_word_boundaries,s),total:0,items:[],weights:s,getAttrFn:i.nesting?gc:pc}}search(t,e){var s=this,i,o;o=this.prepareSearch(t,e),e=o.options,t=o.query;const r=e.score||s._getScoreFunction(o);t.length?gt(s.items,(c,d)=>{i=r(c),(e.filter===!1||i>0)&&o.items.push({score:i,id:d})}):gt(s.items,(c,d)=>{o.items.push({score:1,id:d})});const l=s._getSortFunction(o);return l&&o.items.sort(l),o.total=o.items.length,typeof e.limit=="number"&&(o.items=o.items.slice(0,e.limit)),o}}const ve=n=>typeof n>"u"||n===null?null:St(n),St=n=>typeof n=="boolean"?n?"1":"0":n+"",mn=n=>(n+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),bc=(n,t)=>t>0?window.setTimeout(n,t):(n.call(null),null),wc=(n,t)=>{var e;return function(s,i){var o=this;e&&(o.loading=Math.max(o.loading-1,0),clearTimeout(e)),e=setTimeout(function(){e=null,o.loadedSearches[s]=!0,n.call(o,s,i)},t)}},Ds=(n,t,e)=>{var s,i=n.trigger,o={};n.trigger=function(){var r=arguments[0];if(t.indexOf(r)!==-1)o[r]=arguments;else return i.apply(n,arguments)},e.apply(n,[]),n.trigger=i;for(s of t)s in o&&i.apply(n,o[s])},yc=n=>({start:n.selectionStart||0,length:(n.selectionEnd||0)-(n.selectionStart||0)}),W=(n,t=!1)=>{n&&(n.preventDefault(),t&&n.stopPropagation())},ie=(n,t,e,s)=>{n.addEventListener(t,e,s)},Me=(n,t)=>{if(!t||!t[n])return!1;var e=(t.altKey?1:0)+(t.ctrlKey?1:0)+(t.shiftKey?1:0)+(t.metaKey?1:0);return e===1},vn=(n,t)=>{const e=n.getAttribute("id");return e||(n.setAttribute("id",t),t)},Ls=n=>n.replace(/[\\"']/g,"\\$&"),Fe=(n,t)=>{t&&n.append(t)},Z=(n,t)=>{if(Array.isArray(n))n.forEach(t);else for(var e in n)n.hasOwnProperty(e)&&t(n[e],e)},Ee=n=>{if(n.jquery)return n[0];if(n instanceof HTMLElement)return n;if(Li(n)){var t=document.createElement("template");return t.innerHTML=n.trim(),t.content.firstChild}return document.querySelector(n)},Li=n=>typeof n=="string"&&n.indexOf("<")>-1,Oc=n=>n.replace(/['"\\]/g,"\\$&"),bn=(n,t)=>{var e=document.createEvent("HTMLEvents");e.initEvent(t,!0,!1),n.dispatchEvent(e)},mt=(n,t)=>{Object.assign(n.style,t)},he=(n,...t)=>{var e=ki(t);n=Ti(n),n.map(s=>{e.map(i=>{s.classList.add(i)})})},De=(n,...t)=>{var e=ki(t);n=Ti(n),n.map(s=>{e.map(i=>{s.classList.remove(i)})})},ki=n=>{var t=[];return Z(n,e=>{typeof e=="string"&&(e=e.trim().split(/[\t\n\f\r\s]/)),Array.isArray(e)&&(t=t.concat(e))}),t.filter(Boolean)},Ti=n=>(Array.isArray(n)||(n=[n]),n),wn=(n,t,e)=>{if(!(e&&!e.contains(n)))for(;n&&n.matches;){if(n.matches(t))return n;n=n.parentNode}},ks=(n,t=0)=>t>0?n[n.length-1]:n[0],Cc=n=>Object.keys(n).length===0,Ts=(n,t)=>{if(!n)return-1;t=t||n.nodeName;for(var e=0;n=n.previousElementSibling;)n.matches(t)&&e++;return e},z=(n,t)=>{Z(t,(e,s)=>{e==null?n.removeAttribute(s):n.setAttribute(s,""+e)})},Ln=(n,t)=>{n.parentNode&&n.parentNode.replaceChild(t,n)},Sc=(n,t)=>{if(t===null)return;if(typeof t=="string"){if(!t.length)return;t=new RegExp(t,"i")}const e=o=>{var r=o.data.match(t);if(r&&o.data.length>0){var l=document.createElement("span");l.className="highlight";var c=o.splitText(r.index);c.splitText(r[0].length);var d=c.cloneNode(!0);return l.appendChild(d),Ln(c,l),1}return 0},s=o=>{o.nodeType===1&&o.childNodes&&!/(script|style)/i.test(o.tagName)&&(o.className!=="highlight"||o.tagName!=="SPAN")&&Array.from(o.childNodes).forEach(r=>{i(r)})},i=o=>o.nodeType===3?e(o):(s(o),0);i(n)},Ec=n=>{var t=n.querySelectorAll("span.highlight");Array.prototype.forEach.call(t,function(e){var s=e.parentNode;s.replaceChild(e.firstChild,e),s.normalize()})},Ac=65,xc=13,_c=27,Dc=37,Lc=38,kc=39,Tc=40,Is=8,Ic=46,Ms=9,Mc=typeof navigator>"u"?!1:/Mac/.test(navigator.userAgent),vt=Mc?"metaKey":"ctrlKey",Fs={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:null,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,shouldOpen:null,maxOptions:50,maxItems:null,hideSelected:null,duplicates:!1,addPrecedence:!1,selectOnTab:!1,preload:null,allowEmptyOption:!1,refreshThrottle:300,loadThrottle:300,loadingClass:"loading",dataAttr:null,optgroupField:"optgroup",valueField:"value",labelField:"text",disabledField:"disabled",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"ts-wrapper",controlClass:"ts-control",dropdownClass:"ts-dropdown",dropdownContentClass:"ts-dropdown-content",itemClass:"item",optionClass:"option",dropdownParent:null,controlInput:'<input type="text" autocomplete="off" size="1" />',copyClassesToDropdown:!1,placeholder:null,hidePlaceholder:null,shouldLoad:function(n){return n.length>0},render:{}};function Ps(n,t){var e=Object.assign({},Fs,t),s=e.dataAttr,i=e.labelField,o=e.valueField,r=e.disabledField,l=e.optgroupField,c=e.optgroupLabelField,d=e.optgroupValueField,g=n.tagName.toLowerCase(),v=n.getAttribute("placeholder")||n.getAttribute("data-placeholder");if(!v&&!e.allowEmptyOption){let O=n.querySelector('option[value=""]');O&&(v=O.textContent)}var y={placeholder:v,options:[],optgroups:[],items:[],maxItems:null},k=()=>{var O,a=y.options,f={},u=1;let m=0;var S=C=>{var _=Object.assign({},C.dataset),x=s&&_[s];return typeof x=="string"&&x.length&&(_=Object.assign(_,JSON.parse(x))),_},L=(C,_)=>{var x=ve(C.value);if(x!=null&&!(!x&&!e.allowEmptyOption)){if(f.hasOwnProperty(x)){if(_){var F=f[x][l];F?Array.isArray(F)?F.push(_):f[x][l]=[F,_]:f[x][l]=_}}else{var I=S(C);I[i]=I[i]||C.textContent,I[o]=I[o]||x,I[r]=I[r]||C.disabled,I[l]=I[l]||_,I.$option=C,I.$order=I.$order||++m,f[x]=I,a.push(I)}C.selected&&y.items.push(x)}},D=C=>{var _,x;x=S(C),x[c]=x[c]||C.getAttribute("label")||"",x[d]=x[d]||u++,x[r]=x[r]||C.disabled,x.$order=x.$order||++m,y.optgroups.push(x),_=x[d],Z(C.children,F=>{L(F,_)})};y.maxItems=n.hasAttribute("multiple")?null:1,Z(n.children,C=>{O=C.tagName.toLowerCase(),O==="optgroup"?D(C):O==="option"&&L(C)})},b=()=>{const O=n.getAttribute(s);if(O)y.options=JSON.parse(O),Z(y.options,f=>{y.items.push(f[o])});else{var a=n.value.trim()||"";if(!e.allowEmptyOption&&!a.length)return;const f=a.split(e.delimiter);Z(f,u=>{const m={};m[i]=u,m[o]=u,y.options.push(m)}),y.items=f}};return g==="select"?k():b(),Object.assign({},Fs,y,t)}var Ns=0;class oe extends Ql(Gl){constructor(t,e){super(),this.order=0,this.isOpen=!1,this.isDisabled=!1,this.isReadOnly=!1,this.isInvalid=!1,this.isValid=!0,this.isLocked=!1,this.isFocused=!1,this.isInputHidden=!1,this.isSetup=!1,this.ignoreFocus=!1,this.ignoreHover=!1,this.hasOptions=!1,this.lastValue="",this.caretPos=0,this.loading=0,this.loadedSearches={},this.activeOption=null,this.activeItems=[],this.optgroups={},this.options={},this.userOptions={},this.items=[],this.refreshTimeout=null,Ns++;var s,i=Ee(t);if(i.tomselect)throw new Error("Tom Select already initialized on this element");i.tomselect=this;var o=window.getComputedStyle&&window.getComputedStyle(i,null);s=o.getPropertyValue("direction");const r=Ps(i,e);this.settings=r,this.input=i,this.tabIndex=i.tabIndex||0,this.is_select_tag=i.tagName.toLowerCase()==="select",this.rtl=/rtl/i.test(s),this.inputId=vn(i,"tomselect-"+Ns),this.isRequired=i.required,this.sifter=new vc(this.options,{diacritics:r.diacritics}),r.mode=r.mode||(r.maxItems===1?"single":"multi"),typeof r.hideSelected!="boolean"&&(r.hideSelected=r.mode==="multi"),typeof r.hidePlaceholder!="boolean"&&(r.hidePlaceholder=r.mode!=="multi");var l=r.createFilter;typeof l!="function"&&(typeof l=="string"&&(l=new RegExp(l)),l instanceof RegExp?r.createFilter=a=>l.test(a):r.createFilter=a=>this.settings.duplicates||!this.options[a]),this.initializePlugins(r.plugins),this.setupCallbacks(),this.setupTemplates();const c=Ee("<div>"),d=Ee("<div>"),g=this._render("dropdown"),v=Ee('<div role="listbox" tabindex="-1">'),y=this.input.getAttribute("class")||"",k=r.mode;var b;if(he(c,r.wrapperClass,y,k),he(d,r.controlClass),Fe(c,d),he(g,r.dropdownClass,k),r.copyClassesToDropdown&&he(g,y),he(v,r.dropdownContentClass),Fe(g,v),Ee(r.dropdownParent||c).appendChild(g),Li(r.controlInput)){b=Ee(r.controlInput);var O=["autocorrect","autocapitalize","autocomplete","spellcheck"];Z(O,a=>{i.getAttribute(a)&&z(b,{[a]:i.getAttribute(a)})}),b.tabIndex=-1,d.appendChild(b),this.focus_node=b}else r.controlInput?(b=Ee(r.controlInput),this.focus_node=b):(b=Ee("<input/>"),this.focus_node=d);this.wrapper=c,this.dropdown=g,this.dropdown_content=v,this.control=d,this.control_input=b,this.setup()}setup(){const t=this,e=t.settings,s=t.control_input,i=t.dropdown,o=t.dropdown_content,r=t.wrapper,l=t.control,c=t.input,d=t.focus_node,g={passive:!0},v=t.inputId+"-ts-dropdown";z(o,{id:v}),z(d,{role:"combobox","aria-haspopup":"listbox","aria-expanded":"false","aria-controls":v});const y=vn(d,t.inputId+"-ts-control"),k="label[for='"+Oc(t.inputId)+"']",b=document.querySelector(k),O=t.focus.bind(t);if(b){ie(b,"click",O),z(b,{for:y});const u=vn(b,t.inputId+"-ts-label");z(d,{"aria-labelledby":u}),z(o,{"aria-labelledby":u})}if(r.style.width=c.style.width,t.plugins.names.length){const u="plugin-"+t.plugins.names.join(" plugin-");he([r,i],u)}(e.maxItems===null||e.maxItems>1)&&t.is_select_tag&&z(c,{multiple:"multiple"}),e.placeholder&&z(s,{placeholder:e.placeholder}),!e.splitOn&&e.delimiter&&(e.splitOn=new RegExp("\\s*"+et(e.delimiter)+"+\\s*")),e.load&&e.loadThrottle&&(e.load=wc(e.load,e.loadThrottle)),ie(i,"mousemove",()=>{t.ignoreHover=!1}),ie(i,"mouseenter",u=>{var m=wn(u.target,"[data-selectable]",i);m&&t.onOptionHover(u,m)},{capture:!0}),ie(i,"click",u=>{const m=wn(u.target,"[data-selectable]");m&&(t.onOptionSelect(u,m),W(u,!0))}),ie(l,"click",u=>{var m=wn(u.target,"[data-ts-item]",l);if(m&&t.onItemSelect(u,m)){W(u,!0);return}s.value==""&&(t.onClick(),W(u,!0))}),ie(d,"keydown",u=>t.onKeyDown(u)),ie(s,"keypress",u=>t.onKeyPress(u)),ie(s,"input",u=>t.onInput(u)),ie(d,"blur",u=>t.onBlur(u)),ie(d,"focus",u=>t.onFocus(u)),ie(s,"paste",u=>t.onPaste(u));const a=u=>{const m=u.composedPath()[0];if(!r.contains(m)&&!i.contains(m)){t.isFocused&&t.blur(),t.inputState();return}m==s&&t.isOpen?u.stopPropagation():W(u,!0)},f=()=>{t.isOpen&&t.positionDropdown()};ie(document,"mousedown",a),ie(window,"scroll",f,g),ie(window,"resize",f,g),this._destroy=()=>{document.removeEventListener("mousedown",a),window.removeEventListener("scroll",f),window.removeEventListener("resize",f),b&&b.removeEventListener("click",O)},this.revertSettings={innerHTML:c.innerHTML,tabIndex:c.tabIndex},c.tabIndex=-1,c.insertAdjacentElement("afterend",t.wrapper),t.sync(!1),e.items=[],delete e.optgroups,delete e.options,ie(c,"invalid",()=>{t.isValid&&(t.isValid=!1,t.isInvalid=!0,t.refreshState())}),t.updateOriginalInput(),t.refreshItems(),t.close(!1),t.inputState(),t.isSetup=!0,c.disabled?t.disable():c.readOnly?t.setReadOnly(!0):t.enable(),t.on("change",this.onChange),he(c,"tomselected","ts-hidden-accessible"),t.trigger("initialize"),e.preload===!0&&t.preload()}setupOptions(t=[],e=[]){this.addOptions(t),Z(e,s=>{this.registerOptionGroup(s)})}setupTemplates(){var t=this,e=t.settings.labelField,s=t.settings.optgroupLabelField,i={optgroup:o=>{let r=document.createElement("div");return r.className="optgroup",r.appendChild(o.options),r},optgroup_header:(o,r)=>'<div class="optgroup-header">'+r(o[s])+"</div>",option:(o,r)=>"<div>"+r(o[e])+"</div>",item:(o,r)=>"<div>"+r(o[e])+"</div>",option_create:(o,r)=>'<div class="create">Add <strong>'+r(o.input)+"</strong>&hellip;</div>",no_results:()=>'<div class="no-results">No results found</div>',loading:()=>'<div class="spinner"></div>',not_loading:()=>{},dropdown:()=>"<div></div>"};t.settings.render=Object.assign({},i,t.settings.render)}setupCallbacks(){var t,e,s={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",item_select:"onItemSelect",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(t in s)e=this.settings[s[t]],e&&this.on(t,e)}sync(t=!0){const e=this,s=t?Ps(e.input,{delimiter:e.settings.delimiter}):e.settings;e.setupOptions(s.options,s.optgroups),e.setValue(s.items||[],!0),e.lastQuery=null}onClick(){var t=this;if(t.activeItems.length>0){t.clearActiveItems(),t.focus();return}t.isFocused&&t.isOpen?t.blur():t.focus()}onMouseDown(){}onChange(){bn(this.input,"input"),bn(this.input,"change")}onPaste(t){var e=this;if(e.isInputHidden||e.isLocked){W(t);return}e.settings.splitOn&&setTimeout(()=>{var s=e.inputValue();if(s.match(e.settings.splitOn)){var i=s.trim().split(e.settings.splitOn);Z(i,o=>{ve(o)&&(this.options[o]?e.addItem(o):e.createItem(o))})}},0)}onKeyPress(t){var e=this;if(e.isLocked){W(t);return}var s=String.fromCharCode(t.keyCode||t.which);if(e.settings.create&&e.settings.mode==="multi"&&s===e.settings.delimiter){e.createItem(),W(t);return}}onKeyDown(t){var e=this;if(e.ignoreHover=!0,e.isLocked){t.keyCode!==Ms&&W(t);return}switch(t.keyCode){case Ac:if(Me(vt,t)&&e.control_input.value==""){W(t),e.selectAll();return}break;case _c:e.isOpen&&(W(t,!0),e.close()),e.clearActiveItems();return;case Tc:if(!e.isOpen&&e.hasOptions)e.open();else if(e.activeOption){let s=e.getAdjacent(e.activeOption,1);s&&e.setActiveOption(s)}W(t);return;case Lc:if(e.activeOption){let s=e.getAdjacent(e.activeOption,-1);s&&e.setActiveOption(s)}W(t);return;case xc:e.canSelect(e.activeOption)?(e.onOptionSelect(t,e.activeOption),W(t)):(e.settings.create&&e.createItem()||document.activeElement==e.control_input&&e.isOpen)&&W(t);return;case Dc:e.advanceSelection(-1,t);return;case kc:e.advanceSelection(1,t);return;case Ms:e.settings.selectOnTab&&(e.canSelect(e.activeOption)&&(e.onOptionSelect(t,e.activeOption),W(t)),e.settings.create&&e.createItem()&&W(t));return;case Is:case Ic:e.deleteSelection(t);return}e.isInputHidden&&!Me(vt,t)&&W(t)}onInput(t){if(this.isLocked)return;const e=this.inputValue();if(this.lastValue!==e){if(this.lastValue=e,e==""){this._onInput();return}this.refreshTimeout&&window.clearTimeout(this.refreshTimeout),this.refreshTimeout=bc(()=>{this.refreshTimeout=null,this._onInput()},this.settings.refreshThrottle)}}_onInput(){const t=this.lastValue;this.settings.shouldLoad.call(this,t)&&this.load(t),this.refreshOptions(),this.trigger("type",t)}onOptionHover(t,e){this.ignoreHover||this.setActiveOption(e,!1)}onFocus(t){var e=this,s=e.isFocused;if(e.isDisabled||e.isReadOnly){e.blur(),W(t);return}e.ignoreFocus||(e.isFocused=!0,e.settings.preload==="focus"&&e.preload(),s||e.trigger("focus"),e.activeItems.length||(e.inputState(),e.refreshOptions(!!e.settings.openOnFocus)),e.refreshState())}onBlur(t){if(document.hasFocus()!==!1){var e=this;if(e.isFocused){e.isFocused=!1,e.ignoreFocus=!1;var s=()=>{e.close(),e.setActiveItem(),e.setCaret(e.items.length),e.trigger("blur")};e.settings.create&&e.settings.createOnBlur?e.createItem(null,s):s()}}}onOptionSelect(t,e){var s,i=this;e.parentElement&&e.parentElement.matches("[data-disabled]")||(e.classList.contains("create")?i.createItem(null,()=>{i.settings.closeAfterSelect&&i.close()}):(s=e.dataset.value,typeof s<"u"&&(i.lastQuery=null,i.addItem(s),i.settings.closeAfterSelect&&i.close(),!i.settings.hideSelected&&t.type&&/click/.test(t.type)&&i.setActiveOption(e))))}canSelect(t){return!!(this.isOpen&&t&&this.dropdown_content.contains(t))}onItemSelect(t,e){var s=this;return!s.isLocked&&s.settings.mode==="multi"?(W(t),s.setActiveItem(e,t),!0):!1}canLoad(t){return!(!this.settings.load||this.loadedSearches.hasOwnProperty(t))}load(t){const e=this;if(!e.canLoad(t))return;he(e.wrapper,e.settings.loadingClass),e.loading++;const s=e.loadCallback.bind(e);e.settings.load.call(e,t,s)}loadCallback(t,e){const s=this;s.loading=Math.max(s.loading-1,0),s.lastQuery=null,s.clearActiveOption(),s.setupOptions(t,e),s.refreshOptions(s.isFocused&&!s.isInputHidden),s.loading||De(s.wrapper,s.settings.loadingClass),s.trigger("load",t,e)}preload(){var t=this.wrapper.classList;t.contains("preloaded")||(t.add("preloaded"),this.load(""))}setTextboxValue(t=""){var e=this.control_input,s=e.value!==t;s&&(e.value=t,bn(e,"update"),this.lastValue=t)}getValue(){return this.is_select_tag&&this.input.hasAttribute("multiple")?this.items:this.items.join(this.settings.delimiter)}setValue(t,e){var s=e?[]:["change"];Ds(this,s,()=>{this.clear(e),this.addItems(t,e)})}setMaxItems(t){t===0&&(t=null),this.settings.maxItems=t,this.refreshState()}setActiveItem(t,e){var s=this,i,o,r,l,c,d;if(s.settings.mode!=="single"){if(!t){s.clearActiveItems(),s.isFocused&&s.inputState();return}if(i=e&&e.type.toLowerCase(),i==="click"&&Me("shiftKey",e)&&s.activeItems.length){for(d=s.getLastActive(),r=Array.prototype.indexOf.call(s.control.children,d),l=Array.prototype.indexOf.call(s.control.children,t),r>l&&(c=r,r=l,l=c),o=r;o<=l;o++)t=s.control.children[o],s.activeItems.indexOf(t)===-1&&s.setActiveItemClass(t);W(e)}else i==="click"&&Me(vt,e)||i==="keydown"&&Me("shiftKey",e)?t.classList.contains("active")?s.removeActiveItem(t):s.setActiveItemClass(t):(s.clearActiveItems(),s.setActiveItemClass(t));s.inputState(),s.isFocused||s.focus()}}setActiveItemClass(t){const e=this,s=e.control.querySelector(".last-active");s&&De(s,"last-active"),he(t,"active last-active"),e.trigger("item_select",t),e.activeItems.indexOf(t)==-1&&e.activeItems.push(t)}removeActiveItem(t){var e=this.activeItems.indexOf(t);this.activeItems.splice(e,1),De(t,"active")}clearActiveItems(){De(this.activeItems,"active"),this.activeItems=[]}setActiveOption(t,e=!0){t!==this.activeOption&&(this.clearActiveOption(),t&&(this.activeOption=t,z(this.focus_node,{"aria-activedescendant":t.getAttribute("id")}),z(t,{"aria-selected":"true"}),he(t,"active"),e&&this.scrollToOption(t)))}scrollToOption(t,e){if(!t)return;const s=this.dropdown_content,i=s.clientHeight,o=s.scrollTop||0,r=t.offsetHeight,l=t.getBoundingClientRect().top-s.getBoundingClientRect().top+o;l+r>i+o?this.scroll(l-i+r,e):l<o&&this.scroll(l,e)}scroll(t,e){const s=this.dropdown_content;e&&(s.style.scrollBehavior=e),s.scrollTop=t,s.style.scrollBehavior=""}clearActiveOption(){this.activeOption&&(De(this.activeOption,"active"),z(this.activeOption,{"aria-selected":null})),this.activeOption=null,z(this.focus_node,{"aria-activedescendant":null})}selectAll(){const t=this;if(t.settings.mode==="single")return;const e=t.controlChildren();e.length&&(t.inputState(),t.close(),t.activeItems=e,Z(e,s=>{t.setActiveItemClass(s)}))}inputState(){var t=this;t.control.contains(t.control_input)&&(z(t.control_input,{placeholder:t.settings.placeholder}),t.activeItems.length>0||!t.isFocused&&t.settings.hidePlaceholder&&t.items.length>0?(t.setTextboxValue(),t.isInputHidden=!0):(t.settings.hidePlaceholder&&t.items.length>0&&z(t.control_input,{placeholder:""}),t.isInputHidden=!1),t.wrapper.classList.toggle("input-hidden",t.isInputHidden))}inputValue(){return this.control_input.value.trim()}focus(){var t=this;t.isDisabled||t.isReadOnly||(t.ignoreFocus=!0,t.control_input.offsetWidth?t.control_input.focus():t.focus_node.focus(),setTimeout(()=>{t.ignoreFocus=!1,t.onFocus()},0))}blur(){this.focus_node.blur(),this.onBlur()}getScoreFunction(t){return this.sifter.getScoreFunction(t,this.getSearchOptions())}getSearchOptions(){var t=this.settings,e=t.sortField;return typeof t.sortField=="string"&&(e=[{field:t.sortField}]),{fields:t.searchField,conjunction:t.searchConjunction,sort:e,nesting:t.nesting}}search(t){var e,s,i=this,o=this.getSearchOptions();if(i.settings.score&&(s=i.settings.score.call(i,t),typeof s!="function"))throw new Error('Tom Select "score" setting must be a function that returns a function');return t!==i.lastQuery?(i.lastQuery=t,e=i.sifter.search(t,Object.assign(o,{score:s})),i.currentResults=e):e=Object.assign({},i.currentResults),i.settings.hideSelected&&(e.items=e.items.filter(r=>{let l=ve(r.id);return!(l&&i.items.indexOf(l)!==-1)})),e}refreshOptions(t=!0){var e,s,i,o,r,l,c,d,g,v;const y={},k=[];var b=this,O=b.inputValue();const a=O===b.lastQuery||O==""&&b.lastQuery==null;var f=b.search(O),u=null,m=b.settings.shouldOpen||!1,S=b.dropdown_content;a&&(u=b.activeOption,u&&(g=u.closest("[data-group]"))),o=f.items.length,typeof b.settings.maxOptions=="number"&&(o=Math.min(o,b.settings.maxOptions)),o>0&&(m=!0);const L=(C,_)=>{let x=y[C];if(x!==void 0){let I=k[x];if(I!==void 0)return[x,I.fragment]}let F=document.createDocumentFragment();return x=k.length,k.push({fragment:F,order:_,optgroup:C}),[x,F]};for(e=0;e<o;e++){let C=f.items[e];if(!C)continue;let _=C.id,x=b.options[_];if(x===void 0)continue;let F=St(_),I=b.getOption(F,!0);for(b.settings.hideSelected||I.classList.toggle("selected",b.items.includes(F)),r=x[b.settings.optgroupField]||"",l=Array.isArray(r)?r:[r],s=0,i=l&&l.length;s<i;s++){r=l[s];let q=x.$order,U=b.optgroups[r];U===void 0?r="":q=U.$order;const[we,ye]=L(r,q);s>0&&(I=I.cloneNode(!0),z(I,{id:x.$id+"-clone-"+s,"aria-selected":null}),I.classList.add("ts-cloned"),De(I,"active"),b.activeOption&&b.activeOption.dataset.value==_&&g&&g.dataset.group===r.toString()&&(u=I)),ye.appendChild(I),r!=""&&(y[r]=we)}}b.settings.lockOptgroupOrder&&k.sort((C,_)=>C.order-_.order),c=document.createDocumentFragment(),Z(k,C=>{let _=C.fragment,x=C.optgroup;if(!_||!_.children.length)return;let F=b.optgroups[x];if(F!==void 0){let I=document.createDocumentFragment(),q=b.render("optgroup_header",F);Fe(I,q),Fe(I,_);let U=b.render("optgroup",{group:F,options:I});Fe(c,U)}else Fe(c,_)}),S.innerHTML="",Fe(S,c),b.settings.highlight&&(Ec(S),f.query.length&&f.tokens.length&&Z(f.tokens,C=>{Sc(S,C.regex)}));var D=C=>{let _=b.render(C,{input:O});return _&&(m=!0,S.insertBefore(_,S.firstChild)),_};if(b.loading?D("loading"):b.settings.shouldLoad.call(b,O)?f.items.length===0&&D("no_results"):D("not_loading"),d=b.canCreate(O),d&&(v=D("option_create")),b.hasOptions=f.items.length>0||d,m){if(f.items.length>0){if(!u&&b.settings.mode==="single"&&b.items[0]!=null&&(u=b.getOption(b.items[0])),!S.contains(u)){let C=0;v&&!b.settings.addPrecedence&&(C=1),u=b.selectable()[C]}}else v&&(u=v);t&&!b.isOpen&&(b.open(),b.scrollToOption(u,"auto")),b.setActiveOption(u)}else b.clearActiveOption(),t&&b.isOpen&&b.close(!1)}selectable(){return this.dropdown_content.querySelectorAll("[data-selectable]")}addOption(t,e=!1){const s=this;if(Array.isArray(t))return s.addOptions(t,e),!1;const i=ve(t[s.settings.valueField]);return i===null||s.options.hasOwnProperty(i)?!1:(t.$order=t.$order||++s.order,t.$id=s.inputId+"-opt-"+t.$order,s.options[i]=t,s.lastQuery=null,e&&(s.userOptions[i]=e,s.trigger("option_add",i,t)),i)}addOptions(t,e=!1){Z(t,s=>{this.addOption(s,e)})}registerOption(t){return this.addOption(t)}registerOptionGroup(t){var e=ve(t[this.settings.optgroupValueField]);return e===null?!1:(t.$order=t.$order||++this.order,this.optgroups[e]=t,e)}addOptionGroup(t,e){var s;e[this.settings.optgroupValueField]=t,(s=this.registerOptionGroup(e))&&this.trigger("optgroup_add",s,e)}removeOptionGroup(t){this.optgroups.hasOwnProperty(t)&&(delete this.optgroups[t],this.clearCache(),this.trigger("optgroup_remove",t))}clearOptionGroups(){this.optgroups={},this.clearCache(),this.trigger("optgroup_clear")}updateOption(t,e){const s=this;var i,o;const r=ve(t),l=ve(e[s.settings.valueField]);if(r===null)return;const c=s.options[r];if(c==null)return;if(typeof l!="string")throw new Error("Value must be set in option data");const d=s.getOption(r),g=s.getItem(r);if(e.$order=e.$order||c.$order,delete s.options[r],s.uncacheValue(l),s.options[l]=e,d){if(s.dropdown_content.contains(d)){const v=s._render("option",e);Ln(d,v),s.activeOption===d&&s.setActiveOption(v)}d.remove()}g&&(o=s.items.indexOf(r),o!==-1&&s.items.splice(o,1,l),i=s._render("item",e),g.classList.contains("active")&&he(i,"active"),Ln(g,i)),s.lastQuery=null}removeOption(t,e){const s=this;t=St(t),s.uncacheValue(t),delete s.userOptions[t],delete s.options[t],s.lastQuery=null,s.trigger("option_remove",t),s.removeItem(t,e)}clearOptions(t){const e=(t||this.clearFilter).bind(this);this.loadedSearches={},this.userOptions={},this.clearCache();const s={};Z(this.options,(i,o)=>{e(i,o)&&(s[o]=i)}),this.options=this.sifter.items=s,this.lastQuery=null,this.trigger("option_clear")}clearFilter(t,e){return this.items.indexOf(e)>=0}getOption(t,e=!1){const s=ve(t);if(s===null)return null;const i=this.options[s];if(i!=null){if(i.$div)return i.$div;if(e)return this._render("option",i)}return null}getAdjacent(t,e,s="option"){var i=this,o;if(!t)return null;s=="item"?o=i.controlChildren():o=i.dropdown_content.querySelectorAll("[data-selectable]");for(let r=0;r<o.length;r++)if(o[r]==t)return e>0?o[r+1]:o[r-1];return null}getItem(t){if(typeof t=="object")return t;var e=ve(t);return e!==null?this.control.querySelector(`[data-value="${Ls(e)}"]`):null}addItems(t,e){var s=this,i=Array.isArray(t)?t:[t];i=i.filter(r=>s.items.indexOf(r)===-1);const o=i[i.length-1];i.forEach(r=>{s.isPending=r!==o,s.addItem(r,e)})}addItem(t,e){var s=e?[]:["change","dropdown_close"];Ds(this,s,()=>{var i,o;const r=this,l=r.settings.mode,c=ve(t);if(!(c&&r.items.indexOf(c)!==-1&&(l==="single"&&r.close(),l==="single"||!r.settings.duplicates))&&!(c===null||!r.options.hasOwnProperty(c))&&(l==="single"&&r.clear(e),!(l==="multi"&&r.isFull()))){if(i=r._render("item",r.options[c]),r.control.contains(i)&&(i=i.cloneNode(!0)),o=r.isFull(),r.items.splice(r.caretPos,0,c),r.insertAtCaret(i),r.isSetup){if(!r.isPending&&r.settings.hideSelected){let d=r.getOption(c),g=r.getAdjacent(d,1);g&&r.setActiveOption(g)}!r.isPending&&!r.settings.closeAfterSelect&&r.refreshOptions(r.isFocused&&l!=="single"),r.settings.closeAfterSelect!=!1&&r.isFull()?r.close():r.isPending||r.positionDropdown(),r.trigger("item_add",c,i),r.isPending||r.updateOriginalInput({silent:e})}(!r.isPending||!o&&r.isFull())&&(r.inputState(),r.refreshState())}})}removeItem(t=null,e){const s=this;if(t=s.getItem(t),!t)return;var i,o;const r=t.dataset.value;i=Ts(t),t.remove(),t.classList.contains("active")&&(o=s.activeItems.indexOf(t),s.activeItems.splice(o,1),De(t,"active")),s.items.splice(i,1),s.lastQuery=null,!s.settings.persist&&s.userOptions.hasOwnProperty(r)&&s.removeOption(r,e),i<s.caretPos&&s.setCaret(s.caretPos-1),s.updateOriginalInput({silent:e}),s.refreshState(),s.positionDropdown(),s.trigger("item_remove",r,t)}createItem(t=null,e=()=>{}){arguments.length===3&&(e=arguments[2]),typeof e!="function"&&(e=()=>{});var s=this,i=s.caretPos,o;if(t=t||s.inputValue(),!s.canCreate(t))return e(),!1;s.lock();var r=!1,l=c=>{if(s.unlock(),!c||typeof c!="object")return e();var d=ve(c[s.settings.valueField]);if(typeof d!="string")return e();s.setTextboxValue(),s.addOption(c,!0),s.setCaret(i),s.addItem(d),e(c),r=!0};return typeof s.settings.create=="function"?o=s.settings.create.call(this,t,l):o={[s.settings.labelField]:t,[s.settings.valueField]:t},r||l(o),!0}refreshItems(){var t=this;t.lastQuery=null,t.isSetup&&t.addItems(t.items),t.updateOriginalInput(),t.refreshState()}refreshState(){const t=this;t.refreshValidityState();const e=t.isFull(),s=t.isLocked;t.wrapper.classList.toggle("rtl",t.rtl);const i=t.wrapper.classList;i.toggle("focus",t.isFocused),i.toggle("disabled",t.isDisabled),i.toggle("readonly",t.isReadOnly),i.toggle("required",t.isRequired),i.toggle("invalid",!t.isValid),i.toggle("locked",s),i.toggle("full",e),i.toggle("input-active",t.isFocused&&!t.isInputHidden),i.toggle("dropdown-active",t.isOpen),i.toggle("has-options",Cc(t.options)),i.toggle("has-items",t.items.length>0)}refreshValidityState(){var t=this;t.input.validity&&(t.isValid=t.input.validity.valid,t.isInvalid=!t.isValid)}isFull(){return this.settings.maxItems!==null&&this.items.length>=this.settings.maxItems}updateOriginalInput(t={}){const e=this;var s,i;const o=e.input.querySelector('option[value=""]');if(e.is_select_tag){let d=function(g,v,y){return g||(g=Ee('<option value="'+mn(v)+'">'+mn(y)+"</option>")),g!=o&&e.input.append(g),l.push(g),(g!=o||c>0)&&(g.selected=!0),g};var r=d;const l=[],c=e.input.querySelectorAll("option:checked").length;e.input.querySelectorAll("option:checked").forEach(g=>{g.selected=!1}),e.items.length==0&&e.settings.mode=="single"?d(o,"",""):e.items.forEach(g=>{if(s=e.options[g],i=s[e.settings.labelField]||"",l.includes(s.$option)){const v=e.input.querySelector(`option[value="${Ls(g)}"]:not(:checked)`);d(v,g,i)}else s.$option=d(s.$option,g,i)})}else e.input.value=e.getValue();e.isSetup&&(t.silent||e.trigger("change",e.getValue()))}open(){var t=this;t.isLocked||t.isOpen||t.settings.mode==="multi"&&t.isFull()||(t.isOpen=!0,z(t.focus_node,{"aria-expanded":"true"}),t.refreshState(),mt(t.dropdown,{visibility:"hidden",display:"block"}),t.positionDropdown(),mt(t.dropdown,{visibility:"visible",display:"block"}),t.focus(),t.trigger("dropdown_open",t.dropdown))}close(t=!0){var e=this,s=e.isOpen;t&&(e.setTextboxValue(),e.settings.mode==="single"&&e.items.length&&e.inputState()),e.isOpen=!1,z(e.focus_node,{"aria-expanded":"false"}),mt(e.dropdown,{display:"none"}),e.settings.hideSelected&&e.clearActiveOption(),e.refreshState(),s&&e.trigger("dropdown_close",e.dropdown)}positionDropdown(){if(this.settings.dropdownParent==="body"){var t=this.control,e=t.getBoundingClientRect(),s=t.offsetHeight+e.top+window.scrollY,i=e.left+window.scrollX;mt(this.dropdown,{width:e.width+"px",top:s+"px",left:i+"px"})}}clear(t){var e=this;if(e.items.length){var s=e.controlChildren();Z(s,i=>{e.removeItem(i,!0)}),e.inputState(),t||e.updateOriginalInput(),e.trigger("clear")}}insertAtCaret(t){const e=this,s=e.caretPos,i=e.control;i.insertBefore(t,i.children[s]||null),e.setCaret(s+1)}deleteSelection(t){var e,s,i,o,r=this;e=t&&t.keyCode===Is?-1:1,s=yc(r.control_input);const l=[];if(r.activeItems.length)o=ks(r.activeItems,e),i=Ts(o),e>0&&i++,Z(r.activeItems,c=>l.push(c));else if((r.isFocused||r.settings.mode==="single")&&r.items.length){const c=r.controlChildren();let d;e<0&&s.start===0&&s.length===0?d=c[r.caretPos-1]:e>0&&s.start===r.inputValue().length&&(d=c[r.caretPos]),d!==void 0&&l.push(d)}if(!r.shouldDelete(l,t))return!1;for(W(t,!0),typeof i<"u"&&r.setCaret(i);l.length;)r.removeItem(l.pop());return r.inputState(),r.positionDropdown(),r.refreshOptions(!1),!0}shouldDelete(t,e){const s=t.map(i=>i.dataset.value);return!(!s.length||typeof this.settings.onDelete=="function"&&this.settings.onDelete(s,e)===!1)}advanceSelection(t,e){var s,i,o=this;o.rtl&&(t*=-1),!o.inputValue().length&&(Me(vt,e)||Me("shiftKey",e)?(s=o.getLastActive(t),s?s.classList.contains("active")?i=o.getAdjacent(s,t,"item"):i=s:t>0?i=o.control_input.nextElementSibling:i=o.control_input.previousElementSibling,i&&(i.classList.contains("active")&&o.removeActiveItem(s),o.setActiveItemClass(i))):o.moveCaret(t))}moveCaret(t){}getLastActive(t){let e=this.control.querySelector(".last-active");if(e)return e;var s=this.control.querySelectorAll(".active");if(s)return ks(s,t)}setCaret(t){this.caretPos=this.items.length}controlChildren(){return Array.from(this.control.querySelectorAll("[data-ts-item]"))}lock(){this.setLocked(!0)}unlock(){this.setLocked(!1)}setLocked(t=this.isReadOnly||this.isDisabled){this.isLocked=t,this.refreshState()}disable(){this.setDisabled(!0),this.close()}enable(){this.setDisabled(!1)}setDisabled(t){this.focus_node.tabIndex=t?-1:this.tabIndex,this.isDisabled=t,this.input.disabled=t,this.control_input.disabled=t,this.setLocked()}setReadOnly(t){this.isReadOnly=t,this.input.readOnly=t,this.control_input.readOnly=t,this.setLocked()}destroy(){var t=this,e=t.revertSettings;t.trigger("destroy"),t.off(),t.wrapper.remove(),t.dropdown.remove(),t.input.innerHTML=e.innerHTML,t.input.tabIndex=e.tabIndex,De(t.input,"tomselected","ts-hidden-accessible"),t._destroy(),delete t.input.tomselect}render(t,e){var s,i;const o=this;if(typeof this.settings.render[t]!="function"||(i=o.settings.render[t].call(this,e,mn),!i))return null;if(i=Ee(i),t==="option"||t==="option_create"?e[o.settings.disabledField]?z(i,{"aria-disabled":"true"}):z(i,{"data-selectable":""}):t==="optgroup"&&(s=e.group[o.settings.optgroupValueField],z(i,{"data-group":s}),e.group[o.settings.disabledField]&&z(i,{"data-disabled":""})),t==="option"||t==="item"){const r=St(e[o.settings.valueField]);z(i,{"data-value":r}),t==="item"?(he(i,o.settings.itemClass),z(i,{"data-ts-item":""})):(he(i,o.settings.optionClass),z(i,{role:"option",id:e.$id}),e.$div=i,o.options[r]=e)}return i}_render(t,e){const s=this.render(t,e);if(s==null)throw"HTMLElement expected";return s}clearCache(){Z(this.options,t=>{t.$div&&(t.$div.remove(),delete t.$div)})}uncacheValue(t){const e=this.getOption(t);e&&e.remove()}canCreate(t){return this.settings.create&&t.length>0&&this.settings.createFilter.call(this,t)}hook(t,e,s){var i=this,o=i[e];i[e]=function(){var r,l;return t==="after"&&(r=o.apply(i,arguments)),l=s.apply(i,arguments),t==="instead"?l:(t==="before"&&(r=o.apply(i,arguments)),r)}}}const Fc=(n,t,e,s)=>{n.addEventListener(t,e,s)};function Pc(){Fc(this.input,"change",()=>{this.sync()})}const Nc=n=>typeof n>"u"||n===null?null:Rc(n),Rc=n=>typeof n=="boolean"?n?"1":"0":n+"",Rs=(n,t=!1)=>{n&&(n.preventDefault(),t&&n.stopPropagation())},$c=n=>{if(n.jquery)return n[0];if(n instanceof HTMLElement)return n;if(Hc(n)){var t=document.createElement("template");return t.innerHTML=n.trim(),t.content.firstChild}return document.querySelector(n)},Hc=n=>typeof n=="string"&&n.indexOf("<")>-1;function jc(n){var t=this,e=t.onOptionSelect;t.settings.hideSelected=!1;const s=Object.assign({className:"tomselect-checkbox",checkedClassNames:void 0,uncheckedClassNames:void 0},n);var i=function(l,c){c?(l.checked=!0,s.uncheckedClassNames&&l.classList.remove(...s.uncheckedClassNames),s.checkedClassNames&&l.classList.add(...s.checkedClassNames)):(l.checked=!1,s.checkedClassNames&&l.classList.remove(...s.checkedClassNames),s.uncheckedClassNames&&l.classList.add(...s.uncheckedClassNames))},o=function(l){setTimeout(()=>{var c=l.querySelector("input."+s.className);c instanceof HTMLInputElement&&i(c,l.classList.contains("selected"))},1)};t.hook("after","setupTemplates",()=>{var r=t.settings.render.option;t.settings.render.option=(l,c)=>{var d=$c(r.call(t,l,c)),g=document.createElement("input");s.className&&g.classList.add(s.className),g.addEventListener("click",function(y){Rs(y)}),g.type="checkbox";const v=Nc(l[t.settings.valueField]);return i(g,!!(v&&t.items.indexOf(v)>-1)),d.prepend(g),d}}),t.on("item_remove",r=>{var l=t.getOption(r);l&&(l.classList.remove("selected"),o(l))}),t.on("item_add",r=>{var l=t.getOption(r);l&&o(l)}),t.hook("instead","onOptionSelect",(r,l)=>{if(l.classList.contains("selected")){l.classList.remove("selected"),t.removeItem(l.dataset.value),t.refreshOptions(),Rs(r,!0);return}e.call(t,r,l),o(l)})}const Bc=n=>{if(n.jquery)return n[0];if(n instanceof HTMLElement)return n;if(Vc(n)){var t=document.createElement("template");return t.innerHTML=n.trim(),t.content.firstChild}return document.querySelector(n)},Vc=n=>typeof n=="string"&&n.indexOf("<")>-1;function qc(n){const t=this,e=Object.assign({className:"clear-button",title:"Clear All",html:s=>`<div class="${s.className}" title="${s.title}">&#10799;</div>`},n);t.on("initialize",()=>{var s=Bc(e.html(e));s.addEventListener("click",i=>{t.isLocked||(t.clear(),t.settings.mode==="single"&&t.settings.allowEmptyOption&&t.addItem(""),i.preventDefault(),i.stopPropagation())}),t.control.appendChild(s)})}const Uc=(n,t=!1)=>{n&&(n.preventDefault(),t&&n.stopPropagation())},Be=(n,t,e,s)=>{n.addEventListener(t,e,s)},Yc=(n,t)=>{if(Array.isArray(n))n.forEach(t);else for(var e in n)n.hasOwnProperty(e)&&t(n[e],e)},zc=n=>{if(n.jquery)return n[0];if(n instanceof HTMLElement)return n;if(Kc(n)){var t=document.createElement("template");return t.innerHTML=n.trim(),t.content.firstChild}return document.querySelector(n)},Kc=n=>typeof n=="string"&&n.indexOf("<")>-1,Wc=(n,t)=>{Yc(t,(e,s)=>{e==null?n.removeAttribute(s):n.setAttribute(s,""+e)})},Jc=(n,t)=>{var e;(e=n.parentNode)==null||e.insertBefore(t,n.nextSibling)},Gc=(n,t)=>{var e;(e=n.parentNode)==null||e.insertBefore(t,n)},Qc=(n,t)=>{do{var e;if(t=(e=t)==null?void 0:e.previousElementSibling,n==t)return!0}while(t&&t.previousElementSibling);return!1};function Xc(){var n=this;if(n.settings.mode!=="multi")return;var t=n.lock,e=n.unlock;let s=!0,i;n.hook("after","setupTemplates",()=>{var o=n.settings.render.item;n.settings.render.item=(r,l)=>{const c=zc(o.call(n,r,l));Wc(c,{draggable:"true"});const d=O=>{s||Uc(O),O.stopPropagation()},g=O=>{i=c,setTimeout(()=>{c.classList.add("ts-dragging")},0)},v=O=>{O.preventDefault(),c.classList.add("ts-drag-over"),k(c,i)},y=()=>{c.classList.remove("ts-drag-over")},k=(O,a)=>{a!==void 0&&(Qc(a,c)?Jc(O,a):Gc(O,a))},b=()=>{var O;document.querySelectorAll(".ts-drag-over").forEach(f=>f.classList.remove("ts-drag-over")),(O=i)==null||O.classList.remove("ts-dragging"),i=void 0;var a=[];n.control.querySelectorAll("[data-value]").forEach(f=>{if(f.dataset.value){let u=f.dataset.value;u&&a.push(u)}}),n.setValue(a)};return Be(c,"mousedown",d),Be(c,"dragstart",g),Be(c,"dragenter",v),Be(c,"dragover",v),Be(c,"dragleave",y),Be(c,"dragend",b),c}}),n.hook("instead","lock",()=>(s=!1,t.call(n))),n.hook("instead","unlock",()=>(s=!0,e.call(n)))}const Zc=(n,t=!1)=>{n&&(n.preventDefault(),t&&n.stopPropagation())},ed=n=>{if(n.jquery)return n[0];if(n instanceof HTMLElement)return n;if(td(n)){var t=document.createElement("template");return t.innerHTML=n.trim(),t.content.firstChild}return document.querySelector(n)},td=n=>typeof n=="string"&&n.indexOf("<")>-1;function nd(n){const t=this,e=Object.assign({title:"Untitled",headerClass:"dropdown-header",titleRowClass:"dropdown-header-title",labelClass:"dropdown-header-label",closeClass:"dropdown-header-close",html:s=>'<div class="'+s.headerClass+'"><div class="'+s.titleRowClass+'"><span class="'+s.labelClass+'">'+s.title+'</span><a class="'+s.closeClass+'">&times;</a></div></div>'},n);t.on("initialize",()=>{var s=ed(e.html(e)),i=s.querySelector("."+e.closeClass);i&&i.addEventListener("click",o=>{Zc(o,!0),t.close()}),t.dropdown.insertBefore(s,t.dropdown.firstChild)})}const sd=(n,t)=>{if(Array.isArray(n))n.forEach(t);else for(var e in n)n.hasOwnProperty(e)&&t(n[e],e)},id=(n,...t)=>{var e=rd(t);n=od(n),n.map(s=>{e.map(i=>{s.classList.remove(i)})})},rd=n=>{var t=[];return sd(n,e=>{typeof e=="string"&&(e=e.trim().split(/[\t\n\f\r\s]/)),Array.isArray(e)&&(t=t.concat(e))}),t.filter(Boolean)},od=n=>(Array.isArray(n)||(n=[n]),n),ad=(n,t)=>{if(!n)return-1;t=t||n.nodeName;for(var e=0;n=n.previousElementSibling;)n.matches(t)&&e++;return e};function ld(){var n=this;n.hook("instead","setCaret",t=>{n.settings.mode==="single"||!n.control.contains(n.control_input)?t=n.items.length:(t=Math.max(0,Math.min(n.items.length,t)),t!=n.caretPos&&!n.isPending&&n.controlChildren().forEach((e,s)=>{s<t?n.control_input.insertAdjacentElement("beforebegin",e):n.control.appendChild(e)})),n.caretPos=t}),n.hook("instead","moveCaret",t=>{if(!n.isFocused)return;const e=n.getLastActive(t);if(e){const s=ad(e);n.setCaret(t>0?s+1:s),n.setActiveItem(),id(e,"last-active")}else n.setCaret(n.caretPos+t)})}const cd=27,dd=9,ud=(n,t=!1)=>{n&&(n.preventDefault(),t&&n.stopPropagation())},fd=(n,t,e,s)=>{n.addEventListener(t,e,s)},hd=(n,t)=>{if(Array.isArray(n))n.forEach(t);else for(var e in n)n.hasOwnProperty(e)&&t(n[e],e)},$s=n=>{if(n.jquery)return n[0];if(n instanceof HTMLElement)return n;if(pd(n)){var t=document.createElement("template");return t.innerHTML=n.trim(),t.content.firstChild}return document.querySelector(n)},pd=n=>typeof n=="string"&&n.indexOf("<")>-1,gd=(n,...t)=>{var e=md(t);n=vd(n),n.map(s=>{e.map(i=>{s.classList.add(i)})})},md=n=>{var t=[];return hd(n,e=>{typeof e=="string"&&(e=e.trim().split(/[\t\n\f\r\s]/)),Array.isArray(e)&&(t=t.concat(e))}),t.filter(Boolean)},vd=n=>(Array.isArray(n)||(n=[n]),n);function bd(){const n=this;n.settings.shouldOpen=!0,n.hook("before","setup",()=>{n.focus_node=n.control,gd(n.control_input,"dropdown-input");const t=$s('<div class="dropdown-input-wrap">');t.append(n.control_input),n.dropdown.insertBefore(t,n.dropdown.firstChild);const e=$s('<input class="items-placeholder" tabindex="-1" />');e.placeholder=n.settings.placeholder||"",n.control.append(e)}),n.on("initialize",()=>{n.control_input.addEventListener("keydown",e=>{switch(e.keyCode){case cd:n.isOpen&&(ud(e,!0),n.close()),n.clearActiveItems();return;case dd:n.focus_node.tabIndex=-1;break}return n.onKeyDown.call(n,e)}),n.on("blur",()=>{n.focus_node.tabIndex=n.isDisabled?-1:n.tabIndex}),n.on("dropdown_open",()=>{n.control_input.focus()});const t=n.onBlur;n.hook("instead","onBlur",e=>{if(!(e&&e.relatedTarget==n.control_input))return t.call(n)}),fd(n.control_input,"blur",()=>n.onBlur()),n.hook("before","close",()=>{n.isOpen&&n.focus_node.focus({preventScroll:!0})})})}const bt=(n,t,e,s)=>{n.addEventListener(t,e,s)};function wd(){var n=this;n.on("initialize",()=>{var t=document.createElement("span"),e=n.control_input;t.style.cssText="position:absolute; top:-99999px; left:-99999px; width:auto; padding:0; white-space:pre; ",n.wrapper.appendChild(t);var s=["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"];for(const o of s)t.style[o]=e.style[o];var i=()=>{t.textContent=e.value,e.style.width=t.clientWidth+"px"};i(),n.on("update item_add item_remove",i),bt(e,"input",i),bt(e,"keyup",i),bt(e,"blur",i),bt(e,"update",i)})}function yd(){var n=this,t=n.deleteSelection;this.hook("instead","deleteSelection",e=>n.activeItems.length?t.call(n,e):!1)}function Od(){this.hook("instead","setActiveItem",()=>{}),this.hook("instead","selectAll",()=>{})}const Hs=37,Cd=39,Sd=(n,t,e)=>{for(;n&&n.matches;){if(n.matches(t))return n;n=n.parentNode}},Ed=(n,t)=>{if(!n)return-1;t=t||n.nodeName;for(var e=0;n=n.previousElementSibling;)n.matches(t)&&e++;return e};function Ad(){var n=this,t=n.onKeyDown;n.hook("instead","onKeyDown",e=>{var s,i,o,r;if(!n.isOpen||!(e.keyCode===Hs||e.keyCode===Cd))return t.call(n,e);n.ignoreHover=!0,r=Sd(n.activeOption,"[data-group]"),s=Ed(n.activeOption,"[data-selectable]"),r&&(e.keyCode===Hs?r=r.previousSibling:r=r.nextSibling,r&&(o=r.querySelectorAll("[data-selectable]"),i=o[Math.min(o.length-1,s)],i&&n.setActiveOption(i)))})}const xd=n=>(n+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),js=(n,t=!1)=>{n&&(n.preventDefault(),t&&n.stopPropagation())},Bs=(n,t,e,s)=>{n.addEventListener(t,e,s)},Vs=n=>{if(n.jquery)return n[0];if(n instanceof HTMLElement)return n;if(_d(n)){var t=document.createElement("template");return t.innerHTML=n.trim(),t.content.firstChild}return document.querySelector(n)},_d=n=>typeof n=="string"&&n.indexOf("<")>-1;function Dd(n){const t=Object.assign({label:"&times;",title:"Remove",className:"remove",append:!0},n);var e=this;if(t.append){var s='<a href="javascript:void(0)" class="'+t.className+'" tabindex="-1" title="'+xd(t.title)+'">'+t.label+"</a>";e.hook("after","setupTemplates",()=>{var i=e.settings.render.item;e.settings.render.item=(o,r)=>{var l=Vs(i.call(e,o,r)),c=Vs(s);return l.appendChild(c),Bs(c,"mousedown",d=>{js(d,!0)}),Bs(c,"click",d=>{e.isLocked||(js(d,!0),!e.isLocked&&e.shouldDelete([l],d)&&(e.removeItem(l),e.refreshOptions(!1),e.inputState()))}),l}})}}function Ld(n){const t=this,e=Object.assign({text:s=>s[t.settings.labelField]},n);t.on("item_remove",function(s){if(t.isFocused&&t.control_input.value.trim()===""){var i=t.options[s];i&&t.setTextboxValue(e.text.call(t,i))}})}const kd=(n,t)=>{if(Array.isArray(n))n.forEach(t);else for(var e in n)n.hasOwnProperty(e)&&t(n[e],e)},Td=(n,...t)=>{var e=Id(t);n=Md(n),n.map(s=>{e.map(i=>{s.classList.add(i)})})},Id=n=>{var t=[];return kd(n,e=>{typeof e=="string"&&(e=e.trim().split(/[\t\n\f\r\s]/)),Array.isArray(e)&&(t=t.concat(e))}),t.filter(Boolean)},Md=n=>(Array.isArray(n)||(n=[n]),n);function Fd(){const n=this,t=n.canLoad,e=n.clearActiveOption,s=n.loadCallback;var i={},o,r=!1,l,c=[];if(n.settings.shouldLoadMore||(n.settings.shouldLoadMore=()=>{if(o.clientHeight/(o.scrollHeight-o.scrollTop)>.9)return!0;if(n.activeOption){var y=n.selectable(),k=Array.from(y).indexOf(n.activeOption);if(k>=y.length-2)return!0}return!1}),!n.settings.firstUrl)throw"virtual_scroll plugin requires a firstUrl() method";n.settings.sortField=[{field:"$order"},{field:"$score"}];const d=v=>typeof n.settings.maxOptions=="number"&&o.children.length>=n.settings.maxOptions?!1:!!(v in i&&i[v]),g=(v,y)=>n.items.indexOf(y)>=0||c.indexOf(y)>=0;n.setNextUrl=(v,y)=>{i[v]=y},n.getUrl=v=>{if(v in i){const y=i[v];return i[v]=!1,y}return n.clearPagination(),n.settings.firstUrl.call(n,v)},n.clearPagination=()=>{i={}},n.hook("instead","clearActiveOption",()=>{if(!r)return e.call(n)}),n.hook("instead","canLoad",v=>v in i?d(v):t.call(n,v)),n.hook("instead","loadCallback",(v,y)=>{if(!r)n.clearOptions(g);else if(l){const k=v[0];k!==void 0&&(l.dataset.value=k[n.settings.valueField])}s.call(n,v,y),r=!1}),n.hook("after","refreshOptions",()=>{const v=n.lastValue;var y;d(v)?(y=n.render("loading_more",{query:v}),y&&(y.setAttribute("data-selectable",""),l=y)):v in i&&!o.querySelector(".no-results")&&(y=n.render("no_more_results",{query:v})),y&&(Td(y,n.settings.optionClass),o.append(y))}),n.on("initialize",()=>{c=Object.keys(n.options),o=n.dropdown_content,n.settings.render=Object.assign({},{loading_more:()=>'<div class="loading-more-results">Loading more results ... </div>',no_more_results:()=>'<div class="no-more-results">No more results</div>'},n.settings.render),o.addEventListener("scroll",()=>{n.settings.shouldLoadMore.call(n)&&d(n.lastValue)&&(r||(r=!0,n.load.call(n,n.lastValue)))})})}oe.define("change_listener",Pc);oe.define("checkbox_options",jc);oe.define("clear_button",qc);oe.define("drag_drop",Xc);oe.define("dropdown_header",nd);oe.define("caret_position",ld);oe.define("dropdown_input",bd);oe.define("input_autogrow",wd);oe.define("no_backspace_delete",yd);oe.define("no_active_items",Od);oe.define("optgroup_columns",Ad);oe.define("remove_button",Dd);oe.define("restore_on_backspace",Ld);oe.define("virtual_scroll",Fd);function Pd(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Et={exports:{}},Nd=Et.exports,qs;function Rd(){return qs||(qs=1,function(n,t){(function(e,s){n.exports=s()})(Nd,function(){class e{constructor(a){a||(a={}),this.main=a.main||"ss-main",this.placeholder=a.placeholder||"ss-placeholder",this.values=a.values||"ss-values",this.single=a.single||"ss-single",this.max=a.max||"ss-max",this.value=a.value||"ss-value",this.valueText=a.valueText||"ss-value-text",this.valueDelete=a.valueDelete||"ss-value-delete",this.valueOut=a.valueOut||"ss-value-out",this.deselect=a.deselect||"ss-deselect",this.deselectPath=a.deselectPath||"M10,10 L90,90 M10,90 L90,10",this.arrow=a.arrow||"ss-arrow",this.arrowClose=a.arrowClose||"M10,30 L50,70 L90,30",this.arrowOpen=a.arrowOpen||"M10,70 L50,30 L90,70",this.content=a.content||"ss-content",this.openAbove=a.openAbove||"ss-open-above",this.openBelow=a.openBelow||"ss-open-below",this.search=a.search||"ss-search",this.searchHighlighter=a.searchHighlighter||"ss-search-highlight",this.searching=a.searching||"ss-searching",this.addable=a.addable||"ss-addable",this.addablePath=a.addablePath||"M50,10 L50,90 M10,50 L90,50",this.list=a.list||"ss-list",this.optgroup=a.optgroup||"ss-optgroup",this.optgroupLabel=a.optgroupLabel||"ss-optgroup-label",this.optgroupLabelText=a.optgroupLabelText||"ss-optgroup-label-text",this.optgroupActions=a.optgroupActions||"ss-optgroup-actions",this.optgroupSelectAll=a.optgroupSelectAll||"ss-selectall",this.optgroupSelectAllBox=a.optgroupSelectAllBox||"M60,10 L10,10 L10,90 L90,90 L90,50",this.optgroupSelectAllCheck=a.optgroupSelectAllCheck||"M30,45 L50,70 L90,10",this.optgroupClosable=a.optgroupClosable||"ss-closable",this.option=a.option||"ss-option",this.optionDelete=a.optionDelete||"M10,10 L90,90 M10,90 L90,10",this.highlighted=a.highlighted||"ss-highlighted",this.open=a.open||"ss-open",this.close=a.close||"ss-close",this.selected=a.selected||"ss-selected",this.error=a.error||"ss-error",this.disabled=a.disabled||"ss-disabled",this.hide=a.hide||"ss-hide"}}function s(){return Math.random().toString(36).substring(2,10)}function i(O,a){function f(m,S){return S&&m&&m.classList&&m.classList.contains(S)||S&&m&&m.dataset&&m.dataset.id&&m.dataset.id===a?m:null}function u(m,S){return!m||m===document?null:f(m,S)?m:u(m.parentNode,S)}return f(O,a)||u(O,a)}function o(O,a=50,f=!1){let u;return function(...m){const S=self,L=()=>{u=null,f||O.apply(S,m)},D=f&&!u;clearTimeout(u),u=setTimeout(L,a),D&&O.apply(S,m)}}function r(O,a){return JSON.stringify(O)===JSON.stringify(a)}function l(O){const a=O.replace(/[A-Z\u00C0-\u00D6\u00D8-\u00DE]/g,f=>"-"+f.toLowerCase());return O[0]===O[0].toUpperCase()?a.substring(1):a}class c{constructor(a){if(this.id=!a.id||a.id===""?s():a.id,this.label=a.label||"",this.selectAll=a.selectAll===void 0?!1:a.selectAll,this.selectAllText=a.selectAllText||"Select All",this.closable=a.closable||"off",this.options=[],a.options)for(const f of a.options)this.options.push(new d(f))}}class d{constructor(a){this.id=!a.id||a.id===""?s():a.id,this.value=a.value===void 0?a.text:a.value,this.text=a.text||"",this.html=a.html||"",this.selected=a.selected!==void 0?a.selected:!1,this.display=a.display!==void 0?a.display:!0,this.disabled=a.disabled!==void 0?a.disabled:!1,this.mandatory=a.mandatory!==void 0?a.mandatory:!1,this.placeholder=a.placeholder!==void 0?a.placeholder:!1,this.class=a.class||"",this.style=a.style||"",this.data=a.data||{}}}class g{constructor(a,f){this.selectType="single",this.data=[],this.selectedOrder=[],this.selectType=a,this.setData(f)}validateDataArray(a){if(!Array.isArray(a))return new Error("Data must be an array");for(let f of a)if(f instanceof c||"label"in f){if(!("label"in f))return new Error("Optgroup must have a label");if("options"in f&&f.options)for(let u of f.options){const m=this.validateOption(u);if(m)return m}}else if(f instanceof d||"text"in f){const u=this.validateOption(f);if(u)return u}else return new Error("Data object must be a valid optgroup or option");return null}validateOption(a){return"text"in a?null:new Error("Option must have a text")}partialToFullData(a){let f=[];return a.forEach(u=>{if(u instanceof c||"label"in u){let m=[];"options"in u&&u.options&&u.options.forEach(S=>{m.push(new d(S))}),m.length>0&&f.push(new c(u))}(u instanceof d||"text"in u)&&f.push(new d(u))}),f}setData(a){this.data=this.partialToFullData(a),this.selectType==="single"&&this.setSelectedBy("id",this.getSelected())}getData(){return this.filter(null,!0)}getDataOptions(){return this.filter(null,!1)}addOption(a,f=!1){if(f){let u=[new d(a)];this.setData(u.concat(this.getData()))}else this.setData(this.getData().concat(new d(a)))}setSelectedBy(a,f){let u=null,m=!1;const S=[];for(let D of this.data){if(D instanceof c)for(let C of D.options)u||(u=C),C.selected=m?!1:f.includes(C[a]),C.selected&&(S.push(C),this.selectType==="single"&&(m=!0));D instanceof d&&(u||(u=D),D.selected=m?!1:f.includes(D[a]),D.selected&&(S.push(D),this.selectType==="single"&&(m=!0)))}this.selectType==="single"&&u&&!m&&(u.selected=!0,S.push(u));const L=f.map(D=>{var C;return((C=S.find(_=>_[a]===D))===null||C===void 0?void 0:C.id)||""});this.selectedOrder=L}getSelected(){return this.getSelectedOptions().map(a=>a.id)}getSelectedValues(){return this.getSelectedOptions().map(a=>a.value)}getSelectedOptions(){return this.filter(a=>a.selected,!1)}getOptgroupByID(a){for(let f of this.data)if(f instanceof c&&f.id===a)return f;return null}getOptionByID(a){let f=this.filter(u=>u.id===a,!1);return f.length?f[0]:null}getSelectType(){return this.selectType}getFirstOption(){let a=null;for(let f of this.data)if(f instanceof c?a=f.options[0]:f instanceof d&&(a=f),a)break;return a}search(a,f){return a=a.trim(),a===""?this.getData():this.filter(u=>f(u,a),!0)}filter(a,f){const u=[];return this.data.forEach(m=>{if(m instanceof c){let S=[];if(m.options.forEach(L=>{(!a||a(L))&&(f?S.push(new d(L)):u.push(new d(L)))}),S.length>0){let L=new c(m);L.options=S,u.push(L)}}m instanceof d&&(!a||a(m))&&u.push(new d(m))}),u}selectedOrderOptions(a){const f=[];return this.selectedOrder.forEach(u=>{const m=a.find(S=>S.id===u);m&&f.push(m)}),a.forEach(u=>{let m=!1;f.forEach(S=>{if(u.id===S.id){m=!0;return}}),m||f.push(u)}),f}}class v{constructor(a,f,u,m){this.store=u,this.settings=a,this.classes=f,this.callbacks=m,this.main=this.mainDiv(),this.content=this.contentDiv(),this.updateClassStyles(),this.updateAriaAttributes(),this.settings.contentLocation&&this.settings.contentLocation.appendChild(this.content.main)}enable(){this.main.main.classList.remove(this.classes.disabled),this.content.search.input.disabled=!1}disable(){this.main.main.classList.add(this.classes.disabled),this.content.search.input.disabled=!0}open(){this.main.arrow.path.setAttribute("d",this.classes.arrowOpen),this.main.main.classList.add(this.settings.openPosition==="up"?this.classes.openAbove:this.classes.openBelow),this.main.main.setAttribute("aria-expanded","true"),this.moveContent();const a=this.store.getSelectedOptions();if(a.length){const f=a[a.length-1].id,u=this.content.list.querySelector('[data-id="'+f+'"]');u&&this.ensureElementInView(this.content.list,u)}}close(){this.main.main.classList.remove(this.classes.openAbove),this.main.main.classList.remove(this.classes.openBelow),this.main.main.setAttribute("aria-expanded","false"),this.content.main.classList.remove(this.classes.openAbove),this.content.main.classList.remove(this.classes.openBelow),this.main.arrow.path.setAttribute("d",this.classes.arrowClose)}updateClassStyles(){if(this.main.main.className="",this.main.main.removeAttribute("style"),this.content.main.className="",this.content.main.removeAttribute("style"),this.main.main.classList.add(this.classes.main),this.content.main.classList.add(this.classes.content),this.settings.style!==""&&(this.main.main.style.cssText=this.settings.style,this.content.main.style.cssText=this.settings.style),this.settings.class.length)for(const a of this.settings.class)a.trim()!==""&&(this.main.main.classList.add(a.trim()),this.content.main.classList.add(a.trim()));(this.settings.contentPosition==="relative"||this.settings.contentPosition==="fixed")&&this.content.main.classList.add("ss-"+this.settings.contentPosition)}updateAriaAttributes(){this.main.main.role="combobox",this.main.main.setAttribute("aria-haspopup","listbox"),this.main.main.setAttribute("aria-controls",this.content.main.id),this.main.main.setAttribute("aria-expanded","false"),this.content.main.setAttribute("role","listbox")}mainDiv(){var a;const f=document.createElement("div");f.dataset.id=this.settings.id,f.setAttribute("aria-label",this.settings.ariaLabel),f.tabIndex=0,f.onkeydown=x=>{switch(x.key){case"ArrowUp":case"ArrowDown":return this.callbacks.open(),x.key==="ArrowDown"?this.highlight("down"):this.highlight("up"),!1;case"Tab":return this.callbacks.close(),!0;case"Enter":case" ":this.callbacks.open();const F=this.content.list.querySelector("."+this.classes.highlighted);return F&&F.click(),!1;case"Escape":return this.callbacks.close(),!1}return x.key.length===1&&this.callbacks.open(),!0},f.onclick=x=>{this.settings.disabled||(this.settings.isOpen?this.callbacks.close():this.callbacks.open())};const u=document.createElement("div");u.classList.add(this.classes.values),f.appendChild(u);const m=document.createElement("div");m.classList.add(this.classes.deselect);const S=(a=this.store)===null||a===void 0?void 0:a.getSelectedOptions();!this.settings.allowDeselect||this.settings.isMultiple&&S&&S.length<=0?m.classList.add(this.classes.hide):m.classList.remove(this.classes.hide),m.onclick=x=>{if(x.stopPropagation(),this.settings.disabled)return;let F=!0;const I=this.store.getSelectedOptions(),q=[];if(this.callbacks.beforeChange&&(F=this.callbacks.beforeChange(q,I)===!0),F){if(this.settings.isMultiple)this.callbacks.setSelected([],!1),this.updateDeselectAll();else{const U=this.store.getFirstOption(),we=U?U.id:"";this.callbacks.setSelected(we,!1)}this.settings.closeOnSelect&&this.callbacks.close(),this.callbacks.afterChange&&this.callbacks.afterChange(this.store.getSelectedOptions())}};const L=document.createElementNS("http://www.w3.org/2000/svg","svg");L.setAttribute("viewBox","0 0 100 100");const D=document.createElementNS("http://www.w3.org/2000/svg","path");D.setAttribute("d",this.classes.deselectPath),L.appendChild(D),m.appendChild(L),f.appendChild(m);const C=document.createElementNS("http://www.w3.org/2000/svg","svg");C.classList.add(this.classes.arrow),C.setAttribute("viewBox","0 0 100 100");const _=document.createElementNS("http://www.w3.org/2000/svg","path");return _.setAttribute("d",this.classes.arrowClose),this.settings.alwaysOpen&&C.classList.add(this.classes.hide),C.appendChild(_),f.appendChild(C),{main:f,values:u,deselect:{main:m,svg:L,path:D},arrow:{main:C,path:_}}}mainFocus(a){a!=="click"&&this.main.main.focus({preventScroll:!0})}placeholder(){const a=this.store.filter(m=>m.placeholder,!1);let f=this.settings.placeholderText;a.length&&(a[0].html!==""?f=a[0].html:a[0].text!==""&&(f=a[0].text));const u=document.createElement("div");return u.classList.add(this.classes.placeholder),u.innerHTML=f,u}renderValues(){if(!this.settings.isMultiple){this.renderSingleValue();return}this.renderMultipleValues(),this.updateDeselectAll()}renderSingleValue(){const a=this.store.filter(u=>u.selected&&!u.placeholder,!1),f=a.length>0?a[0]:null;if(!f)this.main.values.innerHTML=this.placeholder().outerHTML;else{const u=document.createElement("div");u.classList.add(this.classes.single),f.html?u.innerHTML=f.html:u.innerText=f.text,this.main.values.innerHTML=u.outerHTML}!this.settings.allowDeselect||!a.length?this.main.deselect.main.classList.add(this.classes.hide):this.main.deselect.main.classList.remove(this.classes.hide)}renderMultipleValues(){let a=this.main.values.childNodes,f=this.store.filter(m=>m.selected&&m.display,!1);if(f.length===0){this.main.values.innerHTML=this.placeholder().outerHTML;return}else{const m=this.main.values.querySelector("."+this.classes.placeholder);m&&m.remove()}if(f.length>this.settings.maxValuesShown){const m=document.createElement("div");m.classList.add(this.classes.max),m.textContent=this.settings.maxValuesMessage.replace("{number}",f.length.toString()),this.main.values.innerHTML=m.outerHTML;return}else{const m=this.main.values.querySelector("."+this.classes.max);m&&m.remove()}this.settings.keepOrder&&(f=this.store.selectedOrderOptions(f));let u=[];for(let m=0;m<a.length;m++){const S=a[m],L=S.getAttribute("data-id");L&&(f.filter(C=>C.id===L,!1).length||u.push(S))}for(const m of u)m.classList.add(this.classes.valueOut),setTimeout(()=>{this.main.values.hasChildNodes()&&this.main.values.contains(m)&&this.main.values.removeChild(m)},100);a=this.main.values.childNodes;for(let m=0;m<f.length;m++){let S=!0;for(let L=0;L<a.length;L++)f[m].id===String(a[L].dataset.id)&&(S=!1);S&&(this.settings.keepOrder?this.main.values.appendChild(this.multipleValue(f[m])):a.length===0?this.main.values.appendChild(this.multipleValue(f[m])):m===0?this.main.values.insertBefore(this.multipleValue(f[m]),a[m]):a[m-1].insertAdjacentElement("afterend",this.multipleValue(f[m])))}}multipleValue(a){const f=document.createElement("div");f.classList.add(this.classes.value),f.dataset.id=a.id;const u=document.createElement("div");if(u.classList.add(this.classes.valueText),u.textContent=a.text,f.appendChild(u),!a.mandatory){const m=document.createElement("div");m.classList.add(this.classes.valueDelete),m.onclick=D=>{if(D.preventDefault(),D.stopPropagation(),this.settings.disabled)return;let C=!0;const _=this.store.getSelectedOptions(),x=_.filter(F=>F.selected&&F.id!==a.id,!0);if(!(this.settings.minSelected&&x.length<this.settings.minSelected)&&(this.callbacks.beforeChange&&(C=this.callbacks.beforeChange(x,_)===!0),C)){let F=[];for(const I of x){if(I instanceof c)for(const q of I.options)F.push(q.id);I instanceof d&&F.push(I.id)}this.callbacks.setSelected(F,!1),this.settings.closeOnSelect&&this.callbacks.close(),this.callbacks.afterChange&&this.callbacks.afterChange(x),this.updateDeselectAll()}};const S=document.createElementNS("http://www.w3.org/2000/svg","svg");S.setAttribute("viewBox","0 0 100 100");const L=document.createElementNS("http://www.w3.org/2000/svg","path");L.setAttribute("d",this.classes.optionDelete),S.appendChild(L),m.appendChild(S),f.appendChild(m)}return f}contentDiv(){const a=document.createElement("div");a.dataset.id=this.settings.id;const f=this.searchDiv();a.appendChild(f.main);const u=this.listDiv();return a.appendChild(u),{main:a,search:f,list:u}}moveContent(){if(this.settings.contentPosition==="relative"){this.moveContentBelow();return}if(this.settings.openPosition==="down"){this.moveContentBelow();return}else if(this.settings.openPosition==="up"){this.moveContentAbove();return}this.putContent()==="up"?this.moveContentAbove():this.moveContentBelow()}searchDiv(){const a=document.createElement("div"),f=document.createElement("input"),u=document.createElement("div");a.classList.add(this.classes.search);const m={main:a,input:f};if(this.settings.showSearch||(a.classList.add(this.classes.hide),f.readOnly=!0),f.type="search",f.placeholder=this.settings.searchPlaceholder,f.tabIndex=-1,f.setAttribute("aria-label",this.settings.searchPlaceholder),f.setAttribute("autocapitalize","off"),f.setAttribute("autocomplete","off"),f.setAttribute("autocorrect","off"),f.oninput=o(S=>{this.callbacks.search(S.target.value)},100),f.onkeydown=S=>{switch(S.key){case"ArrowUp":case"ArrowDown":return S.key==="ArrowDown"?this.highlight("down"):this.highlight("up"),!1;case"Tab":return this.callbacks.close(),!0;case"Escape":return this.callbacks.close(),!1;case" ":const L=this.content.list.querySelector("."+this.classes.highlighted);return L?(L.click(),!1):!0;case"Enter":if(this.callbacks.addable)return u.click(),!1;{const D=this.content.list.querySelector("."+this.classes.highlighted);if(D)return D.click(),!1}return!0}return!0},a.appendChild(f),this.callbacks.addable){u.classList.add(this.classes.addable);const S=document.createElementNS("http://www.w3.org/2000/svg","svg");S.setAttribute("viewBox","0 0 100 100");const L=document.createElementNS("http://www.w3.org/2000/svg","path");L.setAttribute("d",this.classes.addablePath),S.appendChild(L),u.appendChild(S),u.onclick=D=>{if(D.preventDefault(),D.stopPropagation(),!this.callbacks.addable)return;const C=this.content.search.input.value.trim();if(C===""){this.content.search.input.focus();return}const _=F=>{let I=new d(F);if(this.callbacks.addOption(I),this.settings.isMultiple){let q=this.store.getSelected();q.push(I.id),this.callbacks.setSelected(q,!0)}else this.callbacks.setSelected([I.id],!0);this.callbacks.search(""),this.settings.closeOnSelect&&setTimeout(()=>{this.callbacks.close()},100)},x=this.callbacks.addable(C);x===!1||x===void 0||x===null||(x instanceof Promise?x.then(F=>{typeof F=="string"?_({text:F,value:F}):x instanceof Error?this.renderError(x.message):_(F)}):typeof x=="string"?_({text:x,value:x}):x instanceof Error?this.renderError(x.message):_(x))},a.appendChild(u),m.addable={main:u,svg:S,path:L}}return m}searchFocus(){this.content.search.input.focus()}getOptions(a=!1,f=!1,u=!1){let m="."+this.classes.option;return a&&(m+=":not(."+this.classes.placeholder+")"),f&&(m+=":not(."+this.classes.disabled+")"),u&&(m+=":not(."+this.classes.hide+")"),Array.from(this.content.list.querySelectorAll(m))}highlight(a){const f=this.getOptions(!0,!0,!0);if(f.length===0)return;if(f.length===1&&!f[0].classList.contains(this.classes.highlighted)){f[0].classList.add(this.classes.highlighted);return}let u=!1;for(const m of f)m.classList.contains(this.classes.highlighted)&&(u=!0);if(!u){for(const m of f)if(m.classList.contains(this.classes.selected)){m.classList.add(this.classes.highlighted);break}}for(let m=0;m<f.length;m++)if(f[m].classList.contains(this.classes.highlighted)){const S=f[m];S.classList.remove(this.classes.highlighted);const L=S.parentElement;if(L&&L.classList.contains(this.classes.open)){const _=L.querySelector("."+this.classes.optgroupLabel);_&&_.click()}let D=f[a==="down"?m+1<f.length?m+1:0:m-1>=0?m-1:f.length-1];D.classList.add(this.classes.highlighted),this.ensureElementInView(this.content.list,D);const C=D.parentElement;if(C&&C.classList.contains(this.classes.close)){const _=C.querySelector("."+this.classes.optgroupLabel);_&&_.click()}return}f[a==="down"?0:f.length-1].classList.add(this.classes.highlighted),this.ensureElementInView(this.content.list,f[a==="down"?0:f.length-1])}listDiv(){const a=document.createElement("div");return a.classList.add(this.classes.list),a}renderError(a){this.content.list.innerHTML="";const f=document.createElement("div");f.classList.add(this.classes.error),f.textContent=a,this.content.list.appendChild(f)}renderSearching(){this.content.list.innerHTML="";const a=document.createElement("div");a.classList.add(this.classes.searching),a.textContent=this.settings.searchingText,this.content.list.appendChild(a)}renderOptions(a){if(this.content.list.innerHTML="",a.length===0){const u=document.createElement("div");u.classList.add(this.classes.search),this.callbacks.addable?u.innerHTML=this.settings.addableText.replace("{value}",this.content.search.input.value):u.innerHTML=this.settings.searchText,this.content.list.appendChild(u);return}this.settings.allowDeselect&&!this.settings.isMultiple&&(this.store.filter(m=>m.placeholder,!1).length||this.store.addOption(new d({text:"",value:"",selected:!1,placeholder:!0}),!0));const f=document.createDocumentFragment();for(const u of a){if(u instanceof c){const m=document.createElement("div");m.classList.add(this.classes.optgroup);const S=document.createElement("div");S.classList.add(this.classes.optgroupLabel),m.appendChild(S);const L=document.createElement("div");L.classList.add(this.classes.optgroupLabelText),L.textContent=u.label,S.appendChild(L);const D=document.createElement("div");if(D.classList.add(this.classes.optgroupActions),S.appendChild(D),this.settings.isMultiple&&u.selectAll){const C=document.createElement("div");C.classList.add(this.classes.optgroupSelectAll);let _=!0;for(const U of u.options)if(!U.selected){_=!1;break}_&&C.classList.add(this.classes.selected);const x=document.createElement("span");x.textContent=u.selectAllText,C.appendChild(x);const F=document.createElementNS("http://www.w3.org/2000/svg","svg");F.setAttribute("viewBox","0 0 100 100"),C.appendChild(F);const I=document.createElementNS("http://www.w3.org/2000/svg","path");I.setAttribute("d",this.classes.optgroupSelectAllBox),F.appendChild(I);const q=document.createElementNS("http://www.w3.org/2000/svg","path");q.setAttribute("d",this.classes.optgroupSelectAllCheck),F.appendChild(q),C.addEventListener("click",U=>{U.preventDefault(),U.stopPropagation();const we=this.store.getSelected();if(_){const ye=we.filter(xe=>{for(const qt of u.options)if(xe===qt.id)return!1;return!0});this.callbacks.setSelected(ye,!0);return}else{const ye=we.concat(u.options.map(xe=>xe.id));for(const xe of u.options)this.store.getOptionByID(xe.id)||this.callbacks.addOption(xe);this.callbacks.setSelected(ye,!0);return}}),D.appendChild(C)}if(u.closable!=="off"){const C=document.createElement("div");C.classList.add(this.classes.optgroupClosable);const _=document.createElementNS("http://www.w3.org/2000/svg","svg");_.setAttribute("viewBox","0 0 100 100"),_.classList.add(this.classes.arrow),C.appendChild(_);const x=document.createElementNS("http://www.w3.org/2000/svg","path");_.appendChild(x),u.options.some(F=>F.selected)||this.content.search.input.value.trim()!==""?(C.classList.add(this.classes.open),x.setAttribute("d",this.classes.arrowOpen)):u.closable==="open"?(m.classList.add(this.classes.open),x.setAttribute("d",this.classes.arrowOpen)):u.closable==="close"&&(m.classList.add(this.classes.close),x.setAttribute("d",this.classes.arrowClose)),S.addEventListener("click",F=>{F.preventDefault(),F.stopPropagation(),m.classList.contains(this.classes.close)?(m.classList.remove(this.classes.close),m.classList.add(this.classes.open),x.setAttribute("d",this.classes.arrowOpen)):(m.classList.remove(this.classes.open),m.classList.add(this.classes.close),x.setAttribute("d",this.classes.arrowClose))}),D.appendChild(C)}m.appendChild(S);for(const C of u.options)m.appendChild(this.option(C)),f.appendChild(m)}u instanceof d&&f.appendChild(this.option(u))}this.content.list.appendChild(f)}option(a){if(a.placeholder){const u=document.createElement("div");return u.classList.add(this.classes.option),u.classList.add(this.classes.hide),u}const f=document.createElement("div");return f.dataset.id=a.id,f.classList.add(this.classes.option),f.setAttribute("role","option"),a.class&&a.class.split(" ").forEach(u=>{f.classList.add(u)}),a.style&&(f.style.cssText=a.style),this.settings.searchHighlight&&this.content.search.input.value.trim()!==""?f.innerHTML=this.highlightText(a.html!==""?a.html:a.text,this.content.search.input.value,this.classes.searchHighlighter):a.html!==""?f.innerHTML=a.html:f.textContent=a.text,this.settings.showOptionTooltips&&f.textContent&&f.setAttribute("title",f.textContent),a.display||f.classList.add(this.classes.hide),a.disabled&&f.classList.add(this.classes.disabled),a.selected&&this.settings.hideSelected&&f.classList.add(this.classes.hide),a.selected?(f.classList.add(this.classes.selected),f.setAttribute("aria-selected","true"),this.main.main.setAttribute("aria-activedescendant",f.id)):(f.classList.remove(this.classes.selected),f.setAttribute("aria-selected","false")),f.addEventListener("click",u=>{u.preventDefault(),u.stopPropagation();const m=this.store.getSelected(),S=u.currentTarget,L=String(S.dataset.id);if(a.disabled||a.selected&&!this.settings.allowDeselect||this.settings.isMultiple&&this.settings.maxSelected<=m.length&&!a.selected||this.settings.isMultiple&&this.settings.minSelected>=m.length&&a.selected)return;let D=!1;const C=this.store.getSelectedOptions();let _=[];this.settings.isMultiple&&(a.selected?_=C.filter(x=>x.id!==L):_=C.concat(a)),this.settings.isMultiple||(a.selected?_=[]:_=[a]),this.callbacks.beforeChange||(D=!0),this.callbacks.beforeChange&&(this.callbacks.beforeChange(_,C)===!1?D=!1:D=!0),D&&(this.store.getOptionByID(L)||this.callbacks.addOption(a),this.callbacks.setSelected(_.map(x=>x.id),!1),this.settings.closeOnSelect&&this.callbacks.close(),this.callbacks.afterChange&&this.callbacks.afterChange(_))}),f}destroy(){this.main.main.remove(),this.content.main.remove()}highlightText(a,f,u){let m=a;const S=new RegExp("(?![^<]*>)("+f.trim()+")(?![^<]*>[^<>]*</)","i");if(!a.match(S))return a;const L=a.match(S).index,D=L+a.match(S)[0].toString().length,C=a.substring(L,D);return m=m.replace(S,`<mark class="${u}">${C}</mark>`),m}moveContentAbove(){const a=this.main.main.offsetHeight,f=this.content.main.offsetHeight;this.main.main.classList.remove(this.classes.openBelow),this.main.main.classList.add(this.classes.openAbove),this.content.main.classList.remove(this.classes.openBelow),this.content.main.classList.add(this.classes.openAbove);const u=this.main.main.getBoundingClientRect();this.content.main.style.margin="-"+(a+f-1)+"px 0px 0px 0px",this.content.main.style.top=u.top+u.height+(this.settings.contentPosition==="fixed"?0:window.scrollY)+"px",this.content.main.style.left=u.left+(this.settings.contentPosition==="fixed"?0:window.scrollX)+"px",this.content.main.style.width=u.width+"px"}moveContentBelow(){this.main.main.classList.remove(this.classes.openAbove),this.main.main.classList.add(this.classes.openBelow),this.content.main.classList.remove(this.classes.openAbove),this.content.main.classList.add(this.classes.openBelow);const a=this.main.main.getBoundingClientRect();this.content.main.style.margin="-1px 0px 0px 0px",this.settings.contentPosition!=="relative"&&(this.content.main.style.top=a.top+a.height+(this.settings.contentPosition==="fixed"?0:window.scrollY)+"px",this.content.main.style.left=a.left+(this.settings.contentPosition==="fixed"?0:window.scrollX)+"px",this.content.main.style.width=a.width+"px")}ensureElementInView(a,f){const u=a.scrollTop+a.offsetTop,m=u+a.clientHeight,S=f.offsetTop,L=S+f.clientHeight;S<u?a.scrollTop-=u-S:L>m&&(a.scrollTop+=L-m)}putContent(){const a=this.main.main.offsetHeight,f=this.main.main.getBoundingClientRect(),u=this.content.main.offsetHeight;return window.innerHeight-(f.top+a)<=u&&f.top>u?"up":"down"}updateDeselectAll(){if(!this.store||!this.settings)return;const a=this.store.getSelectedOptions(),f=a&&a.length>0,u=this.settings.isMultiple,m=this.settings.allowDeselect,S=this.main.deselect.main,L=this.classes.hide;m&&!(u&&!f)?S.classList.remove(L):S.classList.add(L)}}class y{constructor(a){this.listen=!1,this.observer=null,this.select=a,this.valueChange=this.valueChange.bind(this),this.select.addEventListener("change",this.valueChange,{passive:!0}),this.observer=new MutationObserver(this.observeCall.bind(this)),this.changeListen(!0)}enable(){this.select.disabled=!1}disable(){this.select.disabled=!0}hideUI(){this.select.tabIndex=-1,this.select.style.display="none",this.select.setAttribute("aria-hidden","true")}showUI(){this.select.removeAttribute("tabindex"),this.select.style.display="",this.select.removeAttribute("aria-hidden")}changeListen(a){this.listen=a,a&&this.observer&&this.observer.observe(this.select,{subtree:!0,childList:!0,attributes:!0}),a||this.observer&&this.observer.disconnect()}valueChange(a){return this.listen&&this.onValueChange&&this.onValueChange(this.getSelectedOptions()),!0}observeCall(a){if(!this.listen)return;let f=!1,u=!1,m=!1;for(const S of a){if(S.target===this.select&&(S.attributeName==="disabled"&&(u=!0),S.attributeName==="class"&&(f=!0),S.type==="childList")){for(const L of S.addedNodes)if(L.nodeName==="OPTION"&&L.value===this.select.value){this.select.dispatchEvent(new Event("change"));break}m=!0}(S.target.nodeName==="OPTGROUP"||S.target.nodeName==="OPTION")&&(m=!0)}f&&this.onClassChange&&this.onClassChange(this.select.className.split(" ")),u&&this.onDisabledChange&&(this.changeListen(!1),this.onDisabledChange(this.select.disabled),this.changeListen(!0)),m&&this.onOptionsChange&&(this.changeListen(!1),this.onOptionsChange(this.getData()),this.changeListen(!0))}getData(){let a=[];const f=this.select.childNodes;for(const u of f)u.nodeName==="OPTGROUP"&&a.push(this.getDataFromOptgroup(u)),u.nodeName==="OPTION"&&a.push(this.getDataFromOption(u));return a}getDataFromOptgroup(a){let f={id:a.id,label:a.label,selectAll:a.dataset?a.dataset.selectall==="true":!1,selectAllText:a.dataset?a.dataset.selectalltext:"Select all",closable:a.dataset?a.dataset.closable:"off",options:[]};const u=a.childNodes;for(const m of u)m.nodeName==="OPTION"&&f.options.push(this.getDataFromOption(m));return f}getDataFromOption(a){return{id:a.id,value:a.value,text:a.text,html:a.dataset&&a.dataset.html?a.dataset.html:"",selected:a.selected,display:a.style.display!=="none",disabled:a.disabled,mandatory:a.dataset?a.dataset.mandatory==="true":!1,placeholder:a.dataset.placeholder==="true",class:a.className,style:a.style.cssText,data:a.dataset}}getSelectedOptions(){let a=[];const f=this.select.childNodes;for(const u of f){if(u.nodeName==="OPTGROUP"){const m=u.childNodes;for(const S of m)if(S.nodeName==="OPTION"){const L=S;L.selected&&a.push(this.getDataFromOption(L))}}if(u.nodeName==="OPTION"){const m=u;m.selected&&a.push(this.getDataFromOption(m))}}return a}getSelectedValues(){return this.getSelectedOptions().map(a=>a.value)}setSelected(a){this.changeListen(!1);const f=this.select.childNodes;for(const u of f){if(u.nodeName==="OPTGROUP"){const S=u.childNodes;for(const L of S)if(L.nodeName==="OPTION"){const D=L;D.selected=a.includes(D.id)}}if(u.nodeName==="OPTION"){const m=u;m.selected=a.includes(m.id)}}this.changeListen(!0)}setSelectedByValue(a){this.changeListen(!1);const f=this.select.childNodes;for(const u of f){if(u.nodeName==="OPTGROUP"){const S=u.childNodes;for(const L of S)if(L.nodeName==="OPTION"){const D=L;D.selected=a.includes(D.value)}}if(u.nodeName==="OPTION"){const m=u;m.selected=a.includes(m.value)}}this.changeListen(!0)}updateSelect(a,f,u){this.changeListen(!1),a&&(this.select.dataset.id=a),f&&(this.select.style.cssText=f),u&&(this.select.className="",u.forEach(m=>{m.trim()!==""&&this.select.classList.add(m.trim())})),this.changeListen(!0)}updateOptions(a){this.changeListen(!1),this.select.innerHTML="";for(const f of a)f instanceof c&&this.select.appendChild(this.createOptgroup(f)),f instanceof d&&this.select.appendChild(this.createOption(f));this.select.dispatchEvent(new Event("change",{bubbles:!0})),this.changeListen(!0)}createOptgroup(a){const f=document.createElement("optgroup");if(f.id=a.id,f.label=a.label,a.selectAll&&(f.dataset.selectAll="true"),a.closable!=="off"&&(f.dataset.closable=a.closable),a.options)for(const u of a.options)f.appendChild(this.createOption(u));return f}createOption(a){const f=document.createElement("option");return f.id=a.id,f.value=a.value,f.textContent=a.text,a.html!==""&&f.setAttribute("data-html",a.html),a.selected&&(f.selected=a.selected),a.disabled&&(f.disabled=!0),a.display||(f.style.display="none"),a.placeholder&&f.setAttribute("data-placeholder","true"),a.mandatory&&f.setAttribute("data-mandatory","true"),a.class&&a.class.split(" ").forEach(u=>{f.classList.add(u)}),a.data&&typeof a.data=="object"&&Object.keys(a.data).forEach(u=>{f.setAttribute("data-"+l(u),a.data[u])}),f}destroy(){this.changeListen(!1),this.select.removeEventListener("change",this.valueChange),this.observer&&(this.observer.disconnect(),this.observer=null),delete this.select.dataset.id,this.showUI()}}class k{constructor(a){this.id="",this.style="",this.class=[],this.isMultiple=!1,this.isOpen=!1,this.isFullOpen=!1,this.intervalMove=null,a||(a={}),this.id="ss-"+s(),this.style=a.style||"",this.class=a.class||[],this.disabled=a.disabled!==void 0?a.disabled:!1,this.alwaysOpen=a.alwaysOpen!==void 0?a.alwaysOpen:!1,this.showSearch=a.showSearch!==void 0?a.showSearch:!0,this.focusSearch=a.focusSearch!==void 0?a.focusSearch:!0,this.ariaLabel=a.ariaLabel||"Combobox",this.searchPlaceholder=a.searchPlaceholder||"Search",this.searchText=a.searchText||"No Results",this.searchingText=a.searchingText||"Searching...",this.searchHighlight=a.searchHighlight!==void 0?a.searchHighlight:!1,this.closeOnSelect=a.closeOnSelect!==void 0?a.closeOnSelect:!0,this.contentLocation=a.contentLocation||document.body,this.contentPosition=a.contentPosition||"absolute",this.openPosition=a.openPosition||"auto",this.placeholderText=a.placeholderText!==void 0?a.placeholderText:"Select Value",this.allowDeselect=a.allowDeselect!==void 0?a.allowDeselect:!1,this.hideSelected=a.hideSelected!==void 0?a.hideSelected:!1,this.keepOrder=a.keepOrder!==void 0?a.keepOrder:!1,this.showOptionTooltips=a.showOptionTooltips!==void 0?a.showOptionTooltips:!1,this.minSelected=a.minSelected||0,this.maxSelected=a.maxSelected||1e3,this.timeoutDelay=a.timeoutDelay||200,this.maxValuesShown=a.maxValuesShown||20,this.maxValuesMessage=a.maxValuesMessage||"{number} selected",this.addableText=a.addableText||'Press "Enter" to add {value}'}}class b{constructor(a){var f;if(this.events={search:void 0,searchFilter:(D,C)=>D.text.toLowerCase().indexOf(C.toLowerCase())!==-1,addable:void 0,beforeChange:void 0,afterChange:void 0,beforeOpen:void 0,afterOpen:void 0,beforeClose:void 0,afterClose:void 0},this.windowResize=o(()=>{!this.settings.isOpen&&!this.settings.isFullOpen||this.render.moveContent()}),this.windowScroll=o(()=>{!this.settings.isOpen&&!this.settings.isFullOpen||this.render.moveContent()}),this.documentClick=D=>{this.settings.isOpen&&D.target&&!i(D.target,this.settings.id)&&this.close(D.type)},this.windowVisibilityChange=()=>{document.hidden&&this.close()},this.selectEl=typeof a.select=="string"?document.querySelector(a.select):a.select,!this.selectEl){a.events&&a.events.error&&a.events.error(new Error("Could not find select element"));return}if(this.selectEl.tagName!=="SELECT"){a.events&&a.events.error&&a.events.error(new Error("Element isnt of type select"));return}this.selectEl.dataset.ssid&&this.destroy(),this.settings=new k(a.settings),this.cssClasses=new e(a.cssClasses);const u=["afterChange","beforeOpen","afterOpen","beforeClose","afterClose"];for(const D in a.events)a.events.hasOwnProperty(D)&&(u.indexOf(D)!==-1?this.events[D]=o(a.events[D],100):this.events[D]=a.events[D]);this.settings.disabled=!((f=a.settings)===null||f===void 0)&&f.disabled?a.settings.disabled:this.selectEl.disabled,this.settings.isMultiple=this.selectEl.multiple,this.settings.style=this.selectEl.style.cssText,this.settings.class=this.selectEl.className.split(" "),this.select=new y(this.selectEl),this.select.updateSelect(this.settings.id,this.settings.style,this.settings.class),this.select.hideUI(),this.select.onValueChange=D=>{this.setSelected(D.map(C=>C.id))},this.select.onClassChange=D=>{this.settings.class=D,this.render.updateClassStyles()},this.select.onDisabledChange=D=>{D?this.disable():this.enable()},this.select.onOptionsChange=D=>{this.setData(D)},this.store=new g(this.settings.isMultiple?"multiple":"single",a.data?a.data:this.select.getData()),a.data&&this.select.updateOptions(this.store.getData());const m={open:this.open.bind(this),close:this.close.bind(this),addable:this.events.addable?this.events.addable:void 0,setSelected:this.setSelected.bind(this),addOption:this.addOption.bind(this),search:this.search.bind(this),beforeChange:this.events.beforeChange,afterChange:this.events.afterChange};this.render=new v(this.settings,this.cssClasses,this.store,m),this.render.renderValues(),this.render.renderOptions(this.store.getData());const S=this.selectEl.getAttribute("aria-label"),L=this.selectEl.getAttribute("aria-labelledby");S?this.render.main.main.setAttribute("aria-label",S):L&&this.render.main.main.setAttribute("aria-labelledby",L),this.selectEl.parentNode&&this.selectEl.parentNode.insertBefore(this.render.main.main,this.selectEl.nextSibling),window.addEventListener("resize",this.windowResize,!1),this.settings.openPosition==="auto"&&window.addEventListener("scroll",this.windowScroll,!1),document.addEventListener("visibilitychange",this.windowVisibilityChange),this.settings.disabled&&this.disable(),this.settings.alwaysOpen&&this.open(),this.selectEl.slim=this}enable(){this.settings.disabled=!1,this.select.enable(),this.render.enable()}disable(){this.settings.disabled=!0,this.select.disable(),this.render.disable()}getData(){return this.store.getData()}setData(a){const f=this.store.getSelected(),u=this.store.validateDataArray(a);if(u){this.events.error&&this.events.error(u);return}this.store.setData(a);const m=this.store.getData();this.select.updateOptions(m),this.render.renderValues(),this.render.renderOptions(m),this.events.afterChange&&!r(f,this.store.getSelected())&&this.events.afterChange(this.store.getSelectedOptions())}getSelected(){let a=this.store.getSelectedOptions();return this.settings.keepOrder&&(a=this.store.selectedOrderOptions(a)),a.map(f=>f.value)}setSelected(a,f=!0){const u=this.store.getSelected(),m=this.store.getDataOptions();a=Array.isArray(a)?a:[a];const S=[];for(const D of a){if(m.find(C=>C.id==D)){S.push(D);continue}for(const C of m.filter(_=>_.value==D))S.push(C.id)}this.store.setSelectedBy("id",S);const L=this.store.getData();this.select.updateOptions(L),this.render.renderValues(),this.render.content.search.input.value!==""?this.search(this.render.content.search.input.value):this.render.renderOptions(L),f&&this.events.afterChange&&!r(u,this.store.getSelected())&&this.events.afterChange(this.store.getSelectedOptions())}addOption(a){const f=this.store.getSelected();this.store.getDataOptions().some(m=>{var S;return m.value===((S=a.value)!==null&&S!==void 0?S:a.text)})||this.store.addOption(a);const u=this.store.getData();this.select.updateOptions(u),this.render.renderValues(),this.render.renderOptions(u),this.events.afterChange&&!r(f,this.store.getSelected())&&this.events.afterChange(this.store.getSelectedOptions())}open(){this.settings.disabled||this.settings.isOpen||(this.events.beforeOpen&&this.events.beforeOpen(),this.render.open(),this.settings.showSearch&&this.settings.focusSearch&&this.render.searchFocus(),this.settings.isOpen=!0,setTimeout(()=>{this.events.afterOpen&&this.events.afterOpen(),this.settings.isOpen&&(this.settings.isFullOpen=!0),document.addEventListener("click",this.documentClick)},this.settings.timeoutDelay),this.settings.contentPosition==="absolute"&&(this.settings.intervalMove&&clearInterval(this.settings.intervalMove),this.settings.intervalMove=setInterval(this.render.moveContent.bind(this.render),500)))}close(a=null){!this.settings.isOpen||this.settings.alwaysOpen||(this.events.beforeClose&&this.events.beforeClose(),this.render.close(),this.render.content.search.input.value!==""&&this.search(""),this.render.mainFocus(a),this.settings.isOpen=!1,this.settings.isFullOpen=!1,setTimeout(()=>{this.events.afterClose&&this.events.afterClose(),document.removeEventListener("click",this.documentClick)},this.settings.timeoutDelay),this.settings.intervalMove&&clearInterval(this.settings.intervalMove))}search(a){if(this.render.content.search.input.value!==a&&(this.render.content.search.input.value=a),!this.events.search){this.render.renderOptions(a===""?this.store.getData():this.store.search(a,this.events.searchFilter));return}this.render.renderSearching();const f=this.events.search(a,this.store.getSelectedOptions());if(f instanceof Promise){f.then(u=>{this.render.renderOptions(this.store.partialToFullData(u))}).catch(u=>{this.render.renderError(typeof u=="string"?u:u.message)});return}else Array.isArray(f)?this.render.renderOptions(this.store.partialToFullData(f)):this.render.renderError("Search event must return a promise or an array of data")}destroy(){document.removeEventListener("click",this.documentClick),window.removeEventListener("resize",this.windowResize,!1),this.settings.openPosition==="auto"&&window.removeEventListener("scroll",this.windowScroll,!1),document.removeEventListener("visibilitychange",this.windowVisibilityChange),this.store.setData([]),this.render.destroy(),this.select.destroy()}}return b})}(Et)),Et.exports}var $d=Rd();const Hd=Pd($d);window.TomSelect=oe;window.SlimSelect=Hd;
